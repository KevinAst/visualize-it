!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(e,t,n){e.$$.on_destroy.push(s(t,n))}function i(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function f(){return d(" ")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.data!==t&&(e.data=t)}let h;function b(e){h=e}const y=[],P=[],C=[],k=[],S=Promise.resolve();let E=!1;function v(e){C.push(e)}let I=!1;const w=new Set;function x(){if(!I){I=!0;do{for(let e=0;e<y.length;e+=1){const t=y[e];b(t),M(t.$$)}for(y.length=0;P.length;)P.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];w.has(t)||(w.add(t),t())}C.length=0}while(y.length);for(;k.length;)k.pop()();E=!1,I=!1,w.clear()}}function M(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(v)}}const _=new Set;function A(e,t){e&&e.i&&(_.delete(e),e.i(t))}function N(e,t,n,r){if(e&&e.o){if(_.has(e))return;_.add(e),(void 0).c.push(()=>{_.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function T(e){e&&e.c()}function B(e,n,c){const{fragment:s,on_mount:a,on_destroy:i,after_update:u}=e.$$;s&&s.m(n,c),v(()=>{const n=a.map(t).filter(o);i?i.push(...n):r(n),e.$$.on_mount=[]}),u.forEach(v)}function R(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function O(e,t){-1===e.$$.dirty[0]&&(y.push(e),E||(E=!0,S.then(x)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function D(t,o,c,s,a,i,u=[-1]){const g=h;b(t);const l=o.props||{},d=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:[]),callbacks:n(),dirty:u};let f=!1;d.ctx=c?c(t,l,(e,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=o)&&(d.bound[e]&&d.bound[e](o),f&&O(t,e)),n}):[],d.update(),f=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),o.target&&(o.hydrate?d.fragment&&d.fragment.l(function(e){return Array.from(e.childNodes)}(o.target)):d.fragment&&d.fragment.c(),o.intro&&A(t.$$.fragment),B(t,o.target,o.anchor),x()),b(g)}class j{$destroy(){R(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const q=[];function H(t,n=e){let r;const o=[];function s(e){if(c(t,e)&&(t=e,r)){const e=!q.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),q.push(n,t)}if(e){for(let e=0;e<q.length;e+=2)q[e][0](q[e+1]);q.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(c,a=e){const i=[c,a];return o.push(i),1===o.length&&(r=n(s)||e),c(t),()=>{const e=o.indexOf(i);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function L(t,n,c){const a=!Array.isArray(t),i=a?[t]:t,u=n.length<2;return{subscribe:H(c,t=>{let c=!1;const g=[];let l=0,d=e;const f=()=>{if(l)return;d();const r=n(a?g[0]:g,t);u?t(r):d=o(r)?r:e},m=i.map((e,t)=>s(e,e=>{g[t]=e,l&=~(1<<t),c&&f()},()=>{l|=1<<t}));return c=!0,f(),function(){r(m),d()}}).subscribe}}const V=new class{constructor(){this.ePkgStores={},this.ePkgInSyncStores={},this.ePkgDispModeStores={}}registerEPkgStore(e){const t=H({crc:e.getCrc(),baseCrc:e.getBaseCrc(),dispMode:"view",undoAvail:!1,redoAvail:!1});this.ePkgStores[e.getEPkgId()]={subscribe:t.subscribe,crcChanged:(e,n)=>t.update(t=>({...t,crc:e,baseCrc:n})),dispModeChanged:e=>t.update(t=>({...t,dispMode:e})),undoRedoChanged:(e,n)=>t.update(t=>({...t,undoAvail:e,redoAvail:n})),isInSync:()=>{const e=function(e){let t;return s(e,e=>t=e)(),t}(t);return e.crc===e.baseCrc}},this.ePkgInSyncStores[e.getEPkgId()]=L(t,e=>e.crc===e.baseCrc),this.ePkgDispModeStores[e.getEPkgId()]=L(t,e=>e.dispMode)}getEPkgStore(e){return this.ePkgStores[e]}getEPkgInSyncStore(e){return this.ePkgInSyncStores[e]}getEPkgDispModeStore(e){return this.ePkgDispModeStores[e]}};var U=Object.prototype.toString,W=Array.isArray;var K=function(e){return"string"==typeof e||!W(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==U.call(e)};function z(t){let n,r,o,c;return{c(){n=l("div"),r=d("Here we are in SomeComp with myParm of: "),o=d(t[0]),c=d("!")},m(e,t){u(e,n,t),i(n,r),i(n,o),i(n,c)},p(e,[t]){1&t&&$(o,e[0])},i:e,o:e,d(e){e&&g(n)}}}function F(e,t,n){let{myParam:r="This is a test"}=t;if(!K(r)){const e=`***ERROR*** <SomeComp> myParam MUST be a string, NOT: ${r}`;console.log(e)}return e.$set=e=>{"myParam"in e&&n(0,r=e.myParam)},[r]}class G extends j{constructor(e){super(),D(this,e,F,z,c,{myParam:0})}}function J(t){let n,r,o,c,s=(console.log(`regen tabLabel for ePkgId: ${t[1]}`)||t[0])+"";return{c(){n=l("p"),r=d("Tab for ePkg: "),o=d(s),c=d(" (see logs for when label actuall re-renders)")},m(e,t){u(e,n,t),i(n,r),i(n,o),i(n,c)},p(e,[t]){1&t&&s!==(s=(console.log(`regen tabLabel for ePkgId: ${e[1]}`)||e[0])+"")&&$(o,s)},i:e,o:e,d(e){e&&g(n)}}}function Q(e,t,n){let r,{ePkg:o}=t;if(!o)throw new Error("***ERROR*** <Tab> ePkg prop MUST be supplied!");const c=o.getEPkgId(),s=V.getEPkgInSyncStore(c);let i;return a(e,s,e=>n(4,r=e)),e.$set=e=>{"ePkg"in e&&n(3,o=e.ePkg)},e.$$.update=()=>{16&e.$$.dirty&&n(0,i=`${c+(r?"":" **")}`)},[i,c,s,o]}class X extends j{constructor(e){super(),D(this,e,Q,J,c,{ePkg:3})}}function Y(t){let n,r,o,c,s,a,m,p,h,b=(console.log(`regen id: ${t[0].getId()}`)||t[0].getId())+"",y=(console.log(`regen name: ${t[0].getName()}`)||t[0].getName())+"";return{c(){n=l("div"),r=l("p"),o=d("Here we are in VitReactive with myComp of ID: "),c=d(b),s=d("!\r\n    With a name of: "),a=d(y),m=d(" :-)"),p=f(),h=l("p"),h.textContent=`\n    Here is a local myVar: ${console.log(`regen myVar: ${Z}`)||Z} :-)\n  `},m(e,t){u(e,n,t),i(n,r),i(r,o),i(r,c),i(r,s),i(r,a),i(r,m),i(n,p),i(n,h)},p(e,[t]){1&t&&b!==(b=(console.log(`regen id: ${e[0].getId()}`)||e[0].getId())+"")&&$(c,b),1&t&&y!==(y=(console.log(`regen name: ${e[0].getName()}`)||e[0].getName())+"")&&$(a,y)},i:e,o:e,d(e){e&&g(n)}}}const Z="My Variable";function ee(e,t,n){let{myComp:r}=t;return e.$set=e=>{"myComp"in e&&n(0,r=e.myComp)},[r]}class te extends j{constructor(e){super(),D(this,e,ee,Y,c,{myComp:0})}}function ne(e){let t,n,o,c,s,a,h,b,y,P,C,k,S,E,v,I,w,x,M,_,O,D,j,q,H,L,V,U,W,K,z,F,J,Q,Y,Z,ee,ne,ce,se,ae,ie,ue,ge,le=e[1].crc+"",de=e[1].baseCrc+"",fe=e[1].dispMode+"",me=e[3].crc+"",pe=e[3].baseCrc+"",$e=e[3].dispMode+"";const he=new G({props:{myParam:"Testing 1 2 3"}}),be=new G({props:{myParam:new Date}}),ye=new G({props:{myParam:"We are finished testing SomeComp"}}),Pe=new te({props:{myComp:e[5]}}),Ce=new X({props:{ePkg:re}}),ke=new X({props:{ePkg:oe}});return{c(){t=l("main"),n=l("h1"),o=d("Hello "),c=d(e[0]),s=d("!"),a=f(),h=l("p"),h.innerHTML='Visit the <a href="https://svelte.dev/tutorial">Svelte tutorial</a> to learn how to build Svelte apps.',b=f(),T(he.$$.fragment),y=f(),T(be.$$.fragment),P=f(),T(ye.$$.fragment),C=f(),T(Pe.$$.fragment),k=f(),S=l("div"),E=l("p"),v=d("ePkgStore1: crc: "),I=d(le),w=d(", baseCrc: "),x=d(de),M=d(", dispMode: "),_=d(fe),O=f(),D=l("button"),D.textContent="Change EPkg1",j=f(),q=l("button"),q.textContent="Undo EPkg1",H=d("\n\n      \n      inSync: "),L=d(e[2]),V=f(),U=l("p"),W=d("ePkgStore2: crc: "),K=d(me),z=d(", baseCrc: "),F=d(pe),J=d(", dispMode: "),Q=d($e),Y=f(),Z=l("button"),Z.textContent="Change EPkg2",ee=f(),ne=l("button"),ne.textContent="Undo EPkg2",ce=d("\n      inSync: "),se=d(e[4]),ae=f(),T(Ce.$$.fragment),ie=f(),T(ke.$$.fragment),p(n,"class","svelte-1llfqqt"),p(t,"class","svelte-1llfqqt")},m(r,g){u(r,t,g),i(t,n),i(n,o),i(n,c),i(n,s),i(t,a),i(t,h),i(t,b),B(he,t,null),i(t,y),B(be,t,null),i(t,P),B(ye,t,null),i(t,C),B(Pe,t,null),i(t,k),i(t,S),i(S,E),i(E,v),i(E,I),i(E,w),i(E,x),i(E,M),i(E,_),i(E,O),i(E,D),i(E,j),i(E,q),i(E,H),i(E,L),i(S,V),i(S,U),i(U,W),i(U,K),i(U,z),i(U,F),i(U,J),i(U,Q),i(U,Y),i(U,Z),i(U,ee),i(U,ne),i(U,ce),i(U,se),i(S,ae),B(Ce,S,null),i(S,ie),B(ke,S,null),ue=!0,ge=[m(D,"click",e[10]),m(q,"click",e[11]),m(Z,"click",e[12]),m(ne,"click",e[13])]},p(e,[t]){(!ue||1&t)&&$(c,e[0]),(!ue||2&t)&&le!==(le=e[1].crc+"")&&$(I,le),(!ue||2&t)&&de!==(de=e[1].baseCrc+"")&&$(x,de),(!ue||2&t)&&fe!==(fe=e[1].dispMode+"")&&$(_,fe),(!ue||4&t)&&$(L,e[2]),(!ue||8&t)&&me!==(me=e[3].crc+"")&&$(K,me),(!ue||8&t)&&pe!==(pe=e[3].baseCrc+"")&&$(F,pe),(!ue||8&t)&&$e!==($e=e[3].dispMode+"")&&$(Q,$e),(!ue||16&t)&&$(se,e[4]);const n={};0&t&&(n.ePkg=re),Ce.$set(n);const r={};0&t&&(r.ePkg=oe),ke.$set(r)},i(e){ue||(A(he.$$.fragment,e),A(be.$$.fragment,e),A(ye.$$.fragment,e),A(Pe.$$.fragment,e),A(Ce.$$.fragment,e),A(ke.$$.fragment,e),ue=!0)},o(e){N(he.$$.fragment,e),N(be.$$.fragment,e),N(ye.$$.fragment,e),N(Pe.$$.fragment,e),N(Ce.$$.fragment,e),N(ke.$$.fragment,e),ue=!1},d(e){e&&g(t),R(he),R(be),R(ye),R(Pe),R(Ce),R(ke),r(ge)}}}const re={getEPkgId:()=>"111",crc:111000001,getCrc(){return this.crc},baseCrc:111000001,getBaseCrc(){return this.baseCrc}},oe={getEPkgId:()=>"222",crc:222000001,getCrc(){return this.crc},baseCrc:222000001,getBaseCrc(){return this.baseCrc}};function ce(e,t,n){let r,o,c,s,{name:i}=t;const u={id:123,getId(){return this.id},setId(e){this.id=e},name:"Kevin",getName(){return this.name}},g=V.getEPkgStore("111");a(e,g,e=>n(1,r=e));const l=V.getEPkgStore("222");a(e,l,e=>n(3,c=e));const d=V.getEPkgInSyncStore("111");a(e,d,e=>n(2,o=e));const f=V.getEPkgInSyncStore("222");a(e,f,e=>n(4,s=e));return e.$set=e=>{"name"in e&&n(0,i=e.name)},[i,r,o,c,s,u,g,l,d,f,()=>{re.crc++,g.crcChanged(re.getCrc(),re.getBaseCrc())},()=>{re.crc--,g.crcChanged(re.getCrc(),re.getBaseCrc())},()=>{oe.crc++,l.crcChanged(oe.getCrc(),oe.getBaseCrc())},()=>{oe.crc--,l.crcChanged(oe.getCrc(),oe.getBaseCrc())}]}V.registerEPkgStore(re),V.registerEPkgStore(oe);new class extends j{constructor(e){super(),D(this,e,ce,ne,c,{name:0})}}({target:document.body,props:{name:"Worlds"}})}();
//# sourceMappingURL=bundle.js.map
