(this["webpackJsonpvisualize-it"]=this["webpackJsonpvisualize-it"]||[]).push([[0],{255:function(e,t,a){e.exports=a(373)},256:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var a=Error.prototype.toString;Error.prototype.toString=function(){return a.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},373:function(e,t,a){"use strict";a.r(t);a(256);var n=a(20),r=a(2),i=a(10),o=a(9),c=a(25),s=a(14),l=a(39),u=a(26),m=a(6),d=a(27);function f(e,t){if(!e)throw new Error(t)}f.prefix=function(e){return function(t,a){return f(t,e+a)}};a(189);var g=a(34),p=a.n(g),b=a(190),h=a.n(b),v=a(50),O=a.n(v),y=a(44),j=a.n(y),E=(a(82),p.a);function w(e){return"number"===typeof e}function k(e,t,a){var n=Object.keys(t);e(0===n.length,"unrecognized named parameter(s): ".concat(n)),e(a.length<=1,"unrecognized positional parameters (only named parameters can be specified) ... ".concat(a.length," arguments were supplied"))}var N=a(66),S=a.n(N),C=a(101),T=function(){function e(){Object(i.a)(this,e),this.pkgCatalog={}}return Object(o.a)(e,[{key:"loadPkg",value:function(){var e=Object(C.a)(S.a.mark((function e(t){var a,n,r,i,o,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.prefix("".concat(this.constructor.unmangledName,".loadPkg() parameter violation: ")),!t){e.next=6;break}a(t,'currently only handles "interactive file picker dialog" ... do NOT know how to handle a pkgResourcePath param yet :-('),a(123===t,"pkgResourcePath (when supplied) must be a YetUnknown"),e.next=8;break;case 6:if(window.chooseFileSystemEntries){e.next=8;break}throw new Error("***ERROR*** ".concat(this.constructor.unmangledName,'.loadPkg() the "Native File System API TRIAL" is NOT available in this environment :-(')).defineAttemptingToMsg("use the interactive file picker dialog");case 8:if(n=null,!t){e.next=12;break}e.next=23;break;case 12:return e.prev=12,e.next=15,window.chooseFileSystemEntries();case 15:n=e.sent,e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(12),"The user aborted a request."!==e.t0.message){e.next=22;break}return e.abrupt("return");case 22:throw e.t0.defineAttemptingToMsg("use the file picker dialog");case 23:return e.next=25,n.getFile();case 25:return r=e.sent,e.next=28,r.text();case 28:i=e.sent,o=null,e.prev=30,o=JSON.parse(i),e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(30),new Error("INVALID JSON - ".concat(e.t1.message)).defineUserMsg("Please select a valid visualize-it package");case 37:return c=L.fromSmartJSON(o),this.registerPkg(c),e.abrupt("return",c);case 40:case"end":return e.stop()}}),e,this,[[12,18],[30,34]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerPkg",value:function(e){var t=f.prefix("".concat(this.constructor.unmangledName,".registerPkg() parameter violation: "));t(e,"smartPkg is required"),t(e instanceof L,"smartPkg must be a SmartPkg instance");var a=e.getPkgName();if(this.pkgCatalog[a])throw new Error("***ERROR*** ".concat(this.constructor.unmangledName,".registerPkg() pkgName: ").concat(a," is already registered :-(")).defineUserMsg("The visualize-it '".concat(a,"' package is already loaded"));this.pkgCatalog[a]=e}},{key:"getPackage",value:function(e){var t=f.prefix("PkgManager.getPackage() parameter violation: ");return t(e,"pkgName is required"),t(j()(e),"pkgName must be a string"),this.pkgCatalog[e]}},{key:"getClassRef",value:function(e,t){var a=f.prefix("PkgManager.getClassRef() parameter violation: ");a(e,"pkgName is required"),a(j()(e),"pkgName must be a string"),a(t,"className is required"),a(j()(t),"className must be a string");var n=this.pkgCatalog[e];if(!n)throw new Error("***ERROR*** PkgManager.getClassRef(pkgName:".concat(e,", className:").concat(t,") package is NOT cataloged ... did you forget to load a dependent package?")).defineUserMsg("The '".concat(e,"/").concat(t,"' class has been referenced, but the '").concat(e,"' package has NOT been loaded ... did you forget to load this dependent package?"));var r=n.getClassRef(t);if(!r)throw new Error("***ERROR*** PkgManager.getClassRef(pkgName:".concat(e,", className:").concat(t,") class NOT in package :-("));return r}},{key:"getEntry",value:function(e,t){var a=f.prefix("PkgManager.getEntry() parameter violation: ");a(e,"pkgName is required"),a(j()(e),"pkgName must be a string"),a(t,"entryId is required"),a(j()(t),"entryId must be a string");var n=this.pkgCatalog[e];if(n)return n.getEntry(t)}}]),e}();T.unmangledName="PkgManager";var x=new T,M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=void 0===a?"TYPE":a,o=t.name,c=void 0===o?"the MASTER pseudoClass definition of type: ... see container.id":o,s=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var l=f.prefix("PseudoClass() constructor parameter violation: ");l(n,"id is required"),l(j()(n),"id must be a string"),l(c,"name is required"),l(j()(c),"name must be a string"),k(l,s,arguments),this.id=n,this.name=c||n}return Object(o.a)(e,[{key:"isType",value:function(){return"TYPE"===this.id}},{key:"isInstance",value:function(){return!this.isType()}}],[{key:"isPseudoClassMaster",value:function(e){return e.pseudoClass&&e.pseudoClass.isType()}},{key:"getClassName",value:function(e){var t=f.prefix("PseudoClass.getClassName() parameter violation: ");return t(e,"clazz is required"),this.isPseudoClassMaster(e)?e.id:E(e)?e.unmangledName||e.name:void t(!1,"clazz must be a real class or a pseudoClass MASTER")}}]),e}();M.unmangledName="PseudoClass";var R=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),t}(a(222).Enumify);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}R.view=new R,R.edit=new R,R.animate=new R,R._=R.closeEnum();var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=t.name,o=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var c=f.prefix("".concat(this.diagClassName(),"(id:'").concat(a,"', name:'").concat(n,"') constructor parameter violation: "));c(a,"id is required"),c(j()(a),"id must be a string"),n&&c(j()(n),"name (when supplied) must be a string"),k(c,o,arguments),this.id=a,this.name=n||a,this.dispMode=R.view}return Object(o.a)(e,[{key:"getDispMode",value:function(){return this.dispMode}},{key:"setDispMode",value:function(e){var t=f.prefix("".concat(this.diagClassName(),".setDispMode() parameter violation: "));if(t(e,"dispMode is required"),t(e instanceof R,"dispMode must be a DispMode type"),t(this.canHandleDispMode(e),"does NOT support ".concat(e," :-(")),this.dispMode=e,e===R.view)this.enableViewMode();else if(e===R.edit)this.enableViewMode(),this.enableEditMode();else{if(e!==R.animate)throw new Error("***ERROR*** ".concat(this.diagClassName(),".setDispMode() [id:").concat(this.id,"]: unrecognized dispMode: ").concat(e,"!"));this.enableViewMode(),this.enableAnimateMode()}}},{key:"canHandleDispMode",value:function(e){return!0}},{key:"enableViewMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableViewMode() is an abstract method that MUST BE implemented!"))}},{key:"enableEditMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableEditMode() is an abstract method that MUST BE implemented!"))}},{key:"enableAnimateMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableAnimateMode() is an abstract method that MUST BE implemented!"))}},{key:"toSmartJSON",value:function(){var t=this,a=this.getClassRef(),n={smartType:a.getClassName(),smartPkg:a.getClassPkgName()};return M.isPseudoClassMaster(this)&&(n.isPseudoClassMaster=!0),this.getEncodingProps().forEach((function(a){n[a]=function t(a){if(a){if(Array.isArray(a))return a.map((function(e){return t(e)}));if(h()(a)){if(a instanceof e)return a.toSmartJSON();if(O()(a))return Object.entries(a).reduce((function(e,a){var n=Object(d.a)(a,2),r=n[0],i=n[1];return e[r]=t(i),e}),{});throw new Error("***ERROR*** SmartModel.toSmartJSON() processing ref object of type ".concat(a.constructor.name," is NOT supported ... only SmartModel derivations support the smartJSON format :-("))}return a}return a}(t[a])})),n}},{key:"getClassRef",value:function(){var e=f.prefix("".concat(this.constructor.name,".getClassRef() id:'").concat(this.id,"', name:'").concat(this.name,"') ... "));if(this.pseudoClass&&this.pseudoClass.isInstance()){var t=this.pseudoClass.pseudoClassMaster;e(t,"this pseudoClass instance has NO pseudoClassMaster reference ... you must create it with SmartClassRef.createSmartObject()");var a=t.smartClassRef;return e(a,"this pseudoClass instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),a}var n=this.constructor.smartClassRef;return e(n,"this real class instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),n}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}},{key:"getEncodingProps",value:function(){return["id","name"]}},{key:"smartClone",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.getEncodingProps(),n={};a.forEach((function(a){var r=e[a],i=void 0;if(t[a])i="placeholder";else if(r.smartClone)i=r.smartClone();else if(Array.isArray(r))i=r.map((function(e){return e.smartClone?e.smartClone():e}));else if(h()(r)){if(!O()(r))throw new Error("***ERROR*** SmartModel.smartClone() processing self object of type ".concat(e.diagClassName(),", whose member object of type ").concat(r.constructor.name," is NOT supported ... do NOT know how to clone this member :-("));i=Object.entries(r).reduce((function(e,t){var a=Object(d.a)(t,2),n=a[0],r=a[1];return e[n]=r.smartClone?r.smartClone():r,e}),{})}else i=r;n[a]=i}));var r=P({},n,{},t),i=new this.constructor(r);return i}}],[{key:"fromSmartJSON",value:function(t,a){if(!t)return t;if(Array.isArray(t))return t.map((function(t){return e.fromSmartJSON(t,a)}));if(O()(t)){if(t.smartType){var n={};for(var r in t){var i=t[r];"smartType"!==r&&"smartPkg"!==r&&"isPseudoClassMaster"!==r&&(n[r]=e.fromSmartJSON(i,a))}return function(e,t){var a=e.smartPkg,n=e.smartType,r=null;if(t&&(r=t(a,n)))return r;try{r=x.getClassRef(a,n)}catch(i){throw console.log("***ERROR*** SmartModel.fromSmartJSON() could not resolve pkgName: ".concat(a," / className: ").concat(n," \n... smartJSON: ").concat(JSON.stringify(e,null,2))),i.defineAttemptingToMsg("hydrate smartObj (see logs for smartJson)")}return r}(t,a).createSmartObject(n)}return Object.entries(t).reduce((function(t,n){var r=Object(d.a)(n,2),i=r[0],o=r[1];return t[i]=e.fromSmartJSON(o,a),t}),{})}return t}}]),e}();function D(e){var t=f.prefix("createLogger() parameter violation: ");t(e,"prefix is required"),t(j()(e),"prefix must be a string");var a=!1,n=function e(t,n){a&&e.force(t,n)};return n.force=function(t,a){t=e+t,a?console.log(t,a):console.log(t)},n.isEnabled=function(){return a},n.enable=function(){return a=!0,n("enabling logging"),n},n.disable=function(){return n("disabling logging"),a=!1,n},n}A.unmangledName="SmartModel";var z=D("***DIAG*** SmartClassRef:").disable(),U=function(){function e(t,a){Object(i.a)(this,e);var n=f.prefix("SmartClassRef() constructor parameter violation: ");n(t,"classRef is required"),n(a,"pkgName is required"),n(j()(a),"pkgName must be a string"),E(t)?(this.realClass=t,n(t.hasOwnProperty("unmangledName"),"real class ".concat(t.name,' MUST have an "unmangledName" property (supporting persistence in obfuscated production build)'))):t.pseudoClass&&t.pseudoClass.isType()?this.pseudoClassContainer=t:n(!1,"classRef must be a real class -or- pseudoClass"),this.pkgName=a}return Object(o.a)(e,[{key:"getClassName",value:function(){return this.pseudoClassContainer?this.pseudoClassContainer.id:this.realClass.unmangledName||this.realClass.name}},{key:"getClassPkgName",value:function(){return this.pkgName}},{key:"getFullClassName",value:function(){return"".concat(this.getClassPkgName(),"/").concat(this.getClassName())}},{key:"createSmartObject",value:function(e){var t=null,a="";if(this.realClass)a="real",t=new this.realClass(e);else{a="pseudo";var n=this.pseudoClassContainer;(t=n.smartClone(e)).pseudoClass.id=n.id,t.pseudoClass.name="a pseudoClass instance of type: '".concat(n.id,"'"),t.pseudoClass.pseudoClassMaster=n}return z("createSmartObject() created new object from ".concat(a," class: '").concat(this.getFullClassName(),"' ... using namedParams: "),{namedParams:e,newObj:t}),t}}]),e}(),L=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.entries,u=void 0===l?{}:l,m=Object(r.a)(a,["id","name","entries"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(s.a)(t).call(this,{id:n,name:o}));var d=f.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return d(u,"entries is required"),d(O()(u),"entries must be a plain object (with depth)"),k(d,m,arguments),e.entries=u,e.initializeCatalogs(e.entries),e.adornContainedClasses(),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(s.a)(t.prototype),"getEncodingProps",this).call(this)),["entries"])}},{key:"getPkgName",value:function(){return this.id}},{key:"getPkgDesc",value:function(){return this.name}},{key:"initializeCatalogs",value:function(e){var t=this;if(e===this.entries&&(this._classRefCatalog={},this._entryCatalog={}),O()(e))for(var a in e){var n=e[a];this.initializeCatalogs(n)}else{if(!Array.isArray(e)){var r="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED entry ... must be a plain directory object or an array of smartObjs ... see logs for entry";throw console.error(r,{entry:e}),new Error(r)}e.forEach((function(e){if(e instanceof A){var a=e;if(M.isPseudoClassMaster(a)){var n=M.getClassName(a);t._classRefCatalog[n]=a}t._entryCatalog[a.id]=a}else if(E(e)){var r=e,i=M.getClassName(r);t._classRefCatalog[i]=r}else{if(!O()(e)){var o="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED array entry ... must be a smartObj or class or plain nested directory object ... see logs for entry";throw console.error(o,{arrItem:e}),new Error(o)}t.initializeCatalogs(e)}}))}}},{key:"adornContainedClasses",value:function(){var e=this;Object.values(this._classRefCatalog).forEach((function(t){t.smartClassRef=new U(t,e.getPkgName())}))}},{key:"getClassRef",value:function(e){return 0===arguments.length?Object(l.a)(Object(s.a)(t.prototype),"getClassRef",this).call(this):this._classRefCatalog[e].smartClassRef}},{key:"getEntry",value:function(e){return this._entryCatalog[e]}}],[{key:"fromSmartJSON",value:function(e){var t=f.prefix("SmartPkg.fromSmartJSON(smartJSON) parameter violation: ");t(e,"smartJSON is required"),t(O()(e),"smartJSON must be a JSON object"),t("SmartPkg"===e.smartType,"smartJSON does NOT represent a SmartPkg object, rather a ".concat(e.smartType," object."));var a={},n=e.id;!function t(r){if(O()(r)){if(r.smartType){if(r.isPseudoClassMaster){var i=A.fromSmartJSON(r);return i.smartClassRef=new U(i,n),a[i.id]=i,i}return r}for(var o in r){var c=t(r[o]);r[o]=c}return r}if(Array.isArray(r)){for(var s=0;s<r.length;s++){var l=t(r[s]);r[s]=l}return r}return E(r)?(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (class) ... ",{jsonEntry:r,smartJSON:e}),r):(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (primitive) ... ",{jsonEntry:r,smartJSON:e}),r)}(e.entries);try{return A.fromSmartJSON(e,(function(e,t){var r=e===n?a[t]:void 0;return r?r.smartClassRef:void 0}))}catch(r){throw r.defineAttemptingToMsg("hydrate SmartPkg '".concat(n,"'"))}}}]),t}(A);L.unmangledName="SmartPkg";var V=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=Object(r.a)(a,["id","name"]);return Object(i.a)(this,t),e=Object(c.a)(this,Object(s.a)(t).call(this,{id:n,name:o})),k(f.prefix("SmartScene() constructor parameter violation: "),l,arguments),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e,t){throw new Error("***ERROR*** SmartScene pseudo-interface-violation: ".concat(this.diagClassName(),"(id:").concat(this.id,").mount() is an abstract method that MUST BE implemented!"))}},{key:"size",value:function(e){throw new Error("***ERROR*** SmartScene pseudo-interface-violation: ".concat(this.diagClassName(),"(id:").concat(this.id,").size() is an abstract method that MUST BE implemented!"))}},{key:"draggable",value:function(e){throw new Error("***ERROR*** SmartScene pseudo-interface-violation: ".concat(this.diagClassName(),"(id:").concat(this.id,").draggable() is an abstract method that MUST BE implemented!"))}}]),t}(A);V.unmangledName="SmartScene";var q=a(42),J=a.n(q);var _=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.comps,u=a.x,m=void 0===u?0:u,d=a.y,g=void 0===d?0:d,p=a._size,b=a.width,h=a.height,v=Object(r.a)(a,["id","name","comps","x","y","_size","width","height"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(s.a)(t).call(this,{id:n,name:o}));var O=f.prefix("".concat(e.diagClassName(),"() constructor parameter violation: "));return O(l,"comps is required"),O(Array.isArray(l),"comps must be a SmartComp[] array"),O(Number.isInteger(m),"x must be an integer (when supplied), NOT: ".concat(m)),O(m>=0,"x must be >=0 (when supplied), NOT: ".concat(m)),O(Number.isInteger(g),"y must be an integer (when supplied), NOT: ".concat(g)),O(g>=0,"y must be >=0 (when supplied), NOT: ".concat(g)),p&&(b=p.width,h=p.height),O(b,"width is required"),O(Number.isInteger(b),"width must be an integer, NOT: ".concat(b)),O(b>0,"width must be a positive integer, NOT: ".concat(b)),O(h,"height is required"),O(Number.isInteger(h),"height must be an integer, NOT: ".concat(h)),O(h>0,"height must be a positive integer, NOT: ".concat(h)),k(O,v,arguments),e.pseudoClass=new M,e.x=m,e.y=g,e._size={width:b,height:h},e.comps=l,e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return this.pseudoClass.isType()?[].concat(Object(n.a)(Object(l.a)(Object(s.a)(t.prototype),"getEncodingProps",this).call(this)),["x","y","_size","comps"]):[].concat(Object(n.a)(Object(l.a)(Object(s.a)(t.prototype),"getEncodingProps",this).call(this)),["x","y","_size"])}},{key:"enableViewMode",value:function(){this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!1)})),this.konvaSceneLayer.off("dragend"),this.containingKonvaStage.off("click tap"),this.containingKonvaStage.find("Transformer").destroy(),this.konvaSceneLayer.getChildren().each((function(e,t){return e.off("transformend")})),this.konvaSceneLayer.draw()}},{key:"enableEditMode",value:function(){var e=this;this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!0)})),this.konvaSceneLayer.on("dragend",(function(t){var a=e.comps.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y()})),this.containingKonvaStage.on("click tap",(function(t){if(t.target===e.containingKonvaStage)return e.containingKonvaStage.find("Transformer").destroy(),void e.konvaSceneLayer.draw();e.containingKonvaStage.find("Transformer").destroy();var a=function e(t){var a=t.getParent();return"Layer"===a.getClassName()?t:e(a)}(t.target),n=new J.a.Transformer;e.konvaSceneLayer.add(n),n.attachTo(a),e.konvaSceneLayer.draw(),a.on("transformend",(function(t){var a=e.comps.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y(),a.rotation=t.target.rotation(),a.scaleX=t.target.scaleX(),a.scaleY=t.target.scaleY()}))}))}},{key:"enableAnimateMode",value:function(){}},{key:"checkMounted",value:function(e){f(this.konvaSceneLayer,"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"mount",value:function(e,t){var a=this;this.containingKonvaStage=e,this.konvaSceneLayer=new J.a.Layer({id:this.id,x:this.x,y:this.y}),this.comps.forEach((function(e){return e.mount(a.konvaSceneLayer)})),e.add(this.konvaSceneLayer)}},{key:"size",value:function(e){return void 0===e?this._size:(this._size={width:e.width,height:e.height},this)}},{key:"draggable",value:function(e){return this.checkMounted("draggable"),void 0===e?this.konvaSceneLayer.draggable():(this.konvaSceneLayer.draggable(e),this)}}]),t}(V);_.unmangledName="Scene";var K=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.scenes,u=Object(r.a)(a,["id","name","scenes"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(s.a)(t).call(this,{id:n,name:o}));var m=f.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(l,"scenes is required"),m(Array.isArray(l),"scenes must be an Scene[] array"),l.forEach((function(e,t){m(e instanceof _,"scenes[".concat(t,"] must be a Scene instance"))})),k(m,u,arguments),e.scenes=l,e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(s.a)(t.prototype),"getEncodingProps",this).call(this)),["scenes"])}},{key:"enableViewMode",value:function(){this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!1)})),this.containingKonvaStage.off("dragend")}},{key:"enableEditMode",value:function(){var e=this;this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!0)})),this.containingKonvaStage.on("dragend",(function(t){var a=e.scenes.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y();var n=e.size();e.containingKonvaStage.size(n),e.containingKonvaStage.draw(),e.containingHtmlElm.style.width="".concat(n.width,"px"),e.containingHtmlElm.style.height="".concat(n.height,"px")}))}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e,t){this.containingKonvaStage=e,this.containingHtmlElm=t,this.scenes.forEach((function(t){return t.mount(e)}))}},{key:"size",value:function(e){return f(void 0===e,"***ERROR*** ".concat(this.diagClassName(),".size() can only be invoked as a getter (with no params) ... size is mastered in the scene, AND derived in the collage.")),this.scenes.reduce((function(e,t){var a=t.size();return e.width=Math.max(e.width,t.x+a.width),e.height=Math.max(e.height,t.y+a.height),e}),{width:0,height:0})}},{key:"draggable",value:function(e){return void 0===e?this.scenes[0].draggable():(this.scenes.forEach((function(t){return t.draggable(e)})),this)}}]),t}(V);K.unmangledName="Collage";var B=D("***DIAG*** <SmartView> ... ").enable(),F=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.scene,u=Object(r.a)(a,["id","name","scene"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(s.a)(t).call(this,{id:n,name:o}));var m=f.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(l,"scene is required"),m(l instanceof V,"scene must be a SmartScene instance"),k(m,u,arguments),e.scene=l,e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(s.a)(t.prototype),"getEncodingProps",this).call(this)),["scene"])}},{key:"checkMounted",value:function(e){f(this.konvaStage,"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"size",value:function(e){return f(void 0===e,"***ERROR*** ".concat(this.diagClassName(),".size() can only be invoked as a getter (with no params) ... size is mastered in the scene, AND derived in the view.")),this.scene.size()}},{key:"draggableScene",value:function(e){return void 0===e?this.scene.draggable():(this.scene.draggable(e),this)}},{key:"mount",value:function(e){B("mounting SmartView id: ".concat(this.id));var t=this.size(),a=t.width,n=t.height;this.konvaStage=new J.a.Stage({container:e,x:0,y:0,width:a,height:n}),this.scene.mount(this.konvaStage,e)}}]),t}(A);F.unmangledName="SmartView",x.registerPkg(new L({id:"core",name:"core classes",entries:{core:[K,M,_,L,F]}}));var G=a(22),H=a.n(G),Y=a(18),W=!1,X=!1,Q=!0,Z=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.x,u=void 0===l?0:l,m=a.y,d=void 0===m?0:m,g=a.rotation,p=void 0===g?0:g,b=a.scaleX,h=void 0===b?1:b,v=a.scaleY,O=void 0===v?1:v,y=Object(r.a)(a,["id","name","x","y","rotation","scaleX","scaleY"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(s.a)(t).call(this,{id:n,name:o}));var j=f.prefix("SmartComp() constructor parameter violation: ");return j(w(u),"x must be a number (when supplied), NOT: ".concat(u)),j(w(d),"y must be a number (when supplied), NOT: ".concat(d)),j(w(p),"rotation must be a number (when supplied), NOT: ".concat(p)),j(w(h),"scaleX must be a number (when supplied), NOT: ".concat(h)),j(w(O),"scaleY must be a number (when supplied), NOT: ".concat(O)),k(j,y,arguments),e.x=u,e.y=d,e.rotation=p,e.scaleX=h,e.scaleY=O,e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(s.a)(t.prototype),"getEncodingProps",this).call(this)),["x","y","rotation","scaleX","scaleY"])}},{key:"canHandleDispMode",value:function(e){return e!==R.edit}},{key:"enableViewMode",value:function(){}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e){this.compGroup=new J.a.Group({id:this.id,x:this.x,y:this.y,rotation:this.rotation,scaleX:this.scaleX,scaleY:this.scaleY}),e.add(this.compGroup)}}]),t}(A);Z.unmangledName="SmartComp";var $=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(s.a)(t.prototype),"mount",this).call(this,e);var a=new J.a.Rect({x:10,width:100,height:50,fill:"green",stroke:"black",strokeWidth:5});this.compGroup.add(a);var n=new J.a.Circle({x:7.5,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(n);var r=new J.a.Circle({x:110,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(r);var i=new J.a.Group({x:0,y:0});this.compGroup.add(i);var o=new J.a.Circle({x:60,y:25,radius:10,fill:"red",stroke:"red",strokeWidth:1});i.add(o)}}]),t}(Z);$.unmangledName="Valve1";var ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(s.a)(t.prototype),"mount",this).call(this,e);var a=new J.a.Rect({width:100,height:50,fill:"red",shadowBlur:10,cornerRadius:10});this.compGroup.add(a)}}]),t}(Z);ee.unmangledName="Valve2";var te=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(s.a)(t.prototype),"mount",this).call(this,e);var a=new J.a.Rect({width:100,height:100,fill:"blue",cornerRadius:[0,10,20,30]});this.compGroup.add(a)}}]),t}(Z);te.unmangledName="Valve3";var ae=new L({id:"generalComps",name:"SandBox Comps",entries:{"Class Comps":[$,ee,te]}});x.registerPkg(ae);var ne=D("***DIAG*** konvaSandboxSmartPkg ... ").disable(),re=x.getClassRef("generalComps","Valve1"),ie=x.getClassRef("generalComps","Valve2"),oe=x.getClassRef("generalComps","Valve3"),ce=new _({id:"scene1",comps:[re.createSmartObject({id:"myValve1",x:20,y:20}),ie.createSmartObject({id:"myValve2",x:150,y:40}),oe.createSmartObject({id:"myValve3",x:50,y:120})],width:280,height:240}),se=new _({id:"scene2",comps:[re.createSmartObject({id:"myValve1",x:20,y:20}),ie.createSmartObject({id:"myValve2",x:150,y:40})],width:280,height:125}),le=new U(ce,"DUMMY-PKG-NAME").createSmartObject({id:"scene1Copy",x:0,y:0,width:300,height:250}),ue=new U(se,"DUMMY-PKG-NAME").createSmartObject({id:"scene2Copy",x:300,y:250,width:300,height:250}),me=new K({id:"collage1",name:"Collage 1",scenes:[le,ue]}),de=new L({id:"com.astx.KONVA",name:"Konva Sandbox I",entries:{scenes:[ce,{"More Depth":[se]}],collages:[me]}});x.registerPkg(de);var fe=de.id,ge=de.name;de.id=fe+"2",de.name=ge+"I",ne("PERSISTENT TEST: JSONIZE smartPkg: ",{konvaSandboxSmartPkg:de});var pe=de.toSmartJSON();ne("PERSISTENT TEST: HERE is the json: ",{smartJSON:pe,str:JSON.stringify(pe)}),ne("PERSISTENT TEST: HERE is the RE-HYDRATED smartPkg: ",{rehydratedSmartPkg:L.fromSmartJSON(pe)}),de.id=fe,de.name=ge;var be=x.getPackage("generalComps"),he=x.getPackage("com.astx.KONVA"),ve=Object(Y.createFeature)({name:"sandbox",enabled:Q,appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;lt.addLeftNav(be),lt.addLeftNav(he)}}),Oe=a(223),ye=a.n(Oe);function je(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=f.prefix("encode(ref) parameter violation: ");a(e,"ref is required"),a(j()(e)||O()(e),"ref must be a string -or- an object literal. NOT: ",e),a(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var n=e;return O()(n)&&(n=we+JSON.stringify(n)),t&&(n=ke+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(n)),n}function Ee(e){if(f.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!j()(e))return e;var t=e;return 0===t.indexOf(ke)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(ke.length))),0===t.indexOf(we)&&(t=t.substring(we.length),t=JSON.parse(t)),t}var we="obj2str:",ke="afesa";function Ne(){return(Ne=Object(C.a)(S.a.mark((function e(t){var a,n,r,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.showStatus,t.fassets,t.getState,t.dispatch,a("Initializing Firebase"),e.next=4,fetch("fbac");case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("**ERROR** Accessing /fbac resource was REJECTED with status: ".concat(n.status));case 7:return e.next=9,n.text();case 9:if(!(r=e.sent).includes("<html")){e.next=12;break}throw new Error("**ERROR** Non Existent Resource: /fbac");case 12:return i=Ee(r),e.next=15,ye.a.initializeApp(i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Se=Object(Y.createFeature)({name:"initFirebase",enabled:W,appInit:function(e){return Ne.apply(this,arguments)}}),Ce=a(0),Te=a.n(Ce),xe=a(102),Me=xe.generateActions.root(Object(m.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},setResponsiveMode:{actionMeta:{traits:["responsiveMode"]}},changeView:{actionMeta:{traits:["viewName"]}},addLeftNavItem:{actionMeta:{traits:["leftNavKey","LeftNavComp"]}},removeLeftNavItem:{actionMeta:{traits:["leftNavKey"]}}})),Re=a(65),Ie=a(48),Pe=a(69);function Ae(){}function De(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=f.prefix("storeItem() parameter violation: ");n(e,"key is required"),n(j()(e),"key must be a string, NOT: ",e),n(t,"ref is required"),n(j()(t)||O()(t),"ref must be a string -or- an object literal, NOT: ",t),n(!0===a||!1===a,"safeguard must be a boolean (true/false), NOT: ",a);var r=je(t,a);Le.setItem(e,r)}function ze(e){var t=f.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(j()(e),"key must be a string, NOT: ",e);var a=Le.getItem(e);return a?Ee(a):null}var Ue=function(e){var t;try{t=window[e];var a="__storage_test__";return t.setItem(a,a),t.removeItem(a),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage");Ue||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var Le=Ue?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:Ae,getItem:Ae,removeItem:Ae};var Ve="uiTheme";var qe="responsiveMode",Je=a(225);function _e(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Be=Object(Pe.slicedReducer)("baseUI",Object(Y.expandWithFassets)((function(e){var t;return Object(Re.combineReducers)({uiTheme:Object(Ie.reducerHash)(Object(m.a)({},Me.toggleUITheme,(function(e,t){return"dark"===e?"light":"dark"})),ze(Ve)),responsiveMode:Object(Ie.reducerHash)(Object(m.a)({},Me.setResponsiveMode,(function(e,t){return t.responsiveMode})),ze(qe)||"sm"),curView:Object(Ie.reducerHash)(Object(m.a)({},Me.changeView,(function(e,t){return t.viewName})),"uninitialized"),leftNavItems:Object(Ie.reducerHash)((t={},Object(m.a)(t,Me.addLeftNavItem,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},Object(m.a)({},t.leftNavKey,{fn:t.LeftNavComp,fnRef:"hidden in Redux DevTools"}))})),Object(m.a)(t,Me.removeLeftNavItem,(function(e,t){var a=t.leftNavKey;e[a];return Object(r.a)(e,[a].map(_e))})),t),{})})}))),Fe=Be,Ge=function(e){return Be.getSlicedState(e)},He=function(e){return Ge(e).uiTheme||"light"},Ye=function(e){return Ge(e).responsiveMode},We=Object(Je.a)((function(e){return Ge(e).leftNavItems}),(function(e){return Object.entries(e).map((function(e){var t,a=Object(d.a)(e,2),n=a[0],r=a[1];return[n,(t=r,t.fn)]})).sort((function(e,t){var a=Object(d.a)(e,1)[0],n=Object(d.a)(t,1)[0];return a.localeCompare(n)}))})),Xe=a(122),Qe=[Object(Xe.b)({name:"".concat("baseUI",".persistUITheme"),type:String(Me.toggleUITheme),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=He(r()),De(Ve,n),a()}}),Object(Xe.b)({name:"".concat("baseUI",".persistResponsiveMode"),type:String(Me.setResponsiveMode),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=Ye(r()),De(qe,n),a()}})],Ze=a(24);var $e=a(140),et=a.n($e),tt=a(142),at=a.n(tt),nt=a(425),rt=a(421),it=a(132),ot=D("***DIAG*** <LeftNavMenuPallet> ... ").disable();var ct=Te.a.memo((function(e){var t=e.smartPkg,a=st(),n=Object(Ze.useDispatch)(),r=Object(Y.useFassets)("actions.activateTab"),i=function(e,t,a){ot("handleActivateTab( tabId:'".concat(e,"', tabName:'").concat(t,"', preview=").concat(a," )")),n(r(e,a))},o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n?(clearTimeout(n),n=null,t.apply(void 0,i)):n=setTimeout((function(){e.apply(void 0,i),n=null}),a)}}((function(e,t){return i(e,t,!0)}),(function(e,t){return i(e,t,!1)}));return ot("rendering top-level content for smartPkg.id: ".concat(t.id," ... expecting ONE TIME (for this entry)")),Te.a.createElement(Ln,{name:t.getPkgDesc()},Te.a.createElement(rt.a,{className:a.root,defaultCollapseIcon:Te.a.createElement(et.a,null),defaultExpandIcon:Te.a.createElement(at.a,null)},function(e,t){return function a(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getPkgName();if(O()(n)){var i=[];for(var o in n){var c=n[o],s="".concat(r,"-").concat(o);ot("genTreeItems(): TreeItem directory node: ".concat(o)),i.push(Te.a.createElement(nt.a,{key:s,nodeId:s,label:o},a(c,s)))}return i}if(Array.isArray(n))return n.map((function(e){if(e instanceof A){var n=e,i="".concat(r,"-").concat(n.id),o=null;if(n instanceof _)o=new _n(i,n.name,n);else{if(!(n instanceof K)){var c="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED smartObj entry (under accumulativeId: ".concat(i,")  ... must be a Scene or Collage ... see logs for entry");throw console.error(c,{smartObj:n}),new Error(c)}o=new Kn(i,n.name,n)}return cn.registerTab(o),ot("genTreeItems(): TreeItem tabManager node ... id: ".concat(i)),Te.a.createElement(nt.a,{key:i,nodeId:i,label:n.name,onClick:function(){return t(i,n.name)}})}if(E(e)){var s=e,l=M.getClassName(s),u="".concat(r,"-").concat(l);return cn.registerTab(new Bn(u,l,s)),ot("genTreeItems(): TreeItem tabManager node ... id: ".concat(u)),Te.a.createElement(nt.a,{key:u,nodeId:u,label:l,onClick:function(){return t(u,l)}})}if(O()(e))return a(e,r);var m="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED array entry (under accumulativeId: ".concat(r,")  ... must be a smartObj or plain nested directory object ... see logs for entry");throw console.error(m,{arrItem:e}),new Error(m)}));var l="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED SmartPkg entry (under accumulativeId: ".concat(r,")  ... must be a plain directory object or an array of smartObjs ... see logs for entry");throw console.error(l,{entry:n}),new Error(l)}(e.entries)}(t,o)))})),st=Object(it.a)((function(e){return{root:{flexGrow:1,maxWidth:400}}}));var lt=new(function(){function e(){Object(i.a)(this,e),this.fassets=null,this.dispatch=null,this.leftNavCache=[]}return Object(o.a)(e,[{key:"injectDependency",value:function(e,t){var a=this;this.fassets=e,this.dispatch=t,this.leftNavCache.forEach((function(e){return a.processAddLeftNav(e)})),this.leftNavCache=[]}},{key:"processAddLeftNav",value:function(e){this.fassets?this.dispatch(this.fassets.actions.addLeftNavItem(e.getPkgDesc(),(function(){return Te.a.createElement(ct,{smartPkg:e})}))):this.leftNavCache.push(e)}},{key:"addLeftNav",value:function(e){var t=f.prefix("".concat(this.constructor.name,".addLeftNav() parameter violation: "));t(e,"smartPkg is required"),t(e instanceof L,"smartPkg must be a SmartPkg instance"),this.processAddLeftNav(e)}}]),e}()),ut=a(433),mt=a(133),dt=a(442),ft=a(426),gt=a(428),pt=a(427);function bt(){var e=ht(),t=Object(Ze.useSelector)((function(e){return We(e)}),[]);return t.length<=0?null:Te.a.createElement(ft.a,{className:e.leftNav,variant:"permanent",classes:{paper:e.leftNavPaper}},Te.a.createElement(pt.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our LeftNav isn't covered up by the AppBar"}),Te.a.createElement(gt.a,null,t.map((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];return Te.a.createElement(n,{key:a})}))))}var ht=Object(it.a)((function(e){return{leftNav:{width:240,flexShrink:0},leftNavPaper:{width:240}}})),vt=a(429),Ot=a(235),yt=a(226),jt=a.n(yt);function Et(e){e.curUser;var t=Object(Ce.useState)(null),a=Object(d.a)(t,2),r=a[0],i=a[1],o=Object(Ce.useMemo)((function(){return Boolean(r)}),[r]),c=Object(Ce.useCallback)((function(e){return i(e.currentTarget)}),[]);kt=Object(Ce.useCallback)((function(){return i(null)}),[]);var s=Object(Y.useFassets)("AppMotif.UserMenuItem.*@withKeys"),l=Object(Ce.useMemo)((function(){return Object(n.a)(s).sort((function(e,t){var a=Object(d.a)(e,1)[0],n=Object(d.a)(t,1)[0];return a.localeCompare(n)}))}),[s]);return Te.a.createElement("div",null,Te.a.createElement(vt.a,{color:"inherit",onClick:c},Te.a.createElement(jt.a,null)),Te.a.createElement(Ot.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:wt},l.map((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];return Te.a.createElement(n,{key:a})}))))}function wt(){kt&&kt()}var kt=null,Nt=a(435),St=a(228),Ct=a.n(St),Tt=xe.generateActions.root(Object(m.a)({},"toolBar",{dispModeChanged:{actionMeta:{traits:["dispMode"]}}})),xt=Object(Pe.slicedReducer)("toolBar",Object(Y.expandWithFassets)((function(e){var t;return Object(Re.combineReducers)({dispMode:Object(Ie.reducerHash)((t={},Object(m.a)(t,e.actions.activateTab,(function(e,t){return cn.getTabController(t.tabId).getTarget().getDispMode().enumKey})),Object(m.a)(t,Tt.dispModeChanged,(function(e,t){return t.dispMode.enumKey})),t),R.view.enumKey)})}))),Mt=xt,Rt=function(e){return xt.getSlicedState(e)},It=function(e){return R.enumValueOf(Rt(e).dispMode)},Pt=a(227),At=a.n(Pt),Dt=a(431),zt=a(451),Ut=a(432),Lt=a(449),Vt=a(93),qt=D("***DIAG*** <VitToolBar> ... ").disable();var Jt=Object(it.a)((function(e){return{title:{flexGrow:1}}})),_t=a(56),Kt=a(181),Bt=a(434);function Ft(e){var t=Gt();return Te.a.createElement(Kt.SnackbarProvider,{maxSnack:3,dense:!0,className:t.variantSuccess},Te.a.createElement(Zt,null,e.children))}var Gt=Object(it.a)((function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}})),Ht=null,Yt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r))),f(!Ht,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),Ht=Object(_t.a)(a),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.msg,n=t.duration,i=void 0===n?5:n,o=t.level,c=void 0===o?"success":o,s=t.position,l=void 0===s?"bottom-left":s,u=t.modal,m=void 0!==u&&u,d=t.actions,g=void 0===d?[]:d,b=Object(r.a)(t,["msg","duration","level","position","modal","actions"]),h=f.prefix("notify() parameter violation: ");h(a,"directive.msg is required"),h(j()(a),"msg must be a string"),null!==i&&h(i>=1&&i<=20,"supplied duration (".concat(i,") must be a number between 1 and 20 (inclusive).")),h(Wt[c],"invalid level: '".concat(c,"', expecting one of ").concat(Object.keys(Wt),".")),h(Xt[l],"invalid position: '".concat(l,"', expecting one of ").concat(Object.keys(Xt),".")),h(!0===m||!1===m,"supplied modal (".concat(m,") must be a boolean true/false.")),h(g,"actions must be an Action[] array"),h(Array.isArray(g),"actions must be an Action[] array"),g.forEach((function(e,t){h(e.txt,"action[".concat(t,"].txt is required")),h(j()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&h(p()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))})),k(h,b,arguments);var v=i?1e3*i:null;i||0!==g.length||(g=[{txt:"OK"}]);var O=g.reduce((function(e,t){return e[t.txt]=t.action||Qt,e}),{}),y=g.map((function(e,t){return Te.a.createElement(Bt.a,{key:t,color:"default",size:"small"},e.txt)})),E=this.props.enqueueSnackbar(a,{variant:Wt[c],autoHideDuration:v,anchorOrigin:Xt[l],action:y,onClick:function(t){e.props.closeSnackbar(E);var a=O[t.target.textContent];setTimeout((function(){return a()}),400)}})}},{key:"render",value:function(){return Te.a.createElement(Te.a.Fragment,null,this.props.children)}}]),t}(Te.a.Component),Wt={success:"success",info:"info",warn:"warning",error:"error"},Xt={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},Qt=function(e){return e},Zt=Object(Kt.withSnackbar)(Yt);function $t(e){f(Ht,"notify(): NO <Notify> instance has been established in the app root."),Ht.display(e)}function ea(e,t){var a=e.msg,n=e.duration,i=void 0===n?5:n,o=e.actions,c=Object(r.a)(e,["msg","duration","actions"]),s=t?".".concat(t):"",l=f.prefix("toast".concat(s,"() parameter violation: "));l(a,"msg named parameter is required");var u=Object.keys(c);l(0===u.length,"unrecognized named parameter(s): ".concat(u)),$t({msg:a,duration:i,level:t,position:"bottom-left",modal:!1,actions:o})}function ta(e){ea(e)}function aa(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=f.prefix("alert".concat(o,"() parameter violation: "));c(a,"msg named parameter is required");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),$t({msg:a,duration:null,level:t,position:"top-center",modal:!0,actions:n})}function na(e){aa(e)}function ra(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=f.prefix("confirm".concat(o,"() parameter violation: "));c(a,"msg named parameter is required"),c(n&&n.length>0,"client-specific actions are required.");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),$t({msg:a,duration:null,level:t,position:"top-right",modal:!0,actions:n})}function ia(e){ra(e)}Zt.displayName="NotifyAPI_withSnackBar",ta.success=function(e){ea(e,"success")},ta.info=function(e){ea(e,"info")},ta.warn=function(e){ea(e,"warn")},ta.error=function(e){ea(e,"error")},na.success=function(e){aa(e,"success")},na.info=function(e){aa(e,"info")},na.warn=function(e){aa(e,"warn")},na.error=function(e){aa(e,"error")},ia.success=function(e){ra(e,"success")},ia.info=function(e){ra(e,"info")},ia.warn=function(e){ra(e,"warn")},ia.error=function(e){ra(e,"error")};var oa="DYNAMIC_DEFAULT";function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,a=e.showUser,n=void 0===a||a,i=e.logIt,o=void 0===i?oa:i,c=Object(r.a)(e,["err","showUser","logIt"]);try{var s=f.prefix("discloseError() parameter violation: ");s(t,"err is required"),s(t instanceof Error,"err must be an Error object, NOT: ",t),s(!0===(n=n===oa?t.isExpected():n)||!1===n,"showUser must be a boolean"),s(!0===(o=o===oa?t.isUnexpected():o)||!1===o,"logIt must be a boolean"),k(s,c,arguments)}catch(u){return console.log("YIKES ... visualize-it's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',u)}if(n&&(t.isUnexpected()?ta.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){na.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):ta.warn({msg:t.formatUserMsg()})),o){var l=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(l+t),t.isUnexpected()&&(console.log("Stack Trace ..."),console.log(t))}}function sa(e){var t=e.children,a=Object(Y.useFassets)(),n=Object(Ze.useSelector)((function(e){return a.sel.curView(e)}),[a]),r=la(),i=a.get("AppMotif.auxViewContent.*@withKeys"),o=Object(Ce.useMemo)((function(){return function(e,t){var a="AppMotif.auxViewContent.".concat(e),n=t.find((function(e){return Object(d.a)(e,1)[0]===a}))||ua;return Object(d.a)(n,2)[1]}(n,i)}),[n,i]),c=o.TitleComp,s=o.FooterComp;return Te.a.createElement("div",{className:r.app},Te.a.createElement(Nt.a,{className:r.appBar,position:"fixed"}," ",Te.a.createElement(pt.a,{className:r.toolbar,variant:"dense",disableGutters:!1}," ",Te.a.createElement(vt.a,{className:r.menuButton,color:"inherit",onClick:Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.loadPkg();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:lt.addLeftNav(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ca({err:e.t0,logIt:!0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))},Te.a.createElement(Ct.a,null)),Te.a.createElement("div",{className:r.title},Te.a.createElement(c,null)),Te.a.createElement(Et,null))),Te.a.createElement(bt,null),Te.a.createElement("main",{className:r.content},Te.a.createElement(pt.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our main content isn't covered up by the AppBar"}),t),s&&Te.a.createElement(Nt.a,{className:r.bottomBar,position:"absolute"},Te.a.createElement(pt.a,{className:r.toolbar,variant:"dense",disableGutters:!1},Te.a.createElement(s,null))))}var la=Object(it.a)((function(e){return{app:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto"}}}));var ua=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){var e=Jt(),t=Object(Y.useFassets)(),a=Object(Ze.useSelector)((function(e){return It(e)}),[]),n=Object(Ze.useSelector)((function(e){return t.sel.getActiveTabId(e)}),[t]),r=Object(Ze.useDispatch)(),i=Object(Ce.useCallback)((function(e){var t=R.enumValueOf(e.target.value);qt("dispMode changed to: ".concat(t)),r(Tt.dispModeChanged(t))}),[r]),o=Te.a.createElement(Vt.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Visualize It");if(!n)return o;var c=cn.getTabController(n).getTarget();return Te.a.createElement(pt.a,{variant:"dense"},o,Te.a.createElement(vt.a,null,Te.a.createElement(At.a,null)),Te.a.createElement(Dt.a,null,Te.a.createElement(zt.a,{id:"dispModeLabel"},"DispMode"),Te.a.createElement(Lt.a,{id:"dispMode",labelId:"dispModeLabel",value:a.enumKey,onChange:i},Array.from(R).map((function(e){return Te.a.createElement(Ut.a,{key:e.enumKey,value:e.enumKey,disabled:!c.canHandleDispMode(e)},e.enumKey)})))))}}],ma=a(28),da=a(436);var fa=a(441),ga=a(438),pa=a(440),ba=a(439),ha=a(237),va=a(178),Oa=a(437),ya=(Te.a.forwardRef((function(e,t){return Te.a.createElement(ha.a,Object.assign({ref:t,timeout:"1000"},e))})),Te.a.forwardRef((function(e,t){return Te.a.createElement(va.a,Object.assign({ref:t,direction:"right",timeout:"1000"},e))})),Te.a.forwardRef((function(e,t){return Te.a.createElement(Oa.a,Object.assign({ref:t,timeout:"1000"},e))})));function ja(e){var t=e.msg,a=e.err,n=function(){var e=Object(ma.a)();return Object(da.a)(e.breakpoints.down("xs"))}(),r=Ea();return t?Te.a.createElement(Ca,{msg:t,err:a,open:!0,fullScreen:n,classes:r}):Te.a.createElement(wa,{fullScreen:n,classes:r})}ja.defaultProps={msg:"",err:null};var Ea=Object(it.a)((function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},progress:{margin:e.spacing(4)}}}));function wa(e){var t=e.fullScreen,a=e.classes,n=Object(Ce.useState)({msg:"",err:null}),r=Object(d.a)(n,2),i=r[0],o=r[1];if(Na&&Na!==o)throw new Error("***ERROR*** <SplashScreen/> (supporting the programmatic `splash(msg, [err])` API) should only be instantiated ONE TIME (in the app root DOM)");return Na=o,Te.a.createElement(Ca,{msg:i.msg,err:i.err,open:!!i.msg,fullScreen:t,classes:a})}function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Na)throw new Error("***ERROR*** the programmatic `splash(msg, [err])` API requires <SplashScreen/> be instantiated in the app root DOM");Na({msg:e,err:t})}var Na=null,Sa=null;function Ca(e){var t=e.msg,a=e.err,n=e.open,r=e.fullScreen,i=e.classes,o=a?Te.a.createElement(Te.a.Fragment,null,Te.a.createElement("br",null),Te.a.createElement(Vt.a,{variant:"subtitle2",color:"secondary"},"Encountered ERROR: ",a.formatUserMsg()),Te.a.createElement(Bt.a,{variant:"contained",color:"secondary",onClick:function(){na.error({msg:"An unexpected error occurred:\n\n".concat(a,"\n\nIf this problem persists, please contact your tech support.")})}},Te.a.createElement(Vt.a,{variant:"subtitle2"},"Show Detail"))):null;if(a&&a!==Sa){Sa=a;var c=a.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(c+a),a.isUnexpected()&&(console.log("Stack Trace ..."),console.log(a))}return Te.a.createElement(ga.a,{open:n,fullScreen:r,TransitionComponent:ya},Te.a.createElement(ba.a,{className:i.title},Te.a.createElement("center",{className:i.title},"Visualize It")),Te.a.createElement(pa.a,null,Te.a.createElement("center",null,Te.a.createElement("br",null),Te.a.createElement("img",{width:"120px",src:"visualize-it-logo.png",alt:"visualize-it"}),Te.a.createElement("br",null),Te.a.createElement(fa.a,{className:i.progress,color:"secondary"}),Te.a.createElement(Vt.a,{variant:"body2"},t),o,Te.a.createElement("br",null))))}function Ta(e){var t=e.children,a=Object(Ze.useSelector)((function(e){return He(e)}),[]),n=Object(Ce.useMemo)((function(){return"dark"===a?Ma:xa}),[a]),r=Ra();return Te.a.createElement(ut.a,{theme:n},Te.a.createElement(dt.a,null),Te.a.createElement(Ft,null),Te.a.createElement(ja,null),Te.a.createElement("main",{className:r.main},Te.a.createElement(sa,null,t)))}var xa=Object(mt.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"light",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),Ma=Object(mt.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"dark",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),Ra=Object(it.a)((function(e){return{main:{width:"auto",display:"block"}}})),Ia=a(452),Pa=a(443),Aa=a(229),Da=a.n(Aa),za=a(230),Ua=a.n(za);function La(e){return Te.a.createElement(Ut.a,Object.assign({},e,{onClick:function(){wt(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}var Va=Te.a.forwardRef((function(e,t){var a=Object(Ze.useSelector)((function(e){return He(e)}),[]),n=Object(Ce.useMemo)((function(){return"light"===a?Da.a:Ua.a}),[a]),r=Object(Ce.useMemo)((function(){return"light"===a?"to dark":"to light"}),[a]),i=Object(Ze.useDispatch)(),o=Object(Ce.useCallback)((function(){return i(Me.toggleUITheme())}),[i]);return Te.a.createElement("span",Object.assign({},e,{ref:t}),Te.a.createElement(La,{onClick:o},Te.a.createElement(Ia.a,{label:r,icon:Te.a.createElement(n,null)})),Te.a.createElement(Pa.a,null))})),qa=a(231),Ja=a.n(qa),_a=Te.a.forwardRef((function(e,t){var a=Object(Ze.useSelector)((function(e){return Ye(e)}),[]),r=Object(Ce.useMemo)((function(){return"off"===a?function(){return null}:Ja.a}),[a]),i=Object(Ze.useDispatch)(),o=Object(Ce.useCallback)((function(){ia.success({msg:'This app is designed with mobile devices in mind (i.e. cell phones).\n\nWhen the "responsive" mode is enabled, selected screens will dynamically adjust to take advantage of the additional screen real estate.  As an example, a simple list can morph into a detailed table.\n\nYou can define the "responsive" boundary where additional content is manifest (based on the screen width), or disable it altogether.\n\nSet the "responsive" boundary to:\n(** is current)',actions:[].concat(Object(n.a)(Ba(a,i)),[{txt:"Close"}])})}),[i,a]);return Te.a.createElement("span",Object.assign({},e,{ref:t}),Te.a.createElement(La,{onClick:o},Te.a.createElement(Ia.a,{label:"responsive",icon:Te.a.createElement(r,null)})),Te.a.createElement(Pa.a,null))})),Ka=[{name:"Tablet",value:"sm"},{name:"Desktop",value:"md"},{name:"Landscape",value:"lg"},{name:"Disable",value:"off"}],Ba=function(e,t){return Ka.map((function(a){return{txt:"".concat(e===a.value?"**":"").concat(a.name),action:function(){return t(Me.setResponsiveMode(a.value))}}}))},Fa=Te.a.forwardRef((function(e,t){return Te.a.createElement("span",Object.assign({},e,{ref:t}),Te.a.createElement(Pa.a,null),Te.a.createElement(La,{onClick:Ga},"About ..."))}));function Ga(){var e="".concat("visualize-it","\n\n").concat("Your View into External Systems","\n\nversion: ").concat("0.1.0"),t=[];t.push({txt:"Close"}),na.success({msg:e,actions:t})}var Ha,Ya,Wa,Xa=Object(Y.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":Me.changeView,"sel.curView":function(e){return Ge(e).curView},"actions.addLeftNavItem":Me.addLeftNavItem,"actions.removeLeftNavItem":Me.removeLeftNavItem},defineUse:{"AppMotif.UserMenuItem.aa1_UIThemeToggle":Va,"AppMotif.UserMenuItem.aa2_MaintainResponsiveMode":_a,"AppMotif.UserMenuItem.zz8_About":Fa},use:[["AppMotif.UserMenuItem.*",{required:!0,type:Y.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:Y.fassetValidations.any}]]},reducer:Fe,logic:Qe,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return Te.a.createElement(Ta,null,t)},appInit:function(e){e.showStatus;var t=e.fassets,a=(e.getState,e.dispatch);lt.injectDependency(t,a)}}),Qa=xe.generateActions.root(Object(m.a)({},"tabManager",{activateTab:{actionMeta:{traits:["tabId","preview"],ratify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[e,t]}}},closeTab:{actionMeta:{traits:["tabId"]}}})),Za=Object(Pe.slicedReducer)("tabManager",Object(Re.combineReducers)({activeTabId:Object(Ie.reducerHash)((Ha={},Object(m.a)(Ha,Qa.activateTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),Object(m.a)(Ha,Qa.closeTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),Ha),null),previewTabId:Object(Ie.reducerHash)((Ya={},Object(m.a)(Ya,Qa.activateTab,(function(e,t){return t.pgmDirectives.next_previewTabId})),Object(m.a)(Ya,Qa.closeTab,(function(e,t){return e===t.tabId?null:e})),Ya),null),tabs:Object(Ie.reducerHash)((Wa={},Object(m.a)(Wa,Qa.activateTab,(function(e,t){var a=e,r=t.tabId,i=t.tabName,o=t.pgmDirectives,c=o.removeTabId,s=o.addNewTab;return c&&(a=a.filter((function(e){return e.tabId!==c}))),s&&(a=[].concat(Object(n.a)(a),[{tabId:r,tabName:i}])),a})),Object(m.a)(Wa,Qa.closeTab,(function(e,t){return e.filter((function(e){return e.tabId!==t.tabId}))})),Wa),[])})),$a=Za,en=function(e){return Za.getSlicedState(e)},tn=function(e){return en(e).activeTabId},an=function(e){return en(e).previewTabId},nn=function(e){return en(e).tabs},rn=function(e){return en(e).tabs.length},on=function(){function e(t,a){Object(i.a)(this,e);var n=f.prefix("".concat(this.diagClassName(),"() constructor parameter violation: "));n(t,"tabId is required"),n(j()(t),"tabId must be a string"),n(a,"tabName is required"),n(j()(a),"tabName must be a string"),this.tabId=t,this.tabName=a}return Object(o.a)(e,[{key:"getTabId",value:function(){return this.tabId}},{key:"getTabName",value:function(){return this.tabName}},{key:"getTarget",value:function(){throw new Error("***ERROR*** TabController.getTarget() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"getTabPanelComp",value:function(){return this.TabPanelComp||(this.TabPanelComp=this.createTabPanelComp()),this.TabPanelComp}},{key:"createTabPanelComp",value:function(){throw new Error("***ERROR*** TabController.createTabPanelComp() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}}]),e}();on.unmangledName="TabController";var cn=new(function(){function e(){Object(i.a)(this,e),this.tabRegistry={}}return Object(o.a)(e,[{key:"registerTab",value:function(e){var t=f.prefix("TabManager.registerTab() parameter violation: ");t(e,"tabController is required"),t(e instanceof on,"tabController must be a TabController instance");var a=e.getTabId();if(this.tabRegistry[a])throw new Error("***ERROR*** TabManager.registerTab() tabId: ".concat(a," is already registered :-("));this.tabRegistry[a]=e}},{key:"getTabController",value:function(e){var t=f.prefix("TabManager.getTabController() parameter violation: ");return t(e,"tabId is required"),t(j()(e),"tabId must be a string"),this.tabRegistry[e]}}]),e}()),sn=[Object(Xe.b)({name:"".concat("tabManager",".supplementActivateTab"),type:String(Qa.activateTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=r.tabId,c=r.preview,s=an(i),l=nn(i).find((function(e){return o===e.tabId})),u=o,m=!!!l,d=s,f=null;m?c&&(d=o,f=s):c||o!==s||(d=null),r.tabName=cn.getTabController(o).getTabName(),r.pgmDirectives={next_activeTabId:u,next_previewTabId:d,removeTabId:f,addNewTab:m},t(r)}}),Object(Xe.b)({name:"".concat("tabManager",".supplementCloseTab"),type:String(Qa.closeTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=nn(i),c=o.findIndex((function(e){return r.tabId===e.tabId})),s=c===o.length-1?c-1:c+1,l=s<0?null:o[s].tabId;r.pgmDirectives={next_activeTabId:l},t(r)}}),Object(Xe.b)({name:"".concat("tabManager",".syncTargetDispMode"),type:String(Qa.activateTab),process:function(e,t,a){e.getState;var n=e.action;e.fassets;if(n.pgmDirectives.addNewTab){var r=cn.getTabController(n.tabId).getTarget();r.setDispMode(r.getDispMode())}a()}})],ln=a(144),un=a(448),mn=a(232),dn=a.n(mn),fn=a(445),gn=a(155),pn=a(444),bn=a(450),hn=D("***DIAG*** <TabManager> ... ").disable();function vn(){var e=On(),t=Object(Ze.useSelector)((function(e){return tn(e)}),[]),a=Object(Ze.useSelector)((function(e){return an(e)}),[]),n=Object(Ze.useSelector)((function(e){return nn(e)}),[]),r=Object(Ze.useDispatch)(),i=Object(Ce.useCallback)((function(e,t){hn("handleTabChanged('".concat(t,"')")),r(Qa.activateTab(t))}),[r]);return hn("rendering"),Te.a.createElement(Te.a.Fragment,null,Te.a.createElement(Nt.a,{position:"static",color:"default"},Te.a.createElement(bn.a,{value:t,onChange:i,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},n.map((function(t){return Te.a.createElement(pn.a,{className:t.tabId===a?e.tabPreview:e.tabPermanent,key:t.tabId,value:t.tabId,label:Te.a.createElement(fn.a,{container:!0,justify:"space-between"},Te.a.createElement(fn.a,{item:!0},Te.a.createElement(Vt.a,{variant:"subtitle2",color:"inherit"},t.tabName)),Te.a.createElement(fn.a,{item:!0},Te.a.createElement(dn.a,{onClick:function(e){return a=e,n=t.tabId,hn("in handleCloseTab: ",n),a.stopPropagation(),void r(Qa.closeTab(n));var a,n}})))})})))),n.map((function(e){var a=cn.getTabController(e.tabId).getTabPanelComp();return Te.a.createElement(yn,{key:e.tabId,tabId:e.tabId,activeTabId:t},Te.a.createElement(a,null))})))}var On=Object(it.a)((function(e){return{tabPreview:{fontStyle:"italic"},tabPermanent:{}}})),yn=function(e){var t=e.tabId,a=e.activeTabId,n=e.children;return Te.a.createElement(gn.a,{hidden:t!==a,style:{height:"calc(100% - 97px)"}},Te.a.createElement(un.a,{padding:1},n))};function jn(e){var t=e.children;return Te.a.createElement(fn.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}function En(){var e=wn();return Te.a.createElement(gn.a,{className:e.root,style:{height:"calc(100% - 48px)"}},Te.a.createElement(jn,null,Te.a.createElement("img",{src:"visualize-it-logo.png",width:"300",alt:"Logo",className:e.entry})),Te.a.createElement(jn,null,Te.a.createElement(Vt.a,{variant:"h4",color:"inherit",noWrap:!0,className:e.entry},"Your View into External Systems!")),Te.a.createElement(jn,null,Te.a.createElement("img",{src:"visualize-it-logo-eyes.jpg",alt:"Logo Eyes",className:e.entry})))}var wn=Object(it.a)((function(e){return{root:{padding:e.spacing(3,2,15)},entry:{marginTop:e.spacing(2)}}})),kn=[Object(ln.featureRoute)({content:function(e){e.fassets;var t=e.appState;return 0===rn(t)?Te.a.createElement(En,null):Te.a.createElement(vn,null)}})],Nn=Object(Y.createFeature)({name:"tabManager",fassets:{define:{"actions.activateTab":Qa.activateTab,"actions.closeTab":Qa.closeTab,"sel.getTotalTabs":rn,"sel.getActiveTabId":tn}},reducer:$a,logic:sn,route:kn}),Sn=[Object(Xe.b)({name:"".concat("toolBar",".syncDispModeChangesToObjectModel"),type:String(Tt.dispModeChanged),process:function(e,t,a){var n=e.getState,r=e.action,i=e.fassets,o=n(),c=i.sel.getActiveTabId(o);cn.getTabController(c).getTarget().setDispMode(r.dispMode),a()}})],Cn=Object(Y.createFeature)({name:"toolBar",reducer:Mt,logic:Sn}),Tn=null,xn=[Object(Xe.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var a=e.action;"verbose"===X&&console.group("Action: ".concat(a.type)),console.log("Dispatched Action: ",a),t(a)},process:function(e,t,a){var n=e.getState;e.action,e.fassets;if("verbose"===X){var r=n();r===Tn?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),Tn=r,console.groupEnd()}a()}})],Mn=Object(Y.createFeature)({name:"logActions",enabled:!!X,logic:xn});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rn=Object(Y.createFeature)({name:"pwa",appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}),In=a(177),Pn=a(377),An=a(446),Dn=a(447),zn=a(233),Un=a.n(zn);function Ln(e){var t=e.name,a=e.PaletteIcon,n=void 0===a?Un.a:a,r=e.children,i=Vn(),o=Object(Ce.useState)(!1),c=Object(d.a)(o,2),s=c[0],l=c[1],u=Object(Ce.useCallback)((function(){l(!s)}),[s]);return Te.a.createElement(Te.a.Fragment,null,Te.a.createElement(Pn.a,{button:!0,onClick:u},Te.a.createElement(An.a,null,Te.a.createElement(n,null)),Te.a.createElement(Dn.a,{primary:t}),s?Te.a.createElement(et.a,null):Te.a.createElement(at.a,null)),Te.a.createElement(In.a,{in:s,timeout:"auto"},Te.a.createElement(gn.a,{className:i.pallet},r)))}var Vn=Object(it.a)((function(e){return{pallet:{margin:e.spacing(0,2,2,2),padding:e.spacing(1)}}})),qn=D("***DIAG*** <ReactSmartView> ... ").enable();var Jn=Te.a.memo((function(e){var t=e.view,a=Object(r.a)(e,["view"]),n=Object(Ce.useRef)(null);Object(Ce.useEffect)((function(){t.mount(n.current)}),[t]),qn("here is my view: ",t);var i=t.size(),o=i.width,c=i.height;return Te.a.createElement("div",Object.assign({ref:n},a,{style:{backgroundColor:"gray",width:o,height:c,border:"1px solid black"}}))})),_n=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(s.a)(t).call(this,e,a));var o=f.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"scene is required"),o(n instanceof _,"scene must be a Scene object"),r.scene=n,r}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.scene}},{key:"createTabPanelComp",value:function(){var e=new F({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),scene:this.scene});return function(){return Te.a.createElement(Jn,{view:e})}}}]),t}(on),Kn=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(s.a)(t).call(this,e,a));var o=f.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"collage is required"),o(n instanceof K,"collage must be a Collage object"),r.collage=n,r}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.collage}},{key:"createTabPanelComp",value:function(){var e=new F({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),scene:this.collage});return function(){return Te.a.createElement(Jn,{view:e})}}}]),t}(on),Bn=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(s.a)(t).call(this,e,a));var o=f.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"clazz is required"),o(E(n),"clazz must be a class type"),r.clazz=n,r.compName=M.getClassName(n),r.comp=new n({id:"comp-".concat(r.compName)}),r}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.comp}},{key:"createTabPanelComp",value:function(){var e=new _({id:"view-".concat(this.compName),comps:[this.comp],width:300,height:300}),t=new F({id:"view-".concat(this.compName),scene:e});return function(){return Te.a.createElement(Jn,{view:t})}}}]),t}(on),Fn=[ve,Xa,Nn,Cn,Se,Rn,Mn],Gn=a(234),Hn=[Object(Pe.createReducerAspect)(),Object(Gn.createLogicAspect)(),Object(ln.createRouteAspect)({fallbackElm:Te.a.createElement(ja,{msg:"I'm trying to think but it hurts!"})})],Yn=Object(Y.launchApp)({features:Fn,aspects:Hn,registerRootAppElm:function(e){H.a.render(e,document.getElementById("root"))},showStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ka(e,t)}});a.d(t,"default",(function(){return Yn}))}},[[255,1,2]]]);
//# sourceMappingURL=main.6aa610e9.chunk.js.map