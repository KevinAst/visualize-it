(this["webpackJsonpvisualize-it"]=this["webpackJsonpvisualize-it"]||[]).push([[0],{345:function(e,t,n){e.exports=n(585)},346:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var n=Error.prototype.toString;Error.prototype.toString=function(){return n.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},585:function(e,t,n){"use strict";n.r(t);n(346);var a=n(20),r=n.n(a),i=n(13),o=n(0),c=n.n(o),s=n(89),l=n(29),u=n(23),m=n(56),p=n(58),f=n(61),d=n(160),g=n(77),h=n(185),v=n(627);function b(e){var t=e.children;return c.a.createElement(v.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}var O=n(97),E=n.n(O),y=n(2);function j(e){var t=e.view,n=Object(y.a)(e,["view"]),a=Object(o.useRef)(null);return Object(o.useEffect)((function(){t.manifest(a.current)})),c.a.createElement("div",Object.assign({ref:a},n,{style:{backgroundColor:"gray",borderWidth:5,borderStyle:"solid",borderColor:"purple"}}))}var w=function(){function e(t,n){Object(l.a)(this,e),this.name=t,this.comps=n,this.x=0,this.y=0}return Object(u.a)(e,[{key:"manifest",value:function(e){console.log("invoking: SmartView.manifest()");var t=new E.a.Stage({container:e,x:this.x,y:this.y,width:300,height:250}),n=new E.a.Layer({draggable:!0});this.comps.forEach((function(e){return e.manifest(n)})),t.add(n)}}]),e}(),S=function(){function e(t){Object(l.a)(this,e),this.id=t}return Object(u.a)(e,[{key:"manifest",value:function(e){throw new Error("***ERROR*** SmartComp pseudo-interface-violation: ".concat(this.constructor.name,".manifest() is a required method that MUST BE implemented!"))}}]),e}();function I(){var e=A();return c.a.createElement(h.a,{className:e.root},c.a.createElement(b,null,c.a.createElement("img",{src:"/visualize-it-logo.png",width:"300",alt:"Logo",className:e.entry})),c.a.createElement(b,null,c.a.createElement(g.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.entry},"Your View into External Systems!")),c.a.createElement(b,null,c.a.createElement("img",{src:"/visualize-it-logo-eyes.jpg",alt:"Logo Eyes",className:e.entry})),c.a.createElement(b,null,c.a.createElement(j,{view:N,className:e.entry})))}var x=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"manifest",value:function(e){var t=new E.a.Rect({x:20,y:20,width:100,height:50,fill:"green",stroke:"black",strokeWidth:4});e.add(t)}}]),t}(S),k=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"manifest",value:function(e){var t=new E.a.Rect({x:150,y:40,width:100,height:50,fill:"red",shadowBlur:10,cornerRadius:10});e.add(t)}}]),t}(S),M=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"manifest",value:function(e){var t=new E.a.Rect({x:50,y:120,width:100,height:100,fill:"blue",cornerRadius:[0,10,20,30]});e.add(t)}}]),t}(S),N=new w("myView1",[new x("myValve1"),new k("myValve2"),new M("myValve3")]);N.x=30,N.y=30;var A=Object(d.a)((function(e){return{root:{padding:e.spacing(3,2)},entry:{marginTop:e.spacing(2)}}})),R=[Object(s.featureRoute)({content:function(e){e.fassets,e.appState;return c.a.createElement(I,null)}})],U=Object(i.createFeature)({name:"konvaSandbox",route:R}),C=n(7),T=n(166),F=n(184),V=n(74),q=n(137),z=n(314),D=n.n(z),P=n(26),W=n.n(P),L=n(25),B=n.n(L);function G(e,t){if(!e)throw new Error(t)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}G.prefix=function(e){return function(t,n){return G(t,e+n)}};var Y=n(87),K=n(112),J=n(315),Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,a=void 0===n?null:n,r=t.email,i=void 0===r?null:r,o=t.emailVerified,c=void 0!==o&&o,s=t.pool,u=void 0===s?null:s,m=t.guestLoc,p=void 0===m?null:m,f=t.originalLoc,d=void 0===f?null:f,g=Object(y.a)(t,["name","email","emailVerified","pool","guestLoc","originalLoc"]);Object(l.a)(this,e);var h=G.prefix("User() constructor parameter violation: "),v=Object.keys(g);h(0===v.length,"unrecognized named parameter(s): ".concat(v)),h(0===arguments.length||1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)"),this.name=a,this.email=i,this.emailVerified=c,this.pool=u,this.guestLoc=p,this.originalLoc=d}return Object(u.a)(e,[{key:"isUserSignedOut",value:function(){return null===this.email}},{key:"isUserSignedIn",value:function(){return null!==this.email&&this.emailVerified}},{key:"isUserSignedInUnverified",value:function(){return null!==this.email&&!this.emailVerified}},{key:"getAuthStatus",value:function(){return this.email?this.emailVerified?"signedIn":"signedInUnverified":"signedOut"}},{key:"isGuest",value:function(){return!!this.guestLoc}},{key:"toStruct",value:function(){return{name:this.name,email:this.email,emailVerified:this.emailVerified,pool:this.pool,guestLoc:this.guestLoc,originalLoc:this.originalLoc}}},{key:"clone",value:function(){return new e(this.toStruct())}}]),e}(),Z=Object(K.slicedReducer)("auth",Object(i.expandWithFassets)((function(e){var t;return Object(Y.combineReducers)({user:Object(V.reducerHash)((t={},Object(C.a)(t,ne.signIn.complete,(function(e,t){return t.user.toStruct()})),Object(C.a)(t,ne.signIn.checkEmailVerified,(function(e,t){return t.user.toStruct()})),Object(C.a)(t,ne.userProfileChanged,(function(e,t){return t.user.toStruct()})),Object(C.a)(t,ne.signOut,(function(e,t){return(new Q).toStruct()})),t),(new Q).toStruct()),signInForm:te.registrar.formReducer()})}))),$=Z,X=function(e){return Z.getSlicedState(e)},ee=Object(J.a)((function(e){return X(e).user}),(function(e){return new Q(e)})),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.formDesc,n=e.formSchema,a=e.formActionsAccessor,r=e.formStateSelector,i=e.mapDomain2Form,o=e.mapForm2Domain,c=Object(y.a)(e,["formDesc","formSchema","formActionsAccessor","formStateSelector","mapDomain2Form","mapForm2Domain"]),s=G.prefix("IFormMeta() parameter violation: ");s(t,"formDesc is required"),s(W()(t),"invalid formDesc (expecting a string)"),s(n,"formSchema is required"),s(n.validate,"invalid formSchema (expecting a Yup Schema)"),s(a,"formActionsAccessor is required"),s(B()(a),"invalid formActionsAccessor (expecting a function)"),s(r,"formStateSelector is required"),s(B()(r),"invalid formStateSelector (expecting a function)");var l=Object.keys(c);s(0===l.length,"unrecognized named parameter(s): ".concat(l));var u=Object.keys(n.fields),m=u.reduce((function(e,t){return e[t]=n.fields[t].describe().label||t,e}),{FORM:t});i||(i=function(e){return u.reduce((function(t,n){return t[n]=e[n]||"",t[n]=t[n].toString(),t}),{})}),s(B()(i),"invalid mapDomain2Form (expecting a function)"),o||(o=function(e){return e}),s(B()(o),"invalid mapForm2Domain (expecting a function)");var p={abortEarly:!1};function f(e){return n.validate(e,p).then((function(){return{}})).catch((function(e){var t={};return e.inner.forEach((function(e){t[e.path]=e.message})),t}))}return{registrar:{formActionGenesis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={open:{actionMeta:{traits:["domain","formMsg"],ratify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return[e,t]}}},fieldChanged:{actionMeta:{traits:["fieldName","value"]}},fieldTouched:{actionMeta:{traits:["fieldName"]}},process:{actionMeta:{},reject:{actionMeta:{traits:["msgs"]}}},close:{actionMeta:{}}},n=G.prefix("IFormMeta.formActionGenesis(): invalid appInjectedFormActions parameter ... ");for(var a in e)n(!t[a],"".concat(a," action is reserved as one of the auto-generated iForm actions.")),t[a]=e[a];return t},formLogic:function(){var e=a();return[Object(q.b)({name:"validateFields for '".concat(t,"' form"),type:[String(e.fieldChanged),String(e.fieldTouched)],validate:function(t,n,a){var i=t.getState,o=t.action,c=(t.api,r(i()));c.inProcess?a():f(o.type===String(e.fieldChanged)?_({},c.values,Object(C.a)({},o.fieldName,o.value)):c.values).then((function(e){c.msgs.FORM&&(e.FORM=c.msgs.FORM),o.msgs=e,n(o)}))}}),Object(q.b)({name:"process validation for '".concat(t,"' form"),type:String(e.process),validate:function(t,a,i){var c=t.getState,s=t.action,l=(t.api,r(c()));l.inProcess?i():f(l.values).then((function(t){if(Object.keys(t).length>0)t.FORM="Please resolve the highlighted issues, and try again.",a(e.process.reject(t));else{var r=n.cast(l.values),i=o(r);s.values=r,s.domain=i,a(s)}}))}})]},formReducer:function(){var e,n=a();return Object(V.reducerHash)((e={},Object(C.a)(e,n.open,(function(e,n){var a=n.domain?i(n.domain):u.reduce((function(e,t){return e[t]="",e}),{}),r=u.sort(),o=Object.keys(a).sort();G(D()(r,o),"'".concat(t,"' form open reducer ... miss-matched field(s) introduced in app-supplied mapDomain2Form ... generated fields: ").concat(o," ... expected fields: ").concat(r));var c={};return n.formMsg&&(c.FORM=n.formMsg),{labels:m,values:a,msgs:c,validating:{},inProcess:!1}})),Object(C.a)(e,n.fieldChanged,(function(e,t){var n=_({},e);return n.values=_({},e.values,Object(C.a)({},t.fieldName,t.value)),n.msgs=t.msgs,n})),Object(C.a)(e,n.fieldTouched,(function(e,t){if(e.validating[t.fieldName])return e;var n=_({},e);return n.validating=_({},e.validating,Object(C.a)({},t.fieldName,!0)),n.msgs=t.msgs,n})),Object(C.a)(e,n.process,(function(e,t){var n=_({},e);return n.inProcess=!0,n.validating=_({},e.validating,{FORM:!0}),n.msgs={},n})),Object(C.a)(e,n.process.reject,(function(e,t){var n=_({},e);return n.validating=_({},e.validating,{FORM:!0}),n.msgs=t.msgs,n})),Object(C.a)(e,n.close,(function(e,t){return null})),e),null)}},formStateSelector:r,IForm:function(e,n){var r=G.prefix("IFormMeta.IForm() parameter violation: ");r(e,"formState is required"),r(e.labels,"invalid formState - does NOT conform to the IForm state"),r(e.labels.FORM===t,"miss-matched formState - expecting ".concat(t," but received ").concat(e.labels.FORM)),r(n,"dispatch is required"),r(B()(n),"invalid dispatch (expecting a function)");var i=a();function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.validating.FORM||e.validating[t]}return{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.labels[t]},getValue:function(t){return G(t||"FORM"!==t,"IFormMeta.IForm.getValue() unsupported fieldName: ".concat(t)),e.values[t]},isValid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return"FORM"===t?0===Object.keys(e.msgs).length:!e.msgs[t]},getMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return e.msgs[t]},getExposedMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM";return o(t)?e.msgs[t]:null},isValidationExposed:o,inProcess:function(){return e.inProcess},handleFieldChanged:function(e,t){n(i.fieldChanged(e,t))},handleFieldTouched:function(e){n(i.fieldTouched(e))},handleProcess:function(e){n(i.process()),e&&e.preventDefault()},handleClose:function(){n(i.close())}}}}}({formDesc:"Sign In",formSchema:F.object().shape({email:F.string().required().email().label("Email"),pass:F.string().required().min(6).max(9).label("Password")}),formActionsAccessor:function(){return ne.signIn},formStateSelector:function(e){return function(e){return X(e).signInForm}(e)}}),ne=T.generateActions.root(Object(C.a)({},"auth",{autoSignIn:{actionMeta:{},haveDeviceCredentials:{actionMeta:{traits:["credentials"]}},noDeviceCredentials:{actionMeta:{}}},signIn:te.registrar.formActionGenesis({actionMeta:{traits:["email","pass"]},complete:{actionMeta:{traits:["user"]}},checkEmailVerified:{actionMeta:{}},resendEmailVerification:{actionMeta:{}}}),signOut:{actionMeta:{}},userProfileChanged:{actionMeta:{traits:["user"]}}})),ae=n(32),re=n(21),ie=n.n(re),oe=n(36),ce=n(57),se=n(229),le=n(633);function ue(e){var t=me();return c.a.createElement(se.SnackbarProvider,{maxSnack:3,dense:!0,className:t.variantSuccess},c.a.createElement(ve,null,e.children))}var me=Object(d.a)((function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}})),pe=null,fe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r))),G(!pe,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),pe=Object(ce.a)(n),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.msg,a=t.duration,r=void 0===a?5:a,i=t.level,o=void 0===i?"success":i,s=t.position,l=void 0===s?"bottom-left":s,u=t.modal,m=void 0!==u&&u,p=t.actions,f=void 0===p?[]:p,d=Object(y.a)(t,["msg","duration","level","position","modal","actions"]),g=G.prefix("notify() parameter violation: ");g(n,"directive.msg is required"),g(W()(n),"msg must be a string"),null!==r&&g(r>=1&&r<=20,"supplied duration (".concat(r,") must be a number between 1 and 20 (inclusive).")),g(de[o],"invalid level: '".concat(o,"', expecting one of ").concat(Object.keys(de),".")),g(ge[l],"invalid position: '".concat(l,"', expecting one of ").concat(Object.keys(ge),".")),g(!0===m||!1===m,"supplied modal (".concat(m,") must be a boolean true/false.")),g(f,"actions must be an Action[] array"),g(Array.isArray(f),"actions must be an Action[] array"),f.forEach((function(e,t){g(e.txt,"action[".concat(t,"].txt is required")),g(W()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&g(B()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))}));var h=Object.keys(d);g(0===h.length,"unrecognized named parameter(s): ".concat(h));var v=r?1e3*r:null;r||0!==f.length||(f=[{txt:"OK"}]);var b=f.reduce((function(e,t){return e[t.txt]=t.action||he,e}),{}),O=f.map((function(e,t){return c.a.createElement(le.a,{key:t,color:"default",size:"small"},e.txt)})),E=this.props.enqueueSnackbar(n,{variant:de[o],autoHideDuration:v,anchorOrigin:ge[l],action:O,onClick:function(t){e.props.closeSnackbar(E);var n=b[t.target.textContent];setTimeout((function(){return n()}),400)}})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.props.children)}}]),t}(c.a.Component),de={success:"success",info:"info",warn:"warning",error:"error"},ge={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},he=function(e){return e},ve=Object(se.withSnackbar)(fe);function be(e){G(pe,"notify(): NO <Notify> instance has been established in the app root."),pe.display(e)}function Oe(e,t){var n=e.msg,a=e.duration,r=void 0===a?5:a,i=e.actions,o=Object(y.a)(e,["msg","duration","actions"]),c=t?".".concat(t):"",s=G.prefix("toast".concat(c,"() parameter violation: "));s(n,"msg named parameter is required");var l=Object.keys(o);s(0===l.length,"unrecognized named parameter(s): ".concat(l)),be({msg:n,duration:r,level:t,position:"bottom-left",modal:!1,actions:i})}function Ee(e){Oe(e)}function ye(e,t){var n=e.msg,a=e.actions,r=Object(y.a)(e,["msg","actions"]),i=t?".".concat(t):"",o=G.prefix("alert".concat(i,"() parameter violation: "));o(n,"msg named parameter is required");var c=Object.keys(r);o(0===c.length,"unrecognized named parameter(s): ".concat(c)),be({msg:n,duration:null,level:t,position:"top-center",modal:!0,actions:a})}function je(e){ye(e)}function we(e,t){var n=e.msg,a=e.actions,r=Object(y.a)(e,["msg","actions"]),i=t?".".concat(t):"",o=G.prefix("confirm".concat(i,"() parameter violation: "));o(n,"msg named parameter is required"),o(a&&a.length>0,"client-specific actions are required.");var c=Object.keys(r);o(0===c.length,"unrecognized named parameter(s): ".concat(c)),be({msg:n,duration:null,level:t,position:"top-right",modal:!0,actions:a})}function Se(e){we(e)}ve.displayName="NotifyAPI_withSnackBar",Ee.success=function(e){Oe(e,"success")},Ee.info=function(e){Oe(e,"info")},Ee.warn=function(e){Oe(e,"warn")},Ee.error=function(e){Oe(e,"error")},je.success=function(e){ye(e,"success")},je.info=function(e){ye(e,"info")},je.warn=function(e){ye(e,"warn")},je.error=function(e){ye(e,"error")},Se.success=function(e){we(e,"success")},Se.info=function(e){we(e,"info")},Se.warn=function(e){we(e,"warn")},Se.error=function(e){we(e,"error")};var Ie="DYNAMIC_DEFAULT";function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,n=e.showUser,a=void 0===n||n,r=e.logIt,i=void 0===r?Ie:r,o=Object(y.a)(e,["err","showUser","logIt"]);try{var c=G.prefix("discloseError() parameter violation: ");c(t,"err is required"),c(t instanceof Error,"err must be an Error object, NOT: ",t),c(!0===(a=a===Ie?t.isExpected():a)||!1===a,"showUser must be a boolean"),c(!0===(i=i===Ie?t.isUnexpected():i)||!1===i,"logIt must be a boolean");var s=Object.keys(o);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),c(0===arguments.length||1===arguments.length,"unrecognized positional parameters (only named parameters can be specified)")}catch(u){return console.log("YIKES ... visualize-it's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',u)}if(a&&(t.isUnexpected()?Ee.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){je.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):Ee.warn({msg:t.formatUserMsg()})),i){var l=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(l+t),t.isUnexpected()&&(console.log("Stack Trace ..."),console.log(t))}}var ke=n(51),Me=n.n(ke);function Ne(){}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.prefix("encode(ref) parameter violation: ");n(e,"ref is required"),n(W()(e)||Me()(e),"ref must be a string -or- an object literal. NOT: ",e),n(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var a=e;return Me()(a)&&(a=Ue+JSON.stringify(a)),t&&(a=Ce+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(a)),a}function Re(e){if(G.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!W()(e))return e;var t=e;return 0===t.indexOf(Ce)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(Ce.length))),0===t.indexOf(Ue)&&(t=t.substring(Ue.length),t=JSON.parse(t)),t}var Ue="obj2str:",Ce="afesa";function Te(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=G.prefix("storeItem() parameter violation: ");a(e,"key is required"),a(W()(e),"key must be a string, NOT: ",e),a(t,"ref is required"),a(W()(t)||Me()(t),"ref must be a string -or- an object literal, NOT: ",t),a(!0===n||!1===n,"safeguard must be a boolean (true/false), NOT: ",n);var r=Ae(t,n);ze.setItem(e,r)}function Fe(e){var t=G.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(W()(e),"key must be a string, NOT: ",e);var n=ze.getItem(e);return n?Re(n):null}function Ve(e){var t=G.prefix("removeItem() parameter violation: ");t(e,"key is required"),t(W()(e),"key must be a string, NOT: ",e),ze.removeItem(e)}var qe=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(a){return a instanceof DOMException&&(22===a.code||1014===a.code||"QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&t&&0!==t.length}}("localStorage");qe||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var ze=qe?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:Ne,getItem:Ne,removeItem:Ne};var De="credentials",Pe=Object(q.b)({name:"".concat("auth",".checkDeviceCredentials"),type:String(ne.autoSignIn),process:function(e,t,n){e.getState,e.action,e.fassets;var a=Fe(De);t(a?ne.autoSignIn.haveDeviceCredentials(a):ne.autoSignIn.noDeviceCredentials()),n()}}),We=Object(q.b)({name:"".concat("auth",".autoSignIn"),type:String(ne.autoSignIn.haveDeviceCredentials),process:function(e,t,n){e.getState;var a=e.action,r=(e.fassets,a.credentials),i=r.email,o=r.pass;t(ne.signIn(i,o)),n()}}),Le=Object(q.b)({name:"".concat("auth",".manualSignIn'"),type:[String(ne.autoSignIn.noDeviceCredentials),String(ne.signOut)],process:function(e,t,n){e.getState,e.action;t(ne.signIn.open()),n()}}),Be=Object(q.b)({name:"".concat("auth",".processSignIn"),type:String(ne.signIn.process),process:function(e,t,n){e.getState;var a=e.action;t(ne.signIn(a.values.email,a.values.pass)),n()}}),Ge=Object(q.b)({name:"".concat("auth",".signIn"),type:String(ne.signIn),warnTimeout:0,process:function(){var e=Object(oe.a)(ie.a.mark((function e(t,n,a){var r,i,o;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.getState,r=t.action,i=t.fassets,e.prev=1,e.next=4,i.authService.signIn(r.email,r.pass);case 4:o=e.sent,c=r.email,s=r.pass,Te(De,{email:c,pass:s},!0),n(ne.signIn.complete(o)),a(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),xe({err:e.t0,showUser:e.t0.isUnexpected()}),n(ne.signIn.open(r,e.t0.formatUserMsg())),a();case 15:case"end":return e.stop()}var c,s}),e,null,[[1,10]])})));return function(t,n,a){return e.apply(this,arguments)}}()}),He=Object(q.b)({name:"".concat("auth",".supplementSignInComplete"),type:String(ne.signIn.complete),process:function(e,t,n){e.getState;var a=e.action;t(ne.userProfileChanged(a.user)),n()}}),_e=Object(q.b)({name:"".concat("auth",".signInCleanup"),type:String(ne.signIn.complete),process:function(e,t,n){e.getState,e.action;t(ne.signIn.close()),n()}}),Ye=Object(q.b)({name:"".concat("auth",".checkEmailVerified"),type:String(ne.signIn.checkEmailVerified),transform:function(){var e=Object(oe.a)(ie.a.mark((function e(t,n,a){var r,i,o,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getState,i=t.action,o=t.fassets,e.prev=1,e.next=4,o.authService.refreshUser();case 4:(c=e.sent).emailVerified?Ee({msg:"your email has been verified: ".concat(ee(r()).email)}):Ee.warn({msg:"your email has NOT YET been verified: ".concat(ee(r()).email)}),i.user=c,n(i),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),xe({err:e.t0}),a();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,a){return e.apply(this,arguments)}}()}),Ke=Object(q.b)({name:"".concat("auth",".resendEmailVerification"),type:String(ne.signIn.resendEmailVerification),transform:function(e,t){var n=e.getState,a=e.action,r=e.fassets;Ee({msg:"resending email to: ".concat(ee(n()).email)}),r.authService.resendEmailVerification(),t(a)}}),Je=Object(q.b)({name:"".concat("auth",".supplementSignOutUser"),type:String(ne.signOut),transform:function(e,t,n){var a=e.getState,r=e.action;e.fassets;r.user=ee(a()),t(r)}}),Qe=Object(q.b)({name:"".concat("auth",".signOut"),type:String(ne.signOut),process:function(){var e=Object(oe.a)(ie.a.mark((function e(t,n,a){var r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.getState,t.action,r=t.fassets,e.prev=1,e.next=4,r.authService.signOut();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),xe({err:e.t0});case 9:return e.prev=9,Ve(De),a(),e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[1,6,9,13]])})));return function(t,n,a){return e.apply(this,arguments)}}()}),Ze=[Pe,We,Le].concat(Object(ae.a)(te.registrar.formLogic()),[Be,Ge,He,_e,Ye,Ke,Je,Qe]),$e=n(27),Xe=n(28),et=n(634),tt=T.generateActions.root(Object(C.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},setResponsiveMode:{actionMeta:{traits:["responsiveMode"]}},changeView:{actionMeta:{traits:["viewName"]}}}));var nt="uiTheme";var at="responsiveMode",rt=Object(K.slicedReducer)("baseUI",Object(i.expandWithFassets)((function(e){var t;return Object(Y.combineReducers)({uiTheme:Object(V.reducerHash)(Object(C.a)({},tt.toggleUITheme,(function(e,t){return"dark"===e?"light":"dark"})),Fe(nt)),responsiveMode:Object(V.reducerHash)(Object(C.a)({},tt.setResponsiveMode,(function(e,t){return t.responsiveMode})),Fe(at)||"sm"),curView:Object(V.reducerHash)((t={},Object(C.a)(t,tt.changeView,(function(e,t){return t.viewName})),Object(C.a)(t,e.actions.signOut,(function(e,t){return"eateries"})),t),"uninitialized")})}))),it=rt,ot=function(e){return rt.getSlicedState(e)},ct=function(e){return ot(e).uiTheme||"light"},st=function(e){return ot(e).responsiveMode};function lt(){var e=Object(Xe.a)();return Object(et.a)(e.breakpoints.down("xs"))}var ut=n(639),mt=n(170),pt=n.n(mt),ft=n(636),dt=n(638),gt=n(640),ht=n(637),vt=n(169),bt=n.n(vt),Ot=n(316),Et=n.n(Ot),yt=n(139),jt=n.n(yt),wt=n(326),St=n(225),It=n(635),xt=(c.a.forwardRef((function(e,t){return c.a.createElement(wt.a,Object.assign({ref:t,timeout:"1000"},e))})),c.a.forwardRef((function(e,t){return c.a.createElement(St.a,Object.assign({ref:t,direction:"right",timeout:"1000"},e))})),c.a.forwardRef((function(e,t){return c.a.createElement(It.a,Object.assign({ref:t,timeout:"1000"},e))})));function kt(){var e=Object($e.useSelector)((function(e){return ee(e).email}),[]),t=Object($e.useDispatch)(),n=Object(o.useCallback)((function(){return t(ne.signIn.checkEmailVerified())}),[t]),a=Object(o.useCallback)((function(){return t(ne.signIn.resendEmailVerification())}),[t]),r=Object(o.useCallback)((function(){return t(ne.signOut())}),[t]),i=lt(),s=Mt();return c.a.createElement(ft.a,{open:!0,fullScreen:i,TransitionComponent:xt},c.a.createElement(ht.a,{disableTypography:!0,className:s.titleBar},c.a.createElement(g.a,{className:s.title,variant:"h6",color:"inherit",noWrap:!0},"Visualize It")),c.a.createElement(dt.a,null,c.a.createElement(b,null,c.a.createElement(ut.a,{className:s.lockAvatar},c.a.createElement(bt.a,null))),c.a.createElement(b,null,c.a.createElement(g.a,{variant:"h6",noWrap:!0},"Sign In Verification")),c.a.createElement(gt.a,{className:s.entry},"Your account email has not been verified."),c.a.createElement(gt.a,{className:s.entry},"Please follow the instructions from the email sent to: ",e),c.a.createElement("div",{className:s.entry},c.a.createElement(b,null,c.a.createElement(g.a,{variant:"body2"},"... once completed:")),c.a.createElement(b,null,c.a.createElement(le.a,{variant:"contained",color:"primary",onClick:n},c.a.createElement(pt.a,{className:s.icon}),"Continue"))),c.a.createElement("div",{className:s.entry},c.a.createElement(b,null,c.a.createElement(le.a,{variant:"contained",color:"secondary",onClick:a},c.a.createElement(Et.a,{className:s.icon}),"Resend Email"))),c.a.createElement("div",{className:s.entry},c.a.createElement(b,null,c.a.createElement(le.a,{variant:"contained",color:"secondary",onClick:r},c.a.createElement(jt.a,{className:s.icon}),"Sign Out")))))}var Mt=Object(d.a)((function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},lockAvatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},entry:{margin:"30px 0px"},icon:{marginRight:e.spacing(1)},inProgress:{margin:e.spacing(4)}}})),Nt=n(655);function At(e){var t=e.fieldName,n=e.iForm,a=Object(y.a)(e,["fieldName","iForm"]),r=G.prefix("<ITextField> property violation: ");r(t,"fieldName is required"),r(n,"iForm is required"),r(n.handleFieldTouched,"iForm prop MUST be an IFormMeta object ... in fieldName: '".concat(t,"'"));var i=n.getLabel(t);r(i,"supplied fieldName '".concat(t,"' does NOT exist in the supplied iForm: '").concat(n.getLabel(),"'")),["label","value","disabled","onChange","onBlur","error"].forEach((function(e){return r(!a[e],"'".concat(e,"' prop cannot be used (it is managed internally) ... for fieldName: '").concat(t,"'"))}));var o={};if(n.isValidationExposed(t)){var s=n.getMsg(t);s&&(o.error=!0,o.helperText=s)}return c.a.createElement(Nt.a,Object.assign({label:i,value:n.getValue(t),disabled:n.inProcess(),onChange:function(e){return n.handleFieldChanged(t,e.target.value)},onBlur:function(){return n.handleFieldTouched(t)}},a,o))}var Rt=n(642),Ut=n(643);function Ct(){var e=Object($e.useDispatch)(),t=Object($e.useSelector)((function(e){return te.formStateSelector(e)}),[]),n=lt(),a=Tt(),r=te.IForm(t,e),i=r.getLabel(),o=r.inProcess(),s=r.getMsg();return c.a.createElement(ft.a,{open:!0,fullScreen:n,TransitionComponent:xt},c.a.createElement(ht.a,{disableTypography:!0,className:a.titleBar},c.a.createElement(g.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},"Visualize It")),c.a.createElement(dt.a,null,c.a.createElement("form",{onSubmit:r.handleProcess},c.a.createElement("fieldset",{className:a.invisible,disabled:o},c.a.createElement(b,null,c.a.createElement(ut.a,{className:a.lockAvatar},c.a.createElement(bt.a,null))),c.a.createElement(b,null,c.a.createElement(g.a,{variant:"h6",noWrap:!0},i)),c.a.createElement(gt.a,{className:a.entry},"Welcome to Visualize It ... please ",i,"!"),c.a.createElement("div",{className:a.entry},c.a.createElement(At,{fieldName:"email",iForm:r,autoFocus:!0,required:!0,fullWidth:!0,type:"email",placeholder:"jon.snow@gmail.com",helperText:"your email is your ID"})),c.a.createElement("div",{className:a.entry},c.a.createElement(At,{fieldName:"pass",iForm:r,required:!0,fullWidth:!0,type:"password"})),c.a.createElement(b,null,c.a.createElement(le.a,{type:"submit",variant:"contained",color:"primary"},c.a.createElement(jt.a,{className:a.icon}),i)),c.a.createElement(Rt.a,{error:!0},s),o&&c.a.createElement("div",{className:a.entry},c.a.createElement(Ut.a,{className:a.inProgress,color:"secondary"})),c.a.createElement("div",{className:a.entry},c.a.createElement(b,null,c.a.createElement(g.a,{variant:"body2",color:"secondary"},"... don't have an account?")),c.a.createElement(b,null,c.a.createElement(le.a,{variant:"contained",color:"secondary",onClick:function(){return Ee.warn({msg:"Sign Up has not yet been implemented."})}},c.a.createElement(jt.a,{className:a.icon}),"Sign Up")))))))}var Tt=Object(d.a)((function(e){return{titleBar:{display:"flex",alignItems:"center",padding:"10px 15px",color:e.palette.common.white,backgroundColor:e.palette.primary.main},title:{flexGrow:1},lockAvatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},entry:{margin:"30px 0px"},invisible:{border:"0 none",margin:0,padding:0},icon:{marginRight:e.spacing(1)},inProgress:{margin:e.spacing(4)}}})),Ft=n(38);function Vt(e){var t=e.msg,n=e.err,a=lt(),r=qt();return t?c.a.createElement(Lt,{msg:t,err:n,open:!0,fullScreen:a,classes:r}):c.a.createElement(zt,{fullScreen:a,classes:r})}Vt.defaultProps={msg:"",err:null};var qt=Object(d.a)((function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},progress:{margin:e.spacing(4)}}}));function zt(e){var t=e.fullScreen,n=e.classes,a=Object(o.useState)({msg:"",err:null}),r=Object(Ft.a)(a,2),i=r[0],s=r[1];if(Pt&&Pt!==s)throw new Error("***ERROR*** <SplashScreen/> (supporting the programmatic `splash(msg, [err])` API) should only be instantiated ONE TIME (in the app root DOM)");return Pt=s,c.a.createElement(Lt,{msg:i.msg,err:i.err,open:!!i.msg,fullScreen:t,classes:n})}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Pt)throw new Error("***ERROR*** the programmatic `splash(msg, [err])` API requires <SplashScreen/> be instantiated in the app root DOM");Pt({msg:e,err:t})}var Pt=null,Wt=null;function Lt(e){var t=e.msg,n=e.err,a=e.open,r=e.fullScreen,i=e.classes,o=n?c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement(g.a,{variant:"subtitle2",color:"secondary"},"Encountered ERROR: ",n.formatUserMsg()),c.a.createElement(le.a,{variant:"contained",color:"secondary",onClick:function(){je.error({msg:"An unexpected error occurred:\n\n".concat(n,"\n\nIf this problem persists, please contact your tech support.")})}},c.a.createElement(g.a,{variant:"subtitle2"},"Show Detail"))):null;if(n&&n!==Wt){Wt=n;var s=n.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(s+n),n.isUnexpected()&&(console.log("Stack Trace ..."),console.log(n))}return c.a.createElement(ft.a,{open:a,fullScreen:r,TransitionComponent:xt},c.a.createElement(ht.a,{className:i.title},c.a.createElement("center",{className:i.title},"Visualize It")),c.a.createElement(dt.a,null,c.a.createElement("center",null,c.a.createElement("br",null),c.a.createElement("img",{width:"120px",src:"/visualize-it-logo.png",alt:"visualize-it"}),c.a.createElement("br",null),c.a.createElement(Ut.a,{className:i.progress,color:"secondary"}),c.a.createElement(g.a,{variant:"body2"},t),o,c.a.createElement("br",null))))}var Bt=Object(s.featureRoute)({priority:s.PRIORITY.HIGH,content:function(e){e.fassets;var t=e.appState,n=ee(t);if(n.isUserSignedIn())return null;if(n.isUserSignedInUnverified())return c.a.createElement(kt,null);if(function(e){return!!X(e).signInForm}(t))return c.a.createElement(Ct,null);var a="authorization in progress (".concat(n.getAuthStatus(),")");return c.a.createElement(Vt,{msg:a})}}),Gt=n(645),Ht=n(644),_t=n(325),Yt=n(317),Kt=n.n(Yt);function Jt(e){var t=e.curUser,n=Object(o.useState)(null),a=Object(Ft.a)(n,2),r=a[0],s=a[1],l=Object(o.useMemo)((function(){return Boolean(r)}),[r]),u=Object(o.useCallback)((function(e){return s(e.currentTarget)}),[]);Zt=Object(o.useCallback)((function(){return s(null)}),[]);var m=Object(i.useFassets)("AppMotif.UserMenuItem.*@withKeys"),p=Object(o.useMemo)((function(){return Object(ae.a)(m).sort((function(e,t){var n=Object(Ft.a)(e,1)[0],a=Object(Ft.a)(t,1)[0];return n.localeCompare(a)}))}),[m]);return c.a.createElement("div",null,c.a.createElement(Ht.a,{color:"inherit",onClick:u},c.a.createElement(Kt.a,null),c.a.createElement(g.a,{variant:"subtitle2",color:"inherit",noWrap:!0},"\xa0",t.name)),c.a.createElement(_t.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:Qt},p.map((function(e){var t=Object(Ft.a)(e,2),n=t[0],a=t[1];return c.a.createElement(a,{key:n})}))))}function Qt(){Zt&&Zt()}var Zt=null;function $t(e){return c.a.createElement(Gt.a,Object.assign({},e,{onClick:function(){Qt(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}function Xt(){Ee.warn({msg:"NOT implemented yet (coming soon)!"})}var en=Object(i.createFeature)({name:"auth",fassets:{define:{"actions.userProfileChanged":ne.userProfileChanged,"actions.signOut":ne.signOut,"actions.signIn.complete":ne.signIn.complete,"sel.curUser":ee},defineUse:{"AppMotif.UserMenuItem.cc5_AuthUserMenu":function(){var e=Object($e.useDispatch)(),t=Object(o.useCallback)((function(){Se.warn({msg:"Are you sure you wish to sign out?",actions:[{txt:"Sign Out",action:function(){return e(ne.signOut())}},{txt:"Go Back"}]})}),[e]);return c.a.createElement(c.a.Fragment,null,c.a.createElement($t,{onClick:Xt},"User Profile"),c.a.createElement($t,{onClick:t},"Sign Out"))}}},reducer:$,logic:Ze,route:Bt,appDidStart:function(e){e.fassets,e.appState;(0,e.dispatch)(ne.autoSignIn())}}),tn=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"signIn",value:function(){var e=Object(oe.a)(ie.a.mark((function e(t,n){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("***ERROR*** ".concat(this.constructor.name,".signIn() is a required service method that has NOT been implemented"));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"refreshUser",value:function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("***ERROR*** ".concat(this.constructor.name,".refreshUser() is a required service method that has NOT been implemented"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resendEmailVerification",value:function(){throw new Error("***ERROR*** ".concat(this.constructor.name,".resendEmailVerification() is a required service method that has NOT been implemented"))}},{key:"signOut",value:function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("***ERROR*** ".concat(this.constructor.name,".signOut() is a required service method that has NOT been implemented"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nn=Object(i.createFeature)({name:"authService",fassets:{use:[["authService",{required:!0,type:function(e){return e instanceof tn?null:"object of type AuthServiceAPI, NOT: "+e}}]]}});var an={useWIFI:!0,log:!1,sandbox:!1},rn=n(69),on=n.n(rn),cn=(n(564),n(566),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).currentAppUser=null,n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"signIn",value:function(){var e=Object(oe.a)(ie.a.mark((function e(t,n){var a,r,i,o,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("guestNO"!==n||0!==t.indexOf("guestNO@")){e.next=3;break}return this.currentAppUser=new Q({name:"Harry",email:t,emailVerified:!0,pool:"mockNO",guestLoc:{lat:30.010479,lng:-90.119414}}),e.abrupt("return",this.currentAppUser);case 3:return e.prev=3,e.next=6,on.a.auth().signInWithEmailAndPassword(t,n);case 6:return a=e.sent,r=a.user,i=on.a.database().ref("/userProfiles/".concat(r.uid)),e.prev=9,e.next=12,i.once("value");case 12:if(o=e.sent,c=o.val()){e.next=16;break}throw new Error("***ERROR*** No userProfile exists for user: ".concat(r.user.email)).defineAttemptingToMsg("sign in to app (your user profile does NOT exist)");case 16:return this.currentAppUser=new Q({name:c.name,email:r.email,emailVerified:r.emailVerified,pool:c.pool}),e.abrupt("return",this.currentAppUser);case 20:throw e.prev=20,e.t0=e.catch(9),e.t0.attemptingToMsg||e.t0.defineAttemptingToMsg("sign in to app (a problem was encountered fetching your user profile)"),e.t0;case 24:e.next=30;break;case 26:throw e.prev=26,e.t1=e.catch(3),e.t1.code?e.t1.defineUserMsg("Invalid SignIn credentials."):e.t1.attemptingToMsg||e.t1.defineAttemptingToMsg("sign in to app"),e.t1;case 30:case"end":return e.stop()}}),e,this,[[3,26],[9,20]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"refreshUser",value:function(){var e=Object(oe.a)(ie.a.mark((function e(){var t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.currentAppUser){e.next=2;break}throw new Error("***ERROR*** (within app logic) AuthServiceFirebase.refreshUser(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("refresh a non-existent user (not yet signed in)");case 2:return e.prev=2,e.next=5,on.a.auth().currentUser.reload();case 5:return t=on.a.auth().currentUser,this.currentAppUser=new Q({name:this.currentAppUser.name,email:t.email,emailVerified:t.emailVerified,pool:this.currentAppUser.pool}),e.abrupt("return",this.currentAppUser);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0.defineAttemptingToMsg("refresh the signed-in user");case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"resendEmailVerification",value:function(){if(null===this.currentAppUser)throw new Error("***ERROR*** (within app logic) AuthServiceFirebase.resendEmailVerification(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("resend an email verification to a non-existent user (not yet signed in)");on.a.auth().currentUser.sendEmailVerification()}},{key:"signOut",value:function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.currentAppUser){e.next=2;break}throw new Error("***ERROR*** (within app logic) AuthServiceFirebase.signOut(): may only be called once a successful signIn() has completed.").defineAttemptingToMsg("sign-out a non-existent user (not yet signed in)");case 2:return e.prev=2,e.next=5,on.a.auth().signOut();case 5:this.currentAppUser=null,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),e.t0.defineAttemptingToMsg("sign-out the user");case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()}]),t}(tn)),sn=Object(i.createFeature)({name:"authServiceFirebase",enabled:an.useWIFI,fassets:{defineUse:{authService:new cn}}}),ln=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).currentAppUser=null,!an.useWIFI&&console.log("***AuthServiceMock*** mocking AuthService (via AuthServiceMock)"),e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"signIn",value:function(){var e=Object(oe.a)(ie.a.mark((function e(t,n){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("unexpect"!==n){e.next=2;break}throw new Error("***ERROR*** Simulated Unexpected Condition").defineAttemptingToMsg("sign in to app");case 2:if("expect"!==n){e.next=4;break}throw new Error("***ERROR*** Invalid Password").defineUserMsg("Invalid SignIn credentials.").defineAttemptingToMsg("sign in to app");case 4:if(this.currentAppUser=new Q({name:"MockGuy",email:t,emailVerified:!1,pool:"mock"}),"unverify"!==n){e.next=7;break}return e.abrupt("return",this.currentAppUser);case 7:return this.currentAppUser.emailVerified=!0,e.abrupt("return",this.currentAppUser);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"refreshUser",value:function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentAppUser=this.currentAppUser.clone(),this.currentAppUser.emailVerified=!0,e.abrupt("return",this.currentAppUser);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resendEmailVerification",value:function(){}},{key:"signOut",value:function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentAppUser=null;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(tn),un=Object(i.createFeature)({name:"authServiceMock",enabled:!an.useWIFI,fassets:{defineUse:{authService:new ln}}});function mn(){return(mn=Object(oe.a)(ie.a.mark((function e(t){var n,a,r,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.showStatus,t.fassets,t.appState,t.dispatch,n("Initializing Firebase"),e.next=4,fetch("fbac");case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("**ERROR** Accessing /fbac resource was REJECTED with status: ".concat(a.status));case 7:return e.next=9,a.text();case 9:if(!(r=e.sent).includes("<html")){e.next=12;break}throw new Error("**ERROR** Non Existent Resource: /fbac");case 12:return i=Re(r),e.next=15,on.a.initializeApp(i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pn=Object(i.createFeature)({name:"initFirebase",enabled:an.useWIFI,appInit:function(e){return mn.apply(this,arguments)}}),fn=[Object(q.b)({name:"".concat("baseUI",".persistUITheme"),type:String(tt.toggleUITheme),process:function(e,t,n){var a,r=e.getState;e.action,e.fassets;a=ct(r()),Te(nt,a),n()}}),Object(q.b)({name:"".concat("baseUI",".persistResponsiveMode"),type:String(tt.setResponsiveMode),process:function(e,t,n){var a,r=e.getState;e.action,e.fassets;a=st(r()),Te(at,a),n()}})],dn=n(631),gn=n(161),hn=n(654),vn=n(646),bn=n(641),On=n(647),En=n(589),yn=n(650),jn=n(648),wn=n(649),Sn=n(226),In=n(318),xn=n.n(In),kn=n(319),Mn=n.n(kn),Nn=n(172),An=n.n(Nn),Rn=n(167),Un=n(4),Cn=n(9),Tn=n(652),Fn=n(651),Vn=n(230),qn=n(320),zn=n.n(qn);function Dn(){var e=Object(i.useFassets)("AppMotif.LeftNavItem.*@withKeys"),t=Object(o.useMemo)((function(){return Object(ae.a)(e).sort((function(e,t){var n=Object(Ft.a)(e,1)[0],a=Object(Ft.a)(t,1)[0];return n.localeCompare(a)}))}),[e]),n=Pn();return c.a.createElement(vn.a,{className:n.leftNav,variant:"permanent",classes:{paper:n.leftNavPaper}},c.a.createElement(On.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our LeftNav isn't covered up by the AppBar"}),c.a.createElement(bn.a,null,c.a.createElement(Wn,{name:"ACME System"},c.a.createElement(g.a,{variant:"body2",color:"inherit",noWrap:!0},"WowZee WowZee WooWoo ... This can be anything ... I hope it works."),c.a.createElement(g.a,{variant:"body2",color:"inherit",noWrap:!0},"Here we go!!!")),c.a.createElement(jn.a,null),c.a.createElement(Wn,{name:"Plumbing Comps"},c.a.createElement(Jn,null)),c.a.createElement(jn.a,null),c.a.createElement(Wn,{name:"Electrical Comps"},c.a.createElement(Zn,null)),c.a.createElement(jn.a,null),t.map((function(e){var t=Object(Ft.a)(e,2),n=t[0],a=t[1];return c.a.createElement(a,{key:n})}))))}var Pn=Object(d.a)((function(e){return{leftNav:{width:240,flexShrink:0},leftNavPaper:{width:240}}}));function Wn(e){var t=e.name,n=e.children,a=Ln(),r=c.a.useState(!1),i=Object(Ft.a)(r,2),o=i[0],s=i[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(En.a,{button:!0,onClick:function(){s(!o)}},c.a.createElement(wn.a,null,c.a.createElement(xn.a,null)),c.a.createElement(yn.a,{primary:t}),o?c.a.createElement(Mn.a,null):c.a.createElement(An.a,null)),c.a.createElement(Sn.a,{in:o,timeout:"auto"},c.a.createElement(h.a,{className:a.pallet},n)))}var Ln=Object(d.a)((function(e){return{pallet:{margin:e.spacing(0,2,2,2),padding:e.spacing(1)}}}));function Bn(e){return c.a.createElement(Rn.a,Object.assign({fontSize:"inherit"},e),c.a.createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"}))}function Gn(e){return c.a.createElement(Rn.a,Object.assign({fontSize:"inherit"},e),c.a.createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"}))}function Hn(e){return c.a.createElement(Rn.a,Object.assign({className:"close",fontSize:"inherit"},e),c.a.createElement("path",{d:"M17.485 17.512q-.281.281-.682.281t-.696-.268l-4.12-4.147-4.12 4.147q-.294.268-.696.268t-.682-.281-.281-.682.294-.669l4.12-4.147-4.12-4.147q-.294-.268-.294-.669t.281-.682.682-.281.696 .268l4.12 4.147 4.12-4.147q.294-.268.696-.268t.682.281 .281.669-.294.682l-4.12 4.147 4.12 4.147q.294.268 .294.669t-.281.682zM22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0z"}))}function _n(e){var t=Object(Vn.useSpring)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return c.a.createElement(Vn.animated.div,{style:t},c.a.createElement(Sn.a,e))}var Yn=Object(Un.a)((function(e){return{iconContainer:{"& .close":{opacity:.3}},group:{marginLeft:12,paddingLeft:12,borderLeft:"1px dashed ".concat(Object(Cn.d)(e.palette.text.primary,.4))}}}))((function(e){return c.a.createElement(Fn.a,Object.assign({},e,{TransitionComponent:_n}))})),Kn=Object(d.a)((function(e){return{root:{flexGrow:1,maxWidth:400}}}));function Jn(){var e=Kn();return c.a.createElement(Tn.a,{className:e.root,defaultExpanded:["1"],defaultCollapseIcon:c.a.createElement(Bn,null),defaultExpandIcon:c.a.createElement(Gn,null),defaultEndIcon:c.a.createElement(Hn,null)},c.a.createElement(Yn,{nodeId:"1",label:"Main"},c.a.createElement(Yn,{nodeId:"2",label:"Hello"}),c.a.createElement(Yn,{nodeId:"3",label:"Sub-Children"},c.a.createElement(Yn,{nodeId:"6",label:"Hello"}),c.a.createElement(Yn,{nodeId:"7",label:"Sub-Children"},c.a.createElement(Yn,{nodeId:"9",label:"Child 1"}),c.a.createElement(Yn,{nodeId:"10",label:"Child 2"}),c.a.createElement(Yn,{nodeId:"11",label:"Child 3"})),c.a.createElement(Yn,{nodeId:"8",label:"Hello"})),c.a.createElement(Yn,{nodeId:"4",label:"World"}),c.a.createElement(Yn,{nodeId:"5",label:"Something Else"})))}var Qn=Object(d.a)((function(e){return{root:{flexGrow:1,maxWidth:400}}}));function Zn(){var e=Qn();return c.a.createElement(Tn.a,{className:e.root,defaultCollapseIcon:c.a.createElement(An.a,null),defaultExpandIcon:c.a.createElement(zn.a,null)},c.a.createElement(Fn.a,{nodeId:"1",label:"Applications"},c.a.createElement(Fn.a,{nodeId:"2",label:"Calendar"}),c.a.createElement(Fn.a,{nodeId:"3",label:"Chrome"}),c.a.createElement(Fn.a,{nodeId:"4",label:"Webstorm"})),c.a.createElement(Fn.a,{nodeId:"5",label:"Documents"},c.a.createElement(Fn.a,{nodeId:"6",label:"Material-UI"},c.a.createElement(Fn.a,{nodeId:"7",label:"src"},c.a.createElement(Fn.a,{nodeId:"8",label:"index.js"}),c.a.createElement(Fn.a,{nodeId:"9",label:"tree-view.js"})))))}var $n=n(653),Xn=n(321),ea=n.n(Xn);function ta(e){var t=e.children,n=Object(i.useFassets)(),a=Object($e.useSelector)((function(e){return n.sel.curUser(e)}),[n]),r=Object($e.useSelector)((function(e){return n.sel.curView(e)}),[n]),s=na(),l=n.get("AppMotif.auxViewContent.*@withKeys"),u=Object(o.useMemo)((function(){return function(e,t){var n="AppMotif.auxViewContent.".concat(e),a=t.find((function(e){return Object(Ft.a)(e,1)[0]===n}))||aa;return Object(Ft.a)(a,2)[1]}(r,l)}),[r,l]),m=u.TitleComp,p=u.FooterComp;return a.isUserSignedIn()?c.a.createElement("div",{className:s.app},c.a.createElement($n.a,{className:s.appBar,position:"fixed"}," ",c.a.createElement(On.a,{className:s.toolbar,variant:"dense",disableGutters:!1}," ",c.a.createElement(Ht.a,{className:s.menuButton,color:"inherit",onClick:function(){return Ee.warn({msg:"App Menu NOT implemented yet (coming soon)!"})}},c.a.createElement(ea.a,null)),c.a.createElement("div",{className:s.title},c.a.createElement(m,null)),c.a.createElement(Jt,{curUser:a}))),c.a.createElement(Dn,null),c.a.createElement("main",{className:s.content},c.a.createElement(On.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our main content isn't covered up by the AppBar"}),t),p&&c.a.createElement($n.a,{className:s.bottomBar,position:"absolute"},c.a.createElement(On.a,{className:s.toolbar,variant:"dense",disableGutters:!1},c.a.createElement(p,null)))):c.a.createElement(c.a.Fragment,null,t)}var na=Object(d.a)((function(e){return{app:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto"}}}));var aa=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){return c.a.createElement(g.a,{variant:"h6",color:"inherit",noWrap:!0},"Visualize It")}}];function ra(e){var t=e.children,n=Object($e.useSelector)((function(e){return ct(e)}),[]),a=Object(o.useMemo)((function(){return"dark"===n?oa:ia}),[n]),r=ca();return c.a.createElement(dn.a,{theme:a},c.a.createElement(hn.a,null),c.a.createElement(ue,null),c.a.createElement(Vt,null),c.a.createElement("main",{className:r.main},c.a.createElement(ta,null,t)))}var ia=Object(gn.a)({typography:{useNextVariants:!0},palette:{type:"light",primary:{main:"#336600"},secondary:{main:"#000"}}}),oa=Object(gn.a)({typography:{useNextVariants:!0},palette:{type:"dark",primary:{main:"#336600"},secondary:{main:"#000"}}}),ca=Object(d.a)((function(e){return{main:{width:"auto",display:"block"}}})),sa=n(656),la=n(322),ua=n.n(la),ma=n(323),pa=n.n(ma),fa=c.a.forwardRef((function(e,t){var n=Object($e.useSelector)((function(e){return ct(e)}),[]),a=Object(o.useMemo)((function(){return"light"===n?ua.a:pa.a}),[n]),r=Object(o.useMemo)((function(){return"light"===n?"to dark":"to light"}),[n]),i=Object($e.useDispatch)(),s=Object(o.useCallback)((function(){return i(tt.toggleUITheme())}),[i]);return c.a.createElement("span",Object.assign({},e,{ref:t}),c.a.createElement($t,{onClick:s},c.a.createElement(sa.a,{label:r,icon:c.a.createElement(a,null)})),c.a.createElement(jn.a,null))})),da=c.a.forwardRef((function(e,t){var n=Object($e.useSelector)((function(e){return st(e)}),[]),a=Object(o.useMemo)((function(){return"off"===n?function(){return null}:pt.a}),[n]),r=Object($e.useDispatch)(),i=Object(o.useCallback)((function(){Se.success({msg:'This app is designed with mobile devices in mind (i.e. cell phones).\n\nWhen the "responsive" mode is enabled, selected screens will dynamically adjust to take advantage of the additional screen real estate.  As an example, a simple list can morph into a detailed table.\n\nYou can define the "responsive" boundary where additional content is manifest (based on the screen width), or disable it altogether.\n\nSet the "responsive" boundary to:\n(** is current)',actions:[].concat(Object(ae.a)(ha(n,r)),[{txt:"Close"}])})}),[r,n]);return c.a.createElement("span",Object.assign({},e,{ref:t}),c.a.createElement($t,{onClick:i},c.a.createElement(sa.a,{label:"responsive",icon:c.a.createElement(a,null)})),c.a.createElement(jn.a,null))})),ga=[{name:"Tablet",value:"sm"},{name:"Desktop",value:"md"},{name:"Landscape",value:"lg"},{name:"Disable",value:"off"}],ha=function(e,t){return ga.map((function(n){return{txt:"".concat(e===n.value?"**":"").concat(n.name),action:function(){return t(tt.setResponsiveMode(n.value))}}}))},va=c.a.forwardRef((function(e,t){return c.a.createElement("span",Object.assign({},e,{ref:t}),c.a.createElement(jn.a,null),c.a.createElement($t,{onClick:ba},"About ..."))}));function ba(){var e="".concat("visualize-it","\n\n").concat("Your View into External Systems","\n\nversion: ").concat("0.1.0"),t=[];t.push({txt:"Close"}),je.success({msg:e,actions:t})}var Oa=Object(i.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":tt.changeView,"sel.curView":function(e){return ot(e).curView}},defineUse:{"AppMotif.UserMenuItem.aa1_UIThemeToggle":fa,"AppMotif.UserMenuItem.aa2_MaintainResponsiveMode":da,"AppMotif.UserMenuItem.zz8_About":va},use:[["AppMotif.UserMenuItem.*",{required:!0,type:i.fassetValidations.comp}],["AppMotif.LeftNavItem.*",{required:!1,type:i.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:i.fassetValidations.any}]]},reducer:it,logic:fn,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return c.a.createElement(ra,null,t)}}),Ea=null,ya=[Object(q.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var n=e.action;"verbose"===an.log&&console.group("Action: ".concat(n.type)),console.log("Dispatched Action: ",n),t(n)},process:function(e,t,n){var a=e.getState;e.action,e.fassets;if("verbose"===an.log){var r=a();r===Ea?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),Ea=r,console.groupEnd()}n()}})],ja=Object(i.createFeature)({name:"logActions",enabled:!!an.log,logic:ya});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wa=[U,Oa,en,nn,sn,un,pn,Object(i.createFeature)({name:"pwa",appInit:function(e){e.showStatus,e.fassets,e.appState,e.dispatch;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}),ja],Sa=n(324),Ia=Object(K.createReducerAspect)(),xa=Object(Sa.createLogicAspect)(),ka=Object(s.createRouteAspect)();ka.config.fallbackElm$=c.a.createElement(Vt,{msg:"I'm trying to think but it hurts!"});var Ma=[Ia,xa,ka],Na=Object(i.launchApp)({features:wa,aspects:Ma,registerRootAppElm:function(e){r.a.render(e,document.getElementById("root"))},showStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Dt(e,t)}});n.d(t,"default",(function(){return Na}))}},[[345,1,2]]]);
//# sourceMappingURL=main.4f2d6a92.chunk.js.map