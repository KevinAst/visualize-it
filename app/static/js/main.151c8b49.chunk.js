(this["webpackJsonpvisualize-it"]=this["webpackJsonpvisualize-it"]||[]).push([[0],{256:function(e,t,a){e.exports=a(374)},257:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var a=Error.prototype.toString;Error.prototype.toString=function(){return a.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},374:function(e,t,a){"use strict";a.r(t);a(257);var n=a(20),r=a(2),i=a(10),o=a(9),c=a(26),s=a(43),l=a(14),u=a(39),m=a(27),d=a(6),f=a(24);function g(e,t){if(!e)throw new Error(t)}g.prefix=function(e){return function(t,a){return g(t,e+a)}};a(191);var p=a(34),h=a.n(p),b=a(192),v=a.n(b),O=a(52),y=a.n(O),k=a(46),E=a.n(k),j=(a(83),h.a);function w(e){return"number"===typeof e}function N(e,t,a){var n=Object.keys(t);e(0===n.length,"unrecognized named parameter(s): ".concat(n)),e(a.length<=1,"unrecognized positional parameters (only named parameters can be specified) ... ".concat(a.length," arguments were supplied"))}var S=function(){function e(){Object(i.a)(this,e),this.pkgCatalog={}}return Object(o.a)(e,[{key:"registerPkg",value:function(e){var t=g.prefix("".concat(this.constructor.unmangledName,".registerPkg() parameter violation: "));t(e,"smartPkg is required"),t(e.getPkgName,"smartPkg must be a SmartPkg instance");var a=e.getPkgName();if(this.pkgCatalog[a])throw new Error("***ERROR*** ".concat(this.constructor.unmangledName,".registerPkg() pkgName: ").concat(a," is already registered :-(")).defineUserMsg("The visualize-it '".concat(a,"' package is already loaded"));this.pkgCatalog[a]=e}},{key:"getPackage",value:function(e){var t=g.prefix("PkgManager.getPackage() parameter violation: ");return t(e,"pkgName is required"),t(E()(e),"pkgName must be a string"),this.pkgCatalog[e]}},{key:"getClassRef",value:function(e,t){var a=g.prefix("PkgManager.getClassRef() parameter violation: ");a(e,"pkgName is required"),a(E()(e),"pkgName must be a string"),a(t,"className is required"),a(E()(t),"className must be a string");var n=this.pkgCatalog[e];if(!n)throw new Error("***ERROR*** PkgManager.getClassRef(pkgName:".concat(e,", className:").concat(t,") package is NOT cataloged ... did you forget to load a dependent package?")).defineUserMsg("The '".concat(e,"/").concat(t,"' class has been referenced, but the '").concat(e,"' package has NOT been loaded ... did you forget to load this dependent package?"));var r=n.getClassRef(t);if(!r)throw new Error("***ERROR*** PkgManager.getClassRef(pkgName:".concat(e,", className:").concat(t,") class NOT in package :-("));return r}},{key:"getEntry",value:function(e,t){var a=g.prefix("PkgManager.getEntry() parameter violation: ");a(e,"pkgName is required"),a(E()(e),"pkgName must be a string"),a(t,"entryId is required"),a(E()(t),"entryId must be a string");var n=this.pkgCatalog[e];if(n)return n.getEntry(t)}}]),e}();S.unmangledName="PkgManager";var C=new S,T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=void 0===a?"TYPE":a,o=t.name,c=void 0===o?"the MASTER pseudoClass definition of type: ... see container.id":o,s=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var l=g.prefix("PseudoClass() constructor parameter violation: ");l(n,"id is required"),l(E()(n),"id must be a string"),l(c,"name is required"),l(E()(c),"name must be a string"),N(l,s,arguments),this.id=n,this.name=c||n}return Object(o.a)(e,[{key:"isType",value:function(){return"TYPE"===this.id}},{key:"isInstance",value:function(){return!this.isType()}}],[{key:"isPseudoClassMaster",value:function(e){return e.pseudoClass&&e.pseudoClass.isType()}},{key:"getClassName",value:function(e){var t=g.prefix("PseudoClass.getClassName() parameter violation: ");return t(e,"clazz is required"),this.isPseudoClassMaster(e)?e.id:j(e)?e.unmangledName||e.name:void t(!1,"clazz must be a real class or a pseudoClass MASTER")}}]),e}();T.unmangledName="PseudoClass";var x=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),t}(a(224).Enumify);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}x.view=new x,x.edit=new x,x.animate=new x,x._=x.closeEnum();var M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=t.name,o=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var c=g.prefix("".concat(this.diagClassName(),"(id:'").concat(a,"', name:'").concat(n,"') constructor parameter violation: "));c(a,"id is required"),c(E()(a),"id must be a string"),n&&c(E()(n),"name (when supplied) must be a string"),N(c,o,arguments),this.id=a,this.name=n||a,this.dispMode=x.view}return Object(o.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPackage",value:function(){if(this.getPkgName)return this;var e=this.getParent();return e?e.getPackage():void 0}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){this.parent=e}},{key:"getDispMode",value:function(){return this.dispMode}},{key:"setDispMode",value:function(e){var t=g.prefix("".concat(this.diagClassName(),".setDispMode() parameter violation: "));if(t(e,"dispMode is required"),t(e instanceof x,"dispMode must be a DispMode type"),t(this.canHandleDispMode(e),"does NOT support ".concat(e," :-(")),this.dispMode=e,e===x.view)this.enableViewMode();else if(e===x.edit)this.enableViewMode(),this.enableEditMode();else{if(e!==x.animate)throw new Error("***ERROR*** ".concat(this.diagClassName(),".setDispMode() [id:").concat(this.id,"]: unrecognized dispMode: ").concat(e,"!"));this.enableViewMode(),this.enableAnimateMode()}}},{key:"canHandleDispMode",value:function(e){return!0}},{key:"enableViewMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableViewMode() is an abstract method that MUST BE implemented!"))}},{key:"enableEditMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableEditMode() is an abstract method that MUST BE implemented!"))}},{key:"enableAnimateMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableAnimateMode() is an abstract method that MUST BE implemented!"))}},{key:"toSmartJSON",value:function(){var t=this,a=this.getClassRef(),n={smartType:a.getClassName(),smartPkg:a.getClassPkgName()};return T.isPseudoClassMaster(this)&&(n.isPseudoClassMaster=!0),this.getEncodingProps().forEach((function(a){n[a]=function t(a){if(a){if(Array.isArray(a))return a.map((function(e){return t(e)}));if(v()(a)){if(a instanceof e)return a.toSmartJSON();if(y()(a))return Object.entries(a).reduce((function(e,a){var n=Object(f.a)(a,2),r=n[0],i=n[1];return e[r]=t(i),e}),{});throw new Error("***ERROR*** SmartModel.toSmartJSON() processing ref object of type ".concat(a.constructor.name," is NOT supported ... only SmartModel derivations support the smartJSON format :-("))}return a}return a}(t[a])})),n}},{key:"getClassRef",value:function(){var e=g.prefix("".concat(this.constructor.name,".getClassRef() id:'").concat(this.id,"', name:'").concat(this.name,"') ... "));if(this.pseudoClass&&this.pseudoClass.isInstance()){var t=this.pseudoClass.pseudoClassMaster;e(t,"this pseudoClass instance has NO pseudoClassMaster reference ... you must create it with SmartClassRef.createSmartObject()");var a=t.smartClassRef;return e(a,"this pseudoClass instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),a}var n=this.constructor.smartClassRef;return e(n,"this real class instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),n}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}},{key:"getEncodingProps",value:function(){return["id","name"]}},{key:"smartClone",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.getEncodingProps(),n={};a.forEach((function(a){var r=e[a],i=void 0;if(t[a])i="placeholder";else if(r.smartClone)i=r.smartClone();else if(Array.isArray(r))i=r.map((function(e){return e.smartClone?e.smartClone():e}));else if(v()(r)){if(!y()(r))throw new Error("***ERROR*** SmartModel.smartClone() processing self object of type ".concat(e.diagClassName(),", whose member object of type ").concat(r.constructor.name," is NOT supported ... do NOT know how to clone this member :-("));i=Object.entries(r).reduce((function(e,t){var a=Object(f.a)(t,2),n=a[0],r=a[1];return e[n]=r.smartClone?r.smartClone():r,e}),{})}else i=r;n[a]=i}));var r=P({},n,{},t),i=new this.constructor(r);return i}}],[{key:"fromSmartJSON",value:function(t,a){if(!t)return t;if(Array.isArray(t))return t.map((function(t){return e.fromSmartJSON(t,a)}));if(y()(t)){if(t.smartType){var n={};for(var r in t){var i=t[r];"smartType"!==r&&"smartPkg"!==r&&"isPseudoClassMaster"!==r&&(n[r]=e.fromSmartJSON(i,a))}return function(e,t){var a=e.smartPkg,n=e.smartType,r=null;if(t&&(r=t(a,n)))return r;try{r=C.getClassRef(a,n)}catch(i){throw console.log("***ERROR*** SmartModel.fromSmartJSON() could not resolve pkgName: ".concat(a," / className: ").concat(n," \n... smartJSON: ").concat(JSON.stringify(e,null,2))),i.defineAttemptingToMsg("hydrate smartObj (see logs for smartJson)")}return r}(t,a).createSmartObject(n)}return Object.entries(t).reduce((function(t,n){var r=Object(f.a)(n,2),i=r[0],o=r[1];return t[i]=e.fromSmartJSON(o,a),t}),{})}return t}}]),e}();M.unmangledName="SmartModel";var I=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=Object(r.a)(a,["id","name"]);return Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o})),N(g.prefix("SmartScene() constructor parameter violation: "),s,arguments),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e,t){throw new Error("***ERROR*** SmartScene pseudo-interface-violation: ".concat(this.diagClassName(),"(id:").concat(this.id,").mount() is an abstract method that MUST BE implemented!"))}},{key:"size",value:function(e){throw new Error("***ERROR*** SmartScene pseudo-interface-violation: ".concat(this.diagClassName(),"(id:").concat(this.id,").size() is an abstract method that MUST BE implemented!"))}},{key:"draggable",value:function(e){throw new Error("***ERROR*** SmartScene pseudo-interface-violation: ".concat(this.diagClassName(),"(id:").concat(this.id,").draggable() is an abstract method that MUST BE implemented!"))}}]),t}(M);I.unmangledName="SmartScene";var A=a(42),D=a.n(A);var z=a(0),U=a.n(z),L=a(180),V=a(132),q=a(426);function J(e){var t=F();return U.a.createElement(L.SnackbarProvider,{maxSnack:3,dense:!0,className:t.variantSuccess},U.a.createElement(W,null,e.children))}var F=Object(V.a)((function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}})),_=null,B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r))),g(!_,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),_=Object(s.a)(a),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.msg,n=t.duration,i=void 0===n?5:n,o=t.level,c=void 0===o?"success":o,s=t.position,l=void 0===s?"bottom-left":s,u=t.modal,m=void 0!==u&&u,d=t.actions,f=void 0===d?[]:d,p=Object(r.a)(t,["msg","duration","level","position","modal","actions"]),b=g.prefix("notify() parameter violation: ");b(a,"directive.msg is required"),b(E()(a),"msg must be a string"),null!==i&&b(i>=1&&i<=20,"supplied duration (".concat(i,") must be a number between 1 and 20 (inclusive).")),b(K[c],"invalid level: '".concat(c,"', expecting one of ").concat(Object.keys(K),".")),b(G[l],"invalid position: '".concat(l,"', expecting one of ").concat(Object.keys(G),".")),b(!0===m||!1===m,"supplied modal (".concat(m,") must be a boolean true/false.")),b(f,"actions must be an Action[] array"),b(Array.isArray(f),"actions must be an Action[] array"),f.forEach((function(e,t){b(e.txt,"action[".concat(t,"].txt is required")),b(E()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&b(h()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))})),N(b,p,arguments);var v=i?1e3*i:null;i||0!==f.length||(f=[{txt:"OK"}]);var O=f.reduce((function(e,t){return e[t.txt]=t.action||H,e}),{}),y=f.map((function(e,t){return U.a.createElement(q.a,{key:t,color:"default",size:"small"},e.txt)})),k=this.props.enqueueSnackbar(a,{variant:K[c],autoHideDuration:v,anchorOrigin:G[l],action:y,onClick:function(t){e.props.closeSnackbar(k);var a=O[t.target.textContent];setTimeout((function(){return a()}),400)}})}},{key:"render",value:function(){return U.a.createElement(U.a.Fragment,null,this.props.children)}}]),t}(U.a.Component),K={success:"success",info:"info",warn:"warning",error:"error"},G={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},H=function(e){return e},W=Object(L.withSnackbar)(B);function Y(e){g(_,"notify(): NO <Notify> instance has been established in the app root."),_.display(e)}function X(e,t){var a=e.msg,n=e.duration,i=void 0===n?5:n,o=e.actions,c=Object(r.a)(e,["msg","duration","actions"]),s=t?".".concat(t):"",l=g.prefix("toast".concat(s,"() parameter violation: "));l(a,"msg named parameter is required");var u=Object.keys(c);l(0===u.length,"unrecognized named parameter(s): ".concat(u)),Y({msg:a,duration:i,level:t,position:"bottom-left",modal:!1,actions:o})}function Q(e){X(e)}function Z(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=g.prefix("alert".concat(o,"() parameter violation: "));c(a,"msg named parameter is required");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),Y({msg:a,duration:null,level:t,position:"top-center",modal:!0,actions:n})}function $(e){Z(e)}function ee(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=g.prefix("confirm".concat(o,"() parameter violation: "));c(a,"msg named parameter is required"),c(n&&n.length>0,"client-specific actions are required.");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),Y({msg:a,duration:null,level:t,position:"top-right",modal:!0,actions:n})}function te(e){ee(e)}W.displayName="NotifyAPI_withSnackBar",Q.success=function(e){X(e,"success")},Q.info=function(e){X(e,"info")},Q.warn=function(e){X(e,"warn")},Q.error=function(e){X(e,"error")},$.success=function(e){Z(e,"success")},$.info=function(e){Z(e,"info")},$.warn=function(e){Z(e,"warn")},$.error=function(e){Z(e,"error")},te.success=function(e){ee(e,"success")},te.info=function(e){ee(e,"info")},te.warn=function(e){ee(e,"warn")},te.error=function(e){ee(e,"error")};var ae=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,u=a.comps,m=a.x,d=void 0===m?0:m,f=a.y,p=void 0===f?0:f,h=a._size,b=a.width,v=a.height,O=Object(r.a)(a,["id","name","comps","x","y","_size","width","height"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var y=g.prefix("".concat(e.diagClassName(),"() constructor parameter violation: "));return y(u,"comps is required"),y(Array.isArray(u),"comps must be a SmartComp[] array"),y(w(d),"x must be a number (when supplied), NOT: ".concat(d)),y(w(p),"y must be a number (when supplied), NOT: ".concat(p)),h&&(b=h.width,v=h.height),y(b,"width is required"),y(Number.isInteger(b),"width must be an integer, NOT: ".concat(b)),y(b>0,"width must be a positive integer, NOT: ".concat(b)),y(v,"height is required"),y(Number.isInteger(v),"height must be an integer, NOT: ".concat(v)),y(v>0,"height must be a positive integer, NOT: ".concat(v)),N(y,O,arguments),e.pseudoClass=new T,e.x=d,e.y=p,e._size={width:b,height:v},e.comps=u,e.comps.forEach((function(t){return t.setParent(Object(s.a)(e))})),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return this.pseudoClass.isType()?[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this)),["x","y","_size","comps"]):[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this)),["x","y","_size"])}},{key:"enableViewMode",value:function(){this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!1)})),this.konvaSceneLayer.off("dragend"),this.containingKonvaStage.off("click tap"),this.containingKonvaStage.find("Transformer").destroy(),this.konvaSceneLayer.getChildren().each((function(e,t){return e.off("transformend")})),this.konvaSceneLayer.draw()}},{key:"enableEditMode",value:function(){var e=this,t=this.getPackage();t.canPersist()?(this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!0)})),this.konvaSceneLayer.on("dragend",(function(t){var a=e.comps.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y()})),this.containingKonvaStage.on("click tap",(function(t){if(t.target===e.containingKonvaStage)return e.containingKonvaStage.find("Transformer").destroy(),void e.konvaSceneLayer.draw();e.containingKonvaStage.find("Transformer").destroy();var a=function e(t){var a=t.getParent();return"Layer"===a.getClassName()?t:e(a)}(t.target),n=new D.a.Transformer;e.konvaSceneLayer.add(n),n.attachTo(a),e.konvaSceneLayer.draw(),a.on("transformend",(function(t){var a=e.comps.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y(),a.rotation=t.target.rotation(),a.scaleX=t.target.scaleX(),a.scaleY=t.target.scaleY()}))}))):Q.warn({msg:'The "'.concat(this.getName(),'" scene is NOT EDITABLE ')+'... normally scenes can be edited, however it belongs to the "'.concat(t.getPkgDesc(),'" package which ')+"contains code (therefore you would not be able to save your changes)."})}},{key:"enableAnimateMode",value:function(){}},{key:"checkMounted",value:function(e){g(this.konvaSceneLayer,"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"mount",value:function(e,t){var a=this;this.containingKonvaStage=e,this.konvaSceneLayer=new D.a.Layer({id:this.id,x:this.x,y:this.y}),this.comps.forEach((function(e){return e.mount(a.konvaSceneLayer)})),e.add(this.konvaSceneLayer)}},{key:"size",value:function(e){return void 0===e?this._size:(this._size={width:e.width,height:e.height},this)}},{key:"draggable",value:function(e){return this.checkMounted("draggable"),void 0===e?this.konvaSceneLayer.draggable():(this.konvaSceneLayer.draggable(e),this)}}]),t}(I);ae.unmangledName="Scene";var ne=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,u=a.scenes,m=Object(r.a)(a,["id","name","scenes"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var d=g.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return d(u,"scenes is required"),d(Array.isArray(u),"scenes must be an Scene[] array"),u.forEach((function(e,t){d(e instanceof ae,"scenes[".concat(t,"] must be a Scene instance"))})),N(d,m,arguments),e.scenes=u,e.scenes.forEach((function(t){return t.setParent(Object(s.a)(e))})),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this)),["scenes"])}},{key:"enableViewMode",value:function(){this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!1)})),this.containingKonvaStage.off("dragend")}},{key:"enableEditMode",value:function(){var e=this,t=this.getPackage();t.canPersist()?(this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!0)})),this.containingKonvaStage.on("dragend",(function(t){var a=e.scenes.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y();var n=e.size();e.containingKonvaStage.size(n),e.containingKonvaStage.draw(),e.containingHtmlElm.style.width="".concat(n.width,"px"),e.containingHtmlElm.style.height="".concat(n.height,"px")}))):Q.warn({msg:'The "'.concat(this.getName(),'" collage is NOT EDITABLE ')+'... normally collages can be edited, however it belongs to the "'.concat(t.getPkgDesc(),'" package which ')+"contains code (therefore you would not be able to save your changes)."})}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e,t){this.containingKonvaStage=e,this.containingHtmlElm=t,this.scenes.forEach((function(t){return t.mount(e)}))}},{key:"size",value:function(e){return g(void 0===e,"***ERROR*** ".concat(this.diagClassName(),".size() can only be invoked as a getter (with no params) ... size is mastered in the scene, AND derived in the collage.")),this.scenes.reduce((function(e,t){var a=t.size();return e.width=Math.max(e.width,t.x+a.width),e.height=Math.max(e.height,t.y+a.height),e}),{width:0,height:0})}},{key:"draggable",value:function(e){return void 0===e?this.scenes[0].draggable():(this.scenes.forEach((function(t){return t.draggable(e)})),this)}}]),t}(I);function re(e){var t=g.prefix("createLogger() parameter violation: ");t(e,"prefix is required"),t(E()(e),"prefix must be a string");var a=!1,n=function e(t,n){a&&e.force(t,n)};return n.force=function(t,a){t=e+t,a?console.log(t,a):console.log(t)},n.isEnabled=function(){return a},n.enable=function(){return a=!0,n("enabling logging"),n},n.disable=function(){return n("disabling logging"),a=!1,n},n}ne.unmangledName="Collage";var ie=re("***DIAG*** SmartClassRef:").disable(),oe=function(){function e(t,a){Object(i.a)(this,e);var n=g.prefix("SmartClassRef() constructor parameter violation: ");n(t,"classRef is required"),n(a,"pkgName is required"),n(E()(a),"pkgName must be a string"),j(t)?(this.realClass=t,n(t.hasOwnProperty("unmangledName"),"real class ".concat(t.name,' MUST have an "unmangledName" property (supporting persistence in obfuscated production build)'))):t.pseudoClass&&t.pseudoClass.isType()?this.pseudoClassContainer=t:n(!1,"classRef must be a real class -or- pseudoClass"),this.pkgName=a}return Object(o.a)(e,[{key:"getClassName",value:function(){return this.pseudoClassContainer?this.pseudoClassContainer.id:this.realClass.unmangledName||this.realClass.name}},{key:"getClassPkgName",value:function(){return this.pkgName}},{key:"getFullClassName",value:function(){return"".concat(this.getClassPkgName(),"/").concat(this.getClassName())}},{key:"createSmartObject",value:function(e){var t=null,a="";if(this.realClass)a="real",t=new this.realClass(e);else{a="pseudo";var n=this.pseudoClassContainer;(t=n.smartClone(e)).pseudoClass.id=n.id,t.pseudoClass.name="a pseudoClass instance of type: '".concat(n.id,"'"),t.pseudoClass.pseudoClassMaster=n}return ie("createSmartObject() created new object from ".concat(a," class: '").concat(this.getFullClassName(),"' ... using namedParams: "),{namedParams:e,newObj:t}),t}}]),e}(),ce=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=a.entries,u=void 0===s?{}:s,m=Object(r.a)(a,["id","name","entries"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var d=g.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return d(u,"entries is required"),d(y()(u),"entries must be a plain object (with depth)"),N(d,m,arguments),e.entries=u,e.initializeCatalogs(e.entries),e.adornContainedClasses(),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this)),["entries"])}},{key:"getPkgName",value:function(){return this.id}},{key:"getPkgDesc",value:function(){return this.name}},{key:"getPkgResourcePath",value:function(){return this.pkgResourcePath}},{key:"canPersist",value:function(){return!this.entriesContainCode}},{key:"setPkgResourcePath",value:function(e){this.pkgResourcePath=e}},{key:"initializeCatalogs",value:function(e){var t=this;if(e===this.entries&&(this._classRefCatalog={},this._entryCatalog={}),this.entriesContainCode=!1,y()(e))for(var a in e){var n=e[a];this.initializeCatalogs(n)}else{if(!Array.isArray(e)){var r="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED entry ... must be a plain directory object or an array of smartObjs ... see logs for entry";throw console.error(r,{entry:e}),new Error(r)}e.forEach((function(e){if(e instanceof M){var a=e;if(T.isPseudoClassMaster(a)){var n=T.getClassName(a);t._classRefCatalog[n]=a}t._entryCatalog[a.id]=a,a.setParent(t)}else if(j(e)){var r=e;t.entriesContainCode=!0;var i=T.getClassName(r);t._classRefCatalog[i]=r}else{if(!y()(e)){var o="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED array entry ... must be a smartObj or class or plain nested directory object ... see logs for entry";throw console.error(o,{arrItem:e}),new Error(o)}t.initializeCatalogs(e)}}))}}},{key:"adornContainedClasses",value:function(){var e=this;Object.values(this._classRefCatalog).forEach((function(t){t.smartClassRef=new oe(t,e.getPkgName())}))}},{key:"getClassRef",value:function(e){return 0===arguments.length?Object(u.a)(Object(l.a)(t.prototype),"getClassRef",this).call(this):this._classRefCatalog[e].smartClassRef}},{key:"getEntry",value:function(e){return this._entryCatalog[e]}}],[{key:"fromSmartJSON",value:function(e){var t=g.prefix("SmartPkg.fromSmartJSON(smartJSON) parameter violation: ");t(e,"smartJSON is required"),t(y()(e),"smartJSON must be a JSON object"),t("SmartPkg"===e.smartType,"smartJSON does NOT represent a SmartPkg object, rather a ".concat(e.smartType," object."));var a={},n=e.id;!function t(r){if(y()(r)){if(r.smartType){if(r.isPseudoClassMaster){var i=M.fromSmartJSON(r);return i.smartClassRef=new oe(i,n),a[i.id]=i,i}return r}for(var o in r){var c=t(r[o]);r[o]=c}return r}if(Array.isArray(r)){for(var s=0;s<r.length;s++){var l=t(r[s]);r[s]=l}return r}return j(r)?(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (class) ... ",{jsonEntry:r,smartJSON:e}),r):(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (primitive) ... ",{jsonEntry:r,smartJSON:e}),r)}(e.entries);try{return M.fromSmartJSON(e,(function(e,t){var r=e===n?a[t]:void 0;return r?r.smartClassRef:void 0}))}catch(r){throw r.defineAttemptingToMsg("hydrate SmartPkg '".concat(n,"'"))}}}]),t}(M);ce.unmangledName="SmartPkg";var se=re("***DIAG*** <SmartView> ... ").enable(),le=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=a.scene,u=Object(r.a)(a,["id","name","scene"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var m=g.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(s,"scene is required"),m(s instanceof I,"scene must be a SmartScene instance"),N(m,u,arguments),e.scene=s,e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this)),["scene"])}},{key:"checkMounted",value:function(e){g(this.konvaStage,"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"size",value:function(e){return g(void 0===e,"***ERROR*** ".concat(this.diagClassName(),".size() can only be invoked as a getter (with no params) ... size is mastered in the scene, AND derived in the view.")),this.scene.size()}},{key:"draggableScene",value:function(e){return void 0===e?this.scene.draggable():(this.scene.draggable(e),this)}},{key:"mount",value:function(e){se("mounting SmartView id: ".concat(this.id));var t=this.size(),a=t.width,n=t.height;this.konvaStage=new D.a.Stage({container:e,x:0,y:0,width:a,height:n}),this.scene.mount(this.konvaStage,e)}}]),t}(M);le.unmangledName="SmartView",C.registerPkg(new ce({id:"core",name:"core classes",entries:{core:[ne,T,ae,ce,le]}}));var ue=a(22),me=a.n(ue),de=a(17),fe=!1,ge=!1,pe=!0,he=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=a.x,u=void 0===s?0:s,m=a.y,d=void 0===m?0:m,f=a.rotation,p=void 0===f?0:f,h=a.scaleX,b=void 0===h?1:h,v=a.scaleY,O=void 0===v?1:v,y=Object(r.a)(a,["id","name","x","y","rotation","scaleX","scaleY"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var k=g.prefix("SmartComp() constructor parameter violation: ");return k(w(u),"x must be a number (when supplied), NOT: ".concat(u)),k(w(d),"y must be a number (when supplied), NOT: ".concat(d)),k(w(p),"rotation must be a number (when supplied), NOT: ".concat(p)),k(w(b),"scaleX must be a number (when supplied), NOT: ".concat(b)),k(w(O),"scaleY must be a number (when supplied), NOT: ".concat(O)),N(k,y,arguments),e.x=u,e.y=d,e.rotation=p,e.scaleX=b,e.scaleY=O,e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this)),["x","y","rotation","scaleX","scaleY"])}},{key:"canHandleDispMode",value:function(e){return e!==x.edit}},{key:"enableViewMode",value:function(){}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e){this.compGroup=new D.a.Group({id:this.id,x:this.x,y:this.y,rotation:this.rotation,scaleX:this.scaleX,scaleY:this.scaleY}),e.add(this.compGroup)}}]),t}(M);he.unmangledName="SmartComp";var be=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(u.a)(Object(l.a)(t.prototype),"mount",this).call(this,e);var a=new D.a.Rect({x:10,width:100,height:50,fill:"green",stroke:"black",strokeWidth:5});this.compGroup.add(a);var n=new D.a.Circle({x:7.5,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(n);var r=new D.a.Circle({x:110,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(r);var i=new D.a.Group({x:0,y:0});this.compGroup.add(i);var o=new D.a.Circle({x:60,y:25,radius:10,fill:"red",stroke:"red",strokeWidth:1});i.add(o)}}]),t}(he);be.unmangledName="Valve1";var ve=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(u.a)(Object(l.a)(t.prototype),"mount",this).call(this,e);var a=new D.a.Rect({width:100,height:50,fill:"red",shadowBlur:10,cornerRadius:10});this.compGroup.add(a)}}]),t}(he);ve.unmangledName="Valve2";var Oe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(u.a)(Object(l.a)(t.prototype),"mount",this).call(this,e);var a=new D.a.Rect({width:100,height:100,fill:"blue",cornerRadius:[0,10,20,30]});this.compGroup.add(a)}}]),t}(he);Oe.unmangledName="Valve3";var ye=new ce({id:"generalComps",name:"SandBox Comps",entries:{"Class Comps":[be,ve,Oe]}});C.registerPkg(ye);var ke=re("***DIAG*** konvaSandboxSmartPkg ... ").disable(),Ee=C.getClassRef("generalComps","Valve1"),je=C.getClassRef("generalComps","Valve2"),we=C.getClassRef("generalComps","Valve3"),Ne=new ae({id:"scene1",comps:[Ee.createSmartObject({id:"myValve1",x:20,y:20}),je.createSmartObject({id:"myValve2",x:150,y:40}),we.createSmartObject({id:"myValve3",x:50,y:120})],width:280,height:240}),Se=new ae({id:"scene2",comps:[Ee.createSmartObject({id:"myValve1",x:20,y:20}),je.createSmartObject({id:"myValve2",x:150,y:40})],width:280,height:125}),Ce=new oe(Ne,"DUMMY-PKG-NAME").createSmartObject({id:"scene1Copy",x:0,y:0,width:300,height:250}),Te=new oe(Se,"DUMMY-PKG-NAME").createSmartObject({id:"scene2Copy",x:300,y:250,width:300,height:250}),xe=new ne({id:"collage1",name:"Collage 1",scenes:[Ce,Te]}),Re=new ce({id:"com.astx.KONVA",name:"Konva Sandbox I",entries:{scenes:[Ne,{"More Depth":[Se]}],collages:[xe]}});C.registerPkg(Re);var Pe=Re.id,Me=Re.name;Re.id=Pe+"2",Re.name=Me+"I",ke("PERSISTENT TEST: JSONIZE smartPkg: ",{konvaSandboxSmartPkg:Re});var Ie=Re.toSmartJSON();ke("PERSISTENT TEST: HERE is the json: ",{smartJSON:Ie,str:JSON.stringify(Ie)}),ke("PERSISTENT TEST: HERE is the RE-HYDRATED smartPkg: ",{rehydratedSmartPkg:ce.fromSmartJSON(Ie)}),Re.id=Pe,Re.name=Me;var Ae=C.getPackage("generalComps"),De=C.getPackage("com.astx.KONVA"),ze=Object(de.createFeature)({name:"sandbox",enabled:pe,appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;Ct.addLeftNav(Ae),Ct.addLeftNav(De)}}),Ue=a(45),Le=a.n(Ue),Ve=a(75),qe=a(225),Je=a.n(qe);function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=g.prefix("encode(ref) parameter violation: ");a(e,"ref is required"),a(E()(e)||y()(e),"ref must be a string -or- an object literal. NOT: ",e),a(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var n=e;return y()(n)&&(n=Be+JSON.stringify(n)),t&&(n=Ke+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(n)),n}function _e(e){if(g.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!E()(e))return e;var t=e;return 0===t.indexOf(Ke)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(Ke.length))),0===t.indexOf(Be)&&(t=t.substring(Be.length),t=JSON.parse(t)),t}var Be="obj2str:",Ke="afesa";function Ge(){return(Ge=Object(Ve.a)(Le.a.mark((function e(t){var a,n,r,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.showStatus,t.fassets,t.getState,t.dispatch,a("Initializing Firebase"),e.next=4,fetch("fbac");case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("**ERROR** Accessing /fbac resource was REJECTED with status: ".concat(n.status));case 7:return e.next=9,n.text();case 9:if(!(r=e.sent).includes("<html")){e.next=12;break}throw new Error("**ERROR** Non Existent Resource: /fbac");case 12:return i=_e(r),e.next=15,Je.a.initializeApp(i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var He=Object(de.createFeature)({name:"initFirebase",enabled:fe,appInit:function(e){return Ge.apply(this,arguments)}}),We=a(102),Ye=We.generateActions.root(Object(d.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},setResponsiveMode:{actionMeta:{traits:["responsiveMode"]}},changeView:{actionMeta:{traits:["viewName"]}},addLeftNavItem:{actionMeta:{traits:["leftNavKey","LeftNavComp"]}},removeLeftNavItem:{actionMeta:{traits:["leftNavKey"]}}})),Xe=a(66),Qe=a(50),Ze=a(70);function $e(){}function et(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=g.prefix("storeItem() parameter violation: ");n(e,"key is required"),n(E()(e),"key must be a string, NOT: ",e),n(t,"ref is required"),n(E()(t)||y()(t),"ref must be a string -or- an object literal, NOT: ",t),n(!0===a||!1===a,"safeguard must be a boolean (true/false), NOT: ",a);var r=Fe(t,a);nt.setItem(e,r)}function tt(e){var t=g.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(E()(e),"key must be a string, NOT: ",e);var a=nt.getItem(e);return a?_e(a):null}var at=function(e){var t;try{t=window[e];var a="__storage_test__";return t.setItem(a,a),t.removeItem(a),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage");at||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var nt=at?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:$e,getItem:$e,removeItem:$e};var rt="uiTheme";var it="responsiveMode",ot=a(227);function ct(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function st(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var lt=Object(Ze.slicedReducer)("baseUI",Object(de.expandWithFassets)((function(e){var t;return Object(Xe.combineReducers)({uiTheme:Object(Qe.reducerHash)(Object(d.a)({},Ye.toggleUITheme,(function(e,t){return"dark"===e?"light":"dark"})),tt(rt)),responsiveMode:Object(Qe.reducerHash)(Object(d.a)({},Ye.setResponsiveMode,(function(e,t){return t.responsiveMode})),tt(it)||"sm"),curView:Object(Qe.reducerHash)(Object(d.a)({},Ye.changeView,(function(e,t){return t.viewName})),"uninitialized"),leftNavItems:Object(Qe.reducerHash)((t={},Object(d.a)(t,Ye.addLeftNavItem,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?st(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):st(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},Object(d.a)({},t.leftNavKey,{fn:t.LeftNavComp,fnRef:"hidden in Redux DevTools"}))})),Object(d.a)(t,Ye.removeLeftNavItem,(function(e,t){var a=t.leftNavKey;e[a];return Object(r.a)(e,[a].map(ct))})),t),{})})}))),ut=lt,mt=function(e){return lt.getSlicedState(e)},dt=function(e){return mt(e).uiTheme||"light"},ft=function(e){return mt(e).responsiveMode},gt=Object(ot.a)((function(e){return mt(e).leftNavItems}),(function(e){return Object.entries(e).map((function(e){var t,a=Object(f.a)(e,2),n=a[0],r=a[1];return[n,(t=r,t.fn)]})).sort((function(e,t){var a=Object(f.a)(e,1)[0],n=Object(f.a)(t,1)[0];return a.localeCompare(n)}))})),pt=a(122),ht=[Object(pt.b)({name:"".concat("baseUI",".persistUITheme"),type:String(Ye.toggleUITheme),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=dt(r()),et(rt,n),a()}}),Object(pt.b)({name:"".concat("baseUI",".persistResponsiveMode"),type:String(Ye.setResponsiveMode),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=ft(r()),et(it,n),a()}})],bt=a(23);var vt=a(141),Ot=a.n(vt),yt=a(142),kt=a.n(yt),Et=a(428),jt=a(427),wt=re("***DIAG*** <LeftNavMenuPallet> ... ").disable();var Nt=U.a.memo((function(e){var t=e.smartPkg,a=St(),n=Object(bt.useDispatch)(),r=Object(de.useFassets)("actions.activateTab"),i=function(e,t,a){wt("handleActivateTab( tabId:'".concat(e,"', tabName:'").concat(t,"', preview=").concat(a," )")),n(r(e,a))},o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n?(clearTimeout(n),n=null,t.apply(void 0,i)):n=setTimeout((function(){e.apply(void 0,i),n=null}),a)}}((function(e,t){return i(e,t,!0)}),(function(e,t){return i(e,t,!1)}));return wt("rendering top-level content for smartPkg.id: ".concat(t.id," ... expecting ONE TIME (for this entry)")),U.a.createElement(Xn,{name:t.getPkgDesc()},U.a.createElement(jt.a,{className:a.root,defaultCollapseIcon:U.a.createElement(Ot.a,null),defaultExpandIcon:U.a.createElement(kt.a,null)},function(e,t){return function a(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getPkgName();if(y()(n)){var i=[];for(var o in n){var c=n[o],s="".concat(r,"-").concat(o);wt("genTreeItems(): TreeItem directory node: ".concat(o)),i.push(U.a.createElement(Et.a,{key:s,nodeId:s,label:o},a(c,s)))}return i}if(Array.isArray(n))return n.map((function(e){if(e instanceof M){var n=e,i="".concat(r,"-").concat(n.id),o=null;if(n instanceof ae)o=new er(i,n.name,n);else{if(!(n instanceof ne)){var c="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED smartObj entry (under accumulativeId: ".concat(i,")  ... must be a Scene or Collage ... see logs for entry");throw console.error(c,{smartObj:n}),new Error(c)}o=new tr(i,n.name,n)}return On.registerTab(o),wt("genTreeItems(): TreeItem tabManager node ... id: ".concat(i)),U.a.createElement(Et.a,{key:i,nodeId:i,label:n.name,onClick:function(){return t(i,n.name)}})}if(j(e)){var s=e,l=T.getClassName(s),u="".concat(r,"-").concat(l);return On.registerTab(new ar(u,l,s)),wt("genTreeItems(): TreeItem tabManager node ... id: ".concat(u)),U.a.createElement(Et.a,{key:u,nodeId:u,label:l,onClick:function(){return t(u,l)}})}if(y()(e))return a(e,r);var m="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED array entry (under accumulativeId: ".concat(r,")  ... must be a smartObj or plain nested directory object ... see logs for entry");throw console.error(m,{arrItem:e}),new Error(m)}));var l="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED SmartPkg entry (under accumulativeId: ".concat(r,")  ... must be a plain directory object or an array of smartObjs ... see logs for entry");throw console.error(l,{entry:n}),new Error(l)}(e.entries)}(t,o)))})),St=Object(V.a)((function(e){return{root:{flexGrow:1,maxWidth:400}}}));var Ct=new(function(){function e(){Object(i.a)(this,e),this.fassets=null,this.dispatch=null,this.leftNavCache=[]}return Object(o.a)(e,[{key:"injectDependency",value:function(e,t){var a=this;this.fassets=e,this.dispatch=t,this.leftNavCache.forEach((function(e){return a.processAddLeftNav(e)})),this.leftNavCache=[]}},{key:"processAddLeftNav",value:function(e){this.fassets?this.dispatch(this.fassets.actions.addLeftNavItem(e.getPkgDesc(),(function(){return U.a.createElement(Nt,{smartPkg:e})}))):this.leftNavCache.push(e)}},{key:"addLeftNav",value:function(e){var t=g.prefix("".concat(this.constructor.name,".addLeftNav() parameter violation: "));t(e,"smartPkg is required"),t(e instanceof ce,"smartPkg must be a SmartPkg instance"),this.processAddLeftNav(e)}}]),e}()),Tt=a(424),xt=a(133),Rt=a(442),Pt=a(429),Mt=a(431),It=a(430);function At(){var e=Dt(),t=Object(bt.useSelector)((function(e){return gt(e)}),[]);return t.length<=0?null:U.a.createElement(Pt.a,{className:e.leftNav,variant:"permanent",classes:{paper:e.leftNavPaper}},U.a.createElement(It.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our LeftNav isn't covered up by the AppBar"}),U.a.createElement(Mt.a,null,t.map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return U.a.createElement(n,{key:a})}))))}var Dt=Object(V.a)((function(e){return{leftNav:{width:240,flexShrink:0},leftNavPaper:{width:240}}})),zt=a(432),Ut=a(237),Lt=a(228),Vt=a.n(Lt);function qt(e){e.curUser;var t=Object(z.useState)(null),a=Object(f.a)(t,2),r=a[0],i=a[1],o=Object(z.useMemo)((function(){return Boolean(r)}),[r]),c=Object(z.useCallback)((function(e){return i(e.currentTarget)}),[]);Ft=Object(z.useCallback)((function(){return i(null)}),[]);var s=Object(de.useFassets)("AppMotif.UserMenuItem.*@withKeys"),l=Object(z.useMemo)((function(){return Object(n.a)(s).sort((function(e,t){var a=Object(f.a)(e,1)[0],n=Object(f.a)(t,1)[0];return a.localeCompare(n)}))}),[s]);return U.a.createElement("div",null,U.a.createElement(zt.a,{color:"inherit",onClick:c},U.a.createElement(Vt.a,null)),U.a.createElement(Ut.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:Jt},l.map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return U.a.createElement(n,{key:a})}))))}function Jt(){Ft&&Ft()}var Ft=null;function _t(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(Ve.a)(Le.a.mark((function e(t){var a,n,r,i,o,c;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g.prefix("openPkg() parameter violation: "),!t){e.next=6;break}a(t,'pkgResourcePath is currently NOT a supported param (omit it to activate the "interactive file picker dialog")'),a(123===t,"pkgResourcePath (when supplied) must be a YetUnknown"),e.next=8;break;case 6:if(window.chooseFileSystemEntries){e.next=8;break}throw new Error('***ERROR*** openPkg() the "Native File System API TRIAL" is NOT available in this environment :-(').defineAttemptingToMsg("use the interactive file picker dialog");case 8:if(n=null,!t){e.next=12;break}e.next=23;break;case 12:return e.prev=12,e.next=15,window.chooseFileSystemEntries({type:"openFile",accepts:[{description:"visualize-it file",extensions:["vit"],mimeTypes:["application/json"]}]});case 15:n=e.sent,e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(12),"The user aborted a request."!==e.t0.message){e.next=22;break}return e.abrupt("return");case 22:throw e.t0.defineAttemptingToMsg("use the file picker dialog");case 23:return e.next=25,n.getFile();case 25:return r=e.sent,e.next=28,r.text();case 28:i=e.sent,o=null,e.prev=30,o=JSON.parse(i),e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(30),new Error("INVALID JSON - ".concat(e.t1.message)).defineUserMsg("Please select a valid visualize-it package");case 37:return(c=ce.fromSmartJSON(o)).setPkgResourcePath(n),C.registerPkg(c),e.abrupt("return",c);case 41:case"end":return e.stop()}}),e,null,[[12,18],[30,34]])})))).apply(this,arguments)}function Kt(e){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(Ve.a)(Le.a.mark((function e(t){var a,n,r,i,o,c,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>1&&void 0!==s[1]&&s[1],(n=g.prefix("savePkg() parameter violation: "))(t,"pkg is required"),n(t instanceof ce,"pkg must be a SmartPkg"),a&&n(!0===a||!1===a,"saveAs must be a boolean (when supplied)"),window.chooseFileSystemEntries){e.next=7;break}throw new Error('***ERROR*** savePkg() the "Native File System API TRIAL" is NOT available in this environment :-(').defineAttemptingToMsg("save a package to a local file system");case 7:if(r=t.toSmartJSON(),i=JSON.stringify(r),o=a?void 0:t.getPkgResourcePath()){e.next=22;break}return e.prev=11,e.next=14,window.chooseFileSystemEntries({type:"saveFile",accepts:[{description:"visualize-it file",extensions:["vit"],mimeTypes:["application/json"]}]});case 14:o=e.sent,e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(11),"AbortError"!==e.t0.name){e.next=21;break}return e.abrupt("return","UserCancel");case 21:throw e.t0.defineAttemptingToMsg('select the file to save the "'.concat(t.getPkgDesc(),'" package'));case 22:return e.prev=22,e.next=25,o.createWriter();case 25:return c=e.sent,e.next=28,c.write(0,i);case 28:return e.next=30,c.close();case 30:e.next=36;break;case 32:throw e.prev=32,e.t1=e.catch(22),"NotAllowedError"===e.t1.name&&e.t1.defineUserMsg("User disallowed the file write"),e.t1.defineAttemptingToMsg('save the "'.concat(t.getPkgDesc(),'" package'));case 36:t.setPkgResourcePath(o);case 37:case"end":return e.stop()}}),e,null,[[11,17],[22,32]])})))).apply(this,arguments)}var Ht="DYNAMIC_DEFAULT";function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,a=e.showUser,n=void 0===a||a,i=e.logIt,o=void 0===i?Ht:i,c=Object(r.a)(e,["err","showUser","logIt"]);try{var s=g.prefix("discloseError() parameter violation: ");s(t,"err is required"),s(t instanceof Error,"err must be an Error object, NOT: ",t),s(!0===(n=n===Ht?t.isExpected():n)||!1===n,"showUser must be a boolean"),s(!0===(o=o===Ht?t.isUnexpected():o)||!1===o,"logIt must be a boolean"),N(s,c,arguments)}catch(u){return console.log("YIKES ... visualize-it's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',u)}if(n&&(t.isUnexpected()?Q.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){$.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):Q.warn({msg:t.formatUserMsg()})),o){var l=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(l+t),t.isUnexpected()&&(console.log("Stack Trace ..."),console.log(t))}}var Yt=a(433),Xt=a(94);function Qt(){var e=Object(z.useState)(null),t=Object(f.a)(e,2),a=t[0],n=t[1],r=Object(z.useMemo)((function(){return Boolean(a)}),[a]),i=Object(z.useCallback)((function(e){return n(e.currentTarget)}),[]);$t=Object(z.useCallback)((function(){return n(null)}),[]);var o=Object(de.useFassets)(),c=Object(bt.useSelector)((function(e){return o.sel.getActiveTabId(e)}),[o]),s=!!c;return U.a.createElement("div",null,U.a.createElement(q.a,{color:"inherit",onClick:i},U.a.createElement(Xt.a,{variant:"button",color:"inherit",noWrap:!0},"File")),U.a.createElement(Ut.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:Zt},U.a.createElement(Yt.a,{onClick:ea},"Open ..."),U.a.createElement(Yt.a,{onClick:function(){return aa(c)},disabled:!s},"Save"),U.a.createElement(Yt.a,{onClick:function(){return aa(c,!0)},disabled:!s},"Save As ...")))}function Zt(){$t&&$t()}var $t=null;function ea(){return ta.apply(this,arguments)}function ta(){return(ta=Object(Ve.a)(Le.a.mark((function e(){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt(),e.prev=1,e.next=4,_t();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:Ct.addLeftNav(t),Q({msg:'"'.concat(t.getPkgDesc(),'" has been loaded in the Left Nav Menu')}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),Wt({err:e.t0,logIt:!0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function aa(e){return na.apply(this,arguments)}function na(){return(na=Object(Ve.a)(Le.a.mark((function e(t){var a,n,r=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]&&r[1],Zt(),e.prev=2,(n=ra(t)).canPersist()){e.next=7;break}return Q.warn({msg:'The "'.concat(n.getPkgDesc(),'" package cannot be saved ... it contains code, which cannot be persisted!')}),e.abrupt("return");case 7:return e.next=9,Kt(n,a);case 9:e.sent||Q.warn({msg:'The "'.concat(n.getPkgDesc(),'" package has been saved!')}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),Wt({err:e.t0,logIt:!0});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function ra(e){var t=On.getTabController(e).getTarget(),a=t.getPackage();if(!a&&t instanceof he){var n=t.getClassRef().getClassPkgName();a=C.getPackage(n)}return g(a,'***ERROR*** <FileMenu> "save/saveAs" operation ... could not locate the SmartPkg for the \''.concat(e,"' active tab :-(")),a}var ia=a(435),oa=a(230),ca=a.n(oa),sa=We.generateActions.root(Object(d.a)({},"toolBar",{dispModeChanged:{actionMeta:{traits:["dispMode"]}}})),la=Object(Ze.slicedReducer)("toolBar",Object(de.expandWithFassets)((function(e){var t;return Object(Xe.combineReducers)({dispMode:Object(Qe.reducerHash)((t={},Object(d.a)(t,e.actions.activateTab,(function(e,t){return On.getTabController(t.tabId).getTarget().getDispMode().enumKey})),Object(d.a)(t,sa.dispModeChanged,(function(e,t){return t.dispMode.enumKey})),t),x.view.enumKey)})}))),ua=la,ma=function(e){return la.getSlicedState(e)},da=function(e){return x.enumValueOf(ma(e).dispMode)},fa=a(229),ga=a.n(fa),pa=a(434),ha=a(451),ba=a(449),va=re("***DIAG*** <VitToolBar> ... ").disable();var Oa=Object(V.a)((function(e){return{title:{flexGrow:1}}}));function ya(e){var t=e.children,a=Object(de.useFassets)(),n=Object(bt.useSelector)((function(e){return a.sel.curView(e)}),[a]),r=ka(),i=a.get("AppMotif.auxViewContent.*@withKeys"),o=Object(z.useMemo)((function(){return function(e,t){var a="AppMotif.auxViewContent.".concat(e),n=t.find((function(e){return Object(f.a)(e,1)[0]===a}))||Ea;return Object(f.a)(n,2)[1]}(n,i)}),[n,i]),c=o.TitleComp,s=o.FooterComp;return U.a.createElement("div",{className:r.app},U.a.createElement(ia.a,{className:r.appBar,position:"fixed"}," ",U.a.createElement(It.a,{className:r.toolbar,variant:"dense",disableGutters:!1}," ",U.a.createElement(zt.a,{className:r.menuButton,color:"inherit",onClick:function(){Q.warn({msg:"Collapsable Left Nav (coming soon)!"})}},U.a.createElement(ca.a,null)),U.a.createElement(Qt,null),U.a.createElement("div",{className:r.title},U.a.createElement(c,null)),U.a.createElement(qt,null))),U.a.createElement(At,null),U.a.createElement("main",{className:r.content},U.a.createElement(It.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our main content isn't covered up by the AppBar"}),t),s&&U.a.createElement(ia.a,{className:r.bottomBar,position:"absolute"},U.a.createElement(It.a,{className:r.toolbar,variant:"dense",disableGutters:!1},U.a.createElement(s,null))))}var ka=Object(V.a)((function(e){return{app:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto"}}}));var Ea=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){var e=Oa(),t=Object(de.useFassets)(),a=Object(bt.useSelector)((function(e){return da(e)}),[]),n=Object(bt.useSelector)((function(e){return t.sel.getActiveTabId(e)}),[t]),r=Object(bt.useDispatch)(),i=Object(z.useCallback)((function(e){var t=x.enumValueOf(e.target.value);va("dispMode changed to: ".concat(t)),r(sa.dispModeChanged(t))}),[r]),o=U.a.createElement(Xt.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Visualize It");if(!n)return o;var c=On.getTabController(n).getTarget();return U.a.createElement(It.a,{variant:"dense"},o,U.a.createElement(zt.a,null,U.a.createElement(ga.a,null)),U.a.createElement(pa.a,null,U.a.createElement(ha.a,{id:"dispModeLabel"},"DispMode"),U.a.createElement(ba.a,{id:"dispMode",labelId:"dispModeLabel",value:a.enumKey,onChange:i},Array.from(x).map((function(e){return U.a.createElement(Yt.a,{key:e.enumKey,value:e.enumKey,disabled:!c.canHandleDispMode(e)},e.enumKey)})))))}}],ja=a(28),wa=a(436);var Na=a(441),Sa=a(438),Ca=a(440),Ta=a(439),xa=a(239),Ra=a(177),Pa=a(437),Ma=(U.a.forwardRef((function(e,t){return U.a.createElement(xa.a,Object.assign({ref:t,timeout:"1000"},e))})),U.a.forwardRef((function(e,t){return U.a.createElement(Ra.a,Object.assign({ref:t,direction:"right",timeout:"1000"},e))})),U.a.forwardRef((function(e,t){return U.a.createElement(Pa.a,Object.assign({ref:t,timeout:"1000"},e))})));function Ia(e){var t=e.msg,a=e.err,n=function(){var e=Object(ja.a)();return Object(wa.a)(e.breakpoints.down("xs"))}(),r=Aa();return t?U.a.createElement(Va,{msg:t,err:a,open:!0,fullScreen:n,classes:r}):U.a.createElement(Da,{fullScreen:n,classes:r})}Ia.defaultProps={msg:"",err:null};var Aa=Object(V.a)((function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},progress:{margin:e.spacing(4)}}}));function Da(e){var t=e.fullScreen,a=e.classes,n=Object(z.useState)({msg:"",err:null}),r=Object(f.a)(n,2),i=r[0],o=r[1];if(Ua&&Ua!==o)throw new Error("***ERROR*** <SplashScreen/> (supporting the programmatic `splash(msg, [err])` API) should only be instantiated ONE TIME (in the app root DOM)");return Ua=o,U.a.createElement(Va,{msg:i.msg,err:i.err,open:!!i.msg,fullScreen:t,classes:a})}function za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ua)throw new Error("***ERROR*** the programmatic `splash(msg, [err])` API requires <SplashScreen/> be instantiated in the app root DOM");Ua({msg:e,err:t})}var Ua=null,La=null;function Va(e){var t=e.msg,a=e.err,n=e.open,r=e.fullScreen,i=e.classes,o=a?U.a.createElement(U.a.Fragment,null,U.a.createElement("br",null),U.a.createElement(Xt.a,{variant:"subtitle2",color:"secondary"},"Encountered ERROR: ",a.formatUserMsg()),U.a.createElement(q.a,{variant:"contained",color:"secondary",onClick:function(){$.error({msg:"An unexpected error occurred:\n\n".concat(a,"\n\nIf this problem persists, please contact your tech support.")})}},U.a.createElement(Xt.a,{variant:"subtitle2"},"Show Detail"))):null;if(a&&a!==La){La=a;var c=a.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(c+a),a.isUnexpected()&&(console.log("Stack Trace ..."),console.log(a))}return U.a.createElement(Sa.a,{open:n,fullScreen:r,TransitionComponent:Ma},U.a.createElement(Ta.a,{className:i.title},U.a.createElement("center",{className:i.title},"Visualize It")),U.a.createElement(Ca.a,null,U.a.createElement("center",null,U.a.createElement("br",null),U.a.createElement("img",{width:"120px",src:"visualize-it-logo.png",alt:"visualize-it"}),U.a.createElement("br",null),U.a.createElement(Na.a,{className:i.progress,color:"secondary"}),U.a.createElement(Xt.a,{variant:"body2"},t),o,U.a.createElement("br",null))))}function qa(e){var t=e.children,a=Object(bt.useSelector)((function(e){return dt(e)}),[]),n=Object(z.useMemo)((function(){return"dark"===a?Fa:Ja}),[a]),r=_a();return U.a.createElement(Tt.a,{theme:n},U.a.createElement(Rt.a,null),U.a.createElement(J,null),U.a.createElement(Ia,null),U.a.createElement("main",{className:r.main},U.a.createElement(ya,null,t)))}var Ja=Object(xt.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"light",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),Fa=Object(xt.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"dark",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),_a=Object(V.a)((function(e){return{main:{width:"auto",display:"block"}}})),Ba=a(452),Ka=a(443),Ga=a(231),Ha=a.n(Ga),Wa=a(232),Ya=a.n(Wa);function Xa(e){return U.a.createElement(Yt.a,Object.assign({},e,{onClick:function(){Jt(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}var Qa=U.a.forwardRef((function(e,t){var a=Object(bt.useSelector)((function(e){return dt(e)}),[]),n=Object(z.useMemo)((function(){return"light"===a?Ha.a:Ya.a}),[a]),r=Object(z.useMemo)((function(){return"light"===a?"to dark":"to light"}),[a]),i=Object(bt.useDispatch)(),o=Object(z.useCallback)((function(){return i(Ye.toggleUITheme())}),[i]);return U.a.createElement("span",Object.assign({},e,{ref:t}),U.a.createElement(Xa,{onClick:o},U.a.createElement(Ba.a,{label:r,icon:U.a.createElement(n,null)})),U.a.createElement(Ka.a,null))})),Za=a(233),$a=a.n(Za),en=U.a.forwardRef((function(e,t){var a=Object(bt.useSelector)((function(e){return ft(e)}),[]),r=Object(z.useMemo)((function(){return"off"===a?function(){return null}:$a.a}),[a]),i=Object(bt.useDispatch)(),o=Object(z.useCallback)((function(){te.success({msg:'This app is designed with mobile devices in mind (i.e. cell phones).\n\nWhen the "responsive" mode is enabled, selected screens will dynamically adjust to take advantage of the additional screen real estate.  As an example, a simple list can morph into a detailed table.\n\nYou can define the "responsive" boundary where additional content is manifest (based on the screen width), or disable it altogether.\n\nSet the "responsive" boundary to:\n(** is current)',actions:[].concat(Object(n.a)(an(a,i)),[{txt:"Close"}])})}),[i,a]);return U.a.createElement("span",Object.assign({},e,{ref:t}),U.a.createElement(Xa,{onClick:o},U.a.createElement(Ba.a,{label:"responsive",icon:U.a.createElement(r,null)})),U.a.createElement(Ka.a,null))})),tn=[{name:"Tablet",value:"sm"},{name:"Desktop",value:"md"},{name:"Landscape",value:"lg"},{name:"Disable",value:"off"}],an=function(e,t){return tn.map((function(a){return{txt:"".concat(e===a.value?"**":"").concat(a.name),action:function(){return t(Ye.setResponsiveMode(a.value))}}}))},nn=U.a.forwardRef((function(e,t){return U.a.createElement("span",Object.assign({},e,{ref:t}),U.a.createElement(Ka.a,null),U.a.createElement(Xa,{onClick:rn},"About ..."))}));function rn(){var e="".concat("visualize-it","\n\n").concat("Your View into External Systems","\n\nversion: ").concat("0.1.0"),t=[];t.push({txt:"Close"}),$.success({msg:e,actions:t})}var on,cn,sn,ln=Object(de.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":Ye.changeView,"sel.curView":function(e){return mt(e).curView},"actions.addLeftNavItem":Ye.addLeftNavItem,"actions.removeLeftNavItem":Ye.removeLeftNavItem},defineUse:{"AppMotif.UserMenuItem.aa1_UIThemeToggle":Qa,"AppMotif.UserMenuItem.aa2_MaintainResponsiveMode":en,"AppMotif.UserMenuItem.zz8_About":nn},use:[["AppMotif.UserMenuItem.*",{required:!0,type:de.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:de.fassetValidations.any}]]},reducer:ut,logic:ht,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return U.a.createElement(qa,null,t)},appInit:function(e){e.showStatus;var t=e.fassets,a=(e.getState,e.dispatch);Ct.injectDependency(t,a)}}),un=We.generateActions.root(Object(d.a)({},"tabManager",{activateTab:{actionMeta:{traits:["tabId","preview"],ratify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[e,t]}}},closeTab:{actionMeta:{traits:["tabId"]}}})),mn=Object(Ze.slicedReducer)("tabManager",Object(Xe.combineReducers)({activeTabId:Object(Qe.reducerHash)((on={},Object(d.a)(on,un.activateTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),Object(d.a)(on,un.closeTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),on),null),previewTabId:Object(Qe.reducerHash)((cn={},Object(d.a)(cn,un.activateTab,(function(e,t){return t.pgmDirectives.next_previewTabId})),Object(d.a)(cn,un.closeTab,(function(e,t){return e===t.tabId?null:e})),cn),null),tabs:Object(Qe.reducerHash)((sn={},Object(d.a)(sn,un.activateTab,(function(e,t){var a=e,r=t.tabId,i=t.tabName,o=t.pgmDirectives,c=o.removeTabId,s=o.addNewTab;return c&&(a=a.filter((function(e){return e.tabId!==c}))),s&&(a=[].concat(Object(n.a)(a),[{tabId:r,tabName:i}])),a})),Object(d.a)(sn,un.closeTab,(function(e,t){return e.filter((function(e){return e.tabId!==t.tabId}))})),sn),[])})),dn=mn,fn=function(e){return mn.getSlicedState(e)},gn=function(e){return fn(e).activeTabId},pn=function(e){return fn(e).previewTabId},hn=function(e){return fn(e).tabs},bn=function(e){return fn(e).tabs.length},vn=function(){function e(t,a){Object(i.a)(this,e);var n=g.prefix("".concat(this.diagClassName(),"() constructor parameter violation: "));n(t,"tabId is required"),n(E()(t),"tabId must be a string"),n(a,"tabName is required"),n(E()(a),"tabName must be a string"),this.tabId=t,this.tabName=a}return Object(o.a)(e,[{key:"getTabId",value:function(){return this.tabId}},{key:"getTabName",value:function(){return this.tabName}},{key:"getTarget",value:function(){throw new Error("***ERROR*** TabController.getTarget() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"getTabPanelComp",value:function(){return this.TabPanelComp||(this.TabPanelComp=this.createTabPanelComp()),this.TabPanelComp}},{key:"createTabPanelComp",value:function(){throw new Error("***ERROR*** TabController.createTabPanelComp() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}}]),e}();vn.unmangledName="TabController";var On=new(function(){function e(){Object(i.a)(this,e),this.tabRegistry={}}return Object(o.a)(e,[{key:"registerTab",value:function(e){var t=g.prefix("TabManager.registerTab() parameter violation: ");t(e,"tabController is required"),t(e instanceof vn,"tabController must be a TabController instance");var a=e.getTabId();if(this.tabRegistry[a])throw new Error("***ERROR*** TabManager.registerTab() tabId: ".concat(a," is already registered :-("));this.tabRegistry[a]=e}},{key:"getTabController",value:function(e){var t=g.prefix("TabManager.getTabController() parameter violation: ");return t(e,"tabId is required"),t(E()(e),"tabId must be a string"),this.tabRegistry[e]}}]),e}()),yn=[Object(pt.b)({name:"".concat("tabManager",".supplementActivateTab"),type:String(un.activateTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=r.tabId,c=r.preview,s=pn(i),l=hn(i).find((function(e){return o===e.tabId})),u=o,m=!!!l,d=s,f=null;m?c&&(d=o,f=s):c||o!==s||(d=null),r.tabName=On.getTabController(o).getTabName(),r.pgmDirectives={next_activeTabId:u,next_previewTabId:d,removeTabId:f,addNewTab:m},t(r)}}),Object(pt.b)({name:"".concat("tabManager",".supplementCloseTab"),type:String(un.closeTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=hn(i),c=o.findIndex((function(e){return r.tabId===e.tabId})),s=c===o.length-1?c-1:c+1,l=s<0?null:o[s].tabId;r.pgmDirectives={next_activeTabId:l},t(r)}}),Object(pt.b)({name:"".concat("tabManager",".syncTargetDispMode"),type:String(un.activateTab),process:function(e,t,a){e.getState;var n=e.action;e.fassets;if(n.pgmDirectives.addNewTab){var r=On.getTabController(n.tabId).getTarget();r.setDispMode(r.getDispMode())}a()}})],kn=a(144),En=a(448),jn=a(234),wn=a.n(jn),Nn=a(445),Sn=a(155),Cn=a(444),Tn=a(450),xn=re("***DIAG*** <TabManager> ... ").disable();function Rn(){var e=Pn(),t=Object(bt.useSelector)((function(e){return gn(e)}),[]),a=Object(bt.useSelector)((function(e){return pn(e)}),[]),n=Object(bt.useSelector)((function(e){return hn(e)}),[]),r=Object(bt.useDispatch)(),i=Object(z.useCallback)((function(e,t){xn("handleTabChanged('".concat(t,"')")),r(un.activateTab(t))}),[r]);return xn("rendering"),U.a.createElement(U.a.Fragment,null,U.a.createElement(ia.a,{position:"static",color:"default"},U.a.createElement(Tn.a,{value:t,onChange:i,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},n.map((function(t){return U.a.createElement(Cn.a,{className:t.tabId===a?e.tabPreview:e.tabPermanent,key:t.tabId,value:t.tabId,label:U.a.createElement(Nn.a,{container:!0,justify:"space-between"},U.a.createElement(Nn.a,{item:!0},U.a.createElement(Xt.a,{variant:"subtitle2",color:"inherit"},t.tabName)),U.a.createElement(Nn.a,{item:!0},U.a.createElement(wn.a,{onClick:function(e){return a=e,n=t.tabId,xn("in handleCloseTab: ",n),a.stopPropagation(),void r(un.closeTab(n));var a,n}})))})})))),n.map((function(e){var a=On.getTabController(e.tabId).getTabPanelComp();return U.a.createElement(Mn,{key:e.tabId,tabId:e.tabId,activeTabId:t},U.a.createElement(a,null))})))}var Pn=Object(V.a)((function(e){return{tabPreview:{fontStyle:"italic"},tabPermanent:{}}})),Mn=function(e){var t=e.tabId,a=e.activeTabId,n=e.children;return U.a.createElement(Sn.a,{hidden:t!==a,style:{height:"calc(100% - 97px)"}},U.a.createElement(En.a,{padding:1},n))};function In(e){var t=e.children;return U.a.createElement(Nn.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}function An(){var e=Dn();return U.a.createElement(Sn.a,{className:e.root,style:{height:"calc(100% - 48px)"}},U.a.createElement(In,null,U.a.createElement("img",{src:"visualize-it-logo.png",width:"300",alt:"Logo",className:e.entry})),U.a.createElement(In,null,U.a.createElement(Xt.a,{variant:"h4",color:"inherit",noWrap:!0,className:e.entry},"Your View into External Systems!")),U.a.createElement(In,null,U.a.createElement("img",{src:"visualize-it-logo-eyes.jpg",alt:"Logo Eyes",className:e.entry})))}var Dn=Object(V.a)((function(e){return{root:{padding:e.spacing(3,2,15)},entry:{marginTop:e.spacing(2)}}})),zn=[Object(kn.featureRoute)({content:function(e){e.fassets;var t=e.appState;return 0===bn(t)?U.a.createElement(An,null):U.a.createElement(Rn,null)}})],Un=Object(de.createFeature)({name:"tabManager",fassets:{define:{"actions.activateTab":un.activateTab,"actions.closeTab":un.closeTab,"sel.getTotalTabs":bn,"sel.getActiveTabId":gn}},reducer:dn,logic:yn,route:zn}),Ln=[Object(pt.b)({name:"".concat("toolBar",".syncDispModeChangesToObjectModel"),type:String(sa.dispModeChanged),process:function(e,t,a){var n=e.getState,r=e.action,i=e.fassets,o=n(),c=i.sel.getActiveTabId(o);On.getTabController(c).getTarget().setDispMode(r.dispMode),a()}})],Vn=Object(de.createFeature)({name:"toolBar",reducer:ua,logic:Ln}),qn=null,Jn=[Object(pt.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var a=e.action;"verbose"===ge&&console.group("Action: ".concat(a.type)),console.log("Dispatched Action: ",a),t(a)},process:function(e,t,a){var n=e.getState;e.action,e.fassets;if("verbose"===ge){var r=n();r===qn?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),qn=r,console.groupEnd()}a()}})],Fn=Object(de.createFeature)({name:"logActions",enabled:!!ge,logic:Jn});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _n=Object(de.createFeature)({name:"pwa",appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}),Bn=a(178),Kn=a(378),Gn=a(446),Hn=a(447),Wn=a(235),Yn=a.n(Wn);function Xn(e){var t=e.name,a=e.PaletteIcon,n=void 0===a?Yn.a:a,r=e.children,i=Qn(),o=Object(z.useState)(!1),c=Object(f.a)(o,2),s=c[0],l=c[1],u=Object(z.useCallback)((function(){l(!s)}),[s]);return U.a.createElement(U.a.Fragment,null,U.a.createElement(Kn.a,{button:!0,onClick:u},U.a.createElement(Gn.a,null,U.a.createElement(n,null)),U.a.createElement(Hn.a,{primary:t}),s?U.a.createElement(Ot.a,null):U.a.createElement(kt.a,null)),U.a.createElement(Bn.a,{in:s,timeout:"auto"},U.a.createElement(Sn.a,{className:i.pallet},r)))}var Qn=Object(V.a)((function(e){return{pallet:{margin:e.spacing(0,2,2,2),padding:e.spacing(1)}}})),Zn=re("***DIAG*** <ReactSmartView> ... ").enable();var $n=U.a.memo((function(e){var t=e.view,a=Object(r.a)(e,["view"]),n=Object(z.useRef)(null);Object(z.useEffect)((function(){t.mount(n.current)}),[t]),Zn("here is my view: ",t);var i=t.size(),o=i.width,c=i.height;return U.a.createElement("div",Object.assign({ref:n},a,{style:{backgroundColor:"gray",width:o,height:c,border:"1px solid black"}}))})),er=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(l.a)(t).call(this,e,a));var o=g.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"scene is required"),o(n instanceof ae,"scene must be a Scene object"),r.scene=n,r}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.scene}},{key:"createTabPanelComp",value:function(){var e=new le({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),scene:this.scene});return function(){return U.a.createElement($n,{view:e})}}}]),t}(vn),tr=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(l.a)(t).call(this,e,a));var o=g.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"collage is required"),o(n instanceof ne,"collage must be a Collage object"),r.collage=n,r}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.collage}},{key:"createTabPanelComp",value:function(){var e=new le({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),scene:this.collage});return function(){return U.a.createElement($n,{view:e})}}}]),t}(vn),ar=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(l.a)(t).call(this,e,a));var o=g.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"clazz is required"),o(j(n),"clazz must be a class type"),r.clazz=n,r.compName=T.getClassName(n),r.comp=new n({id:"comp-".concat(r.compName)}),r}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.comp}},{key:"createTabPanelComp",value:function(){var e=new ae({id:"view-".concat(this.compName),comps:[this.comp],width:300,height:300}),t=new le({id:"view-".concat(this.compName),scene:e});return function(){return U.a.createElement($n,{view:t})}}}]),t}(vn),nr=[ze,ln,Un,Vn,He,_n,Fn],rr=a(236),ir=[Object(Ze.createReducerAspect)(),Object(rr.createLogicAspect)(),Object(kn.createRouteAspect)({fallbackElm:U.a.createElement(Ia,{msg:"I'm trying to think but it hurts!"})})],or=Object(de.launchApp)({features:nr,aspects:ir,registerRootAppElm:function(e){me.a.render(e,document.getElementById("root"))},showStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;za(e,t)}});a.d(t,"default",(function(){return or}))}},[[256,1,2]]]);
//# sourceMappingURL=main.151c8b49.chunk.js.map