(this["webpackJsonpvisualize-it"]=this["webpackJsonpvisualize-it"]||[]).push([[0],{256:function(e,t,a){e.exports=a(374)},257:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var a=Error.prototype.toString;Error.prototype.toString=function(){return a.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},374:function(e,t,a){"use strict";a.r(t);a(257);var n=a(21),r=a(2),i=a(10),o=a(9),c=a(26),s=a(38),l=a(15),u=a(42),d=a(27),m=a(6),f=a(22);function g(e,t){if(!e)throw new Error(t)}g.prefix=function(e){return function(t,a){return g(t,e+a)}};a(191);var p=a(34),h=a.n(p),b=a(192),v=a.n(b),O=a(52),y=a.n(O),k=a(46),E=a.n(k),j=(a(83),h.a);function w(e){return"number"===typeof e}function S(e,t,a){var n=Object.keys(t);e(0===n.length,"unrecognized named parameter(s): ".concat(n)),e(a.length<=1,"unrecognized positional parameters (only named parameters can be specified) ... ".concat(a.length," arguments were supplied"))}var C=function(){function e(){Object(i.a)(this,e),this.pkgCatalog={}}return Object(o.a)(e,[{key:"registerPkg",value:function(e){var t=g.prefix("".concat(this.constructor.unmangledName,".registerPkg() parameter violation: "));t(e,"smartPkg is required"),t(e.getPkgId,"smartPkg must be a SmartPkg instance");var a=e.getPkgId();if(this.pkgCatalog[a])throw new Error("***ERROR*** ".concat(this.constructor.unmangledName,".registerPkg() pkgId: ").concat(a," is already registered :-(")).defineUserMsg("The visualize-it '".concat(a,"' package is already loaded"));this.pkgCatalog[a]=e}},{key:"getPackage",value:function(e){var t=g.prefix("PkgManager.getPackage() parameter violation: ");return t(e,"pkgId is required"),t(E()(e),"pkgId must be a string"),this.pkgCatalog[e]}},{key:"getClassRef",value:function(e,t){var a=g.prefix("PkgManager.getClassRef() parameter violation: ");a(e,"pkgId is required"),a(E()(e),"pkgId must be a string"),a(t,"className is required"),a(E()(t),"className must be a string");var n=this.pkgCatalog[e];if(!n)throw new Error("***ERROR*** PkgManager.getClassRef(pkgId:".concat(e,", className:").concat(t,") package is NOT cataloged ... did you forget to load a dependent package?")).defineUserMsg("The '".concat(e,"/").concat(t,"' class has been referenced, but the '").concat(e,"' package has NOT been loaded ... did you forget to load this dependent package?"));var r=n.getClassRef(t);if(!r)throw new Error("***ERROR*** PkgManager.getClassRef(pkgId:".concat(e,", className:").concat(t,") class NOT in package :-("));return r}},{key:"getEntry",value:function(e,t){var a=g.prefix("PkgManager.getEntry() parameter violation: ");a(e,"pkgId is required"),a(E()(e),"pkgId must be a string"),a(t,"entryId is required"),a(E()(t),"entryId must be a string");var n=this.pkgCatalog[e];if(n)return n.getEntry(t)}}]),e}();C.unmangledName="PkgManager";var N=new C,T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=void 0===a?"TYPE":a,o=t.name,c=void 0===o?"the MASTER pseudoClass definition of type: ... see container.id":o,s=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var l=g.prefix("PseudoClass() constructor parameter violation: ");l(n,"id is required"),l(E()(n),"id must be a string"),l(c,"name is required"),l(E()(c),"name must be a string"),S(l,s,arguments),this.id=n,this.name=c||n}return Object(o.a)(e,[{key:"isType",value:function(){return"TYPE"===this.id}},{key:"isInstance",value:function(){return!this.isType()}}],[{key:"isPseudoClassMaster",value:function(e){return e.pseudoClass&&e.pseudoClass.isType()}},{key:"getClassName",value:function(e){var t=g.prefix("PseudoClass.getClassName() parameter violation: ");return t(e,"clazz is required"),this.isPseudoClassMaster(e)?e.id:j(e)?e.unmangledName||e.name:void t(!1,"clazz must be a real class or a pseudoClass MASTER")}}]),e}();T.unmangledName="PseudoClass";var P=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),t}(a(224).Enumify);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}P.view=new P,P.edit=new P,P.animate=new P,P._=P.closeEnum();var R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=t.name,o=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var c=g.prefix("".concat(this.diagClassName(),"(id:'").concat(a,"', name:'").concat(n,"') constructor parameter violation: "));c(a,"id is required"),c(E()(a),"id must be a string"),n&&c(E()(n),"name (when supplied) must be a string"),S(c,o,arguments),this.id=a,this.name=n||a,this.dispMode=P.view}return Object(o.a)(e,[{key:"getEncodingProps",value:function(e){return["id","name"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPackage",value:function(){if(this.getPkgId)return this;var e=this.getParent();return e?e.getPackage():void 0}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){this.parent=e}},{key:"getView",value:function(){if("SmartView"===this.diagClassName())return this;var e=this.getParentView();return e?e.getView():void 0}},{key:"getParentView",value:function(){return this.parentView?this.parentView:this.parent}},{key:"setParentView",value:function(e){this.parentView=e}},{key:"regenSizeTrickleUp",value:function(){var e=this,t=function(){var t=e.getParentView();t&&t.regenSizeTrickleUp()};this.getSize?function(){var t=e.sizeCache?e.sizeCache:{width:-1,height:-1};e.sizeCache=void 0;var a=e.getSize(),n=!(t.width===a.width&&t.height===a.height);return n&&e.bindSizeChanges(t,a),n}()&&t():t()}},{key:"getDispMode",value:function(){return this.dispMode}},{key:"setDispMode",value:function(e){var t=g.prefix("".concat(this.diagClassName(),".setDispMode() parameter violation: "));if(t(e,"dispMode is required"),t(e instanceof P,"dispMode must be a DispMode type"),t(this.canHandleDispMode(e),"does NOT support ".concat(e," :-(")),this.dispMode=e,e===P.view)this.enableViewMode();else if(e===P.edit)this.enableViewMode(),this.enableEditMode();else{if(e!==P.animate)throw new Error("***ERROR*** ".concat(this.diagClassName(),".setDispMode() [id:").concat(this.id,"]: unrecognized dispMode: ").concat(e,"!"));this.enableViewMode(),this.enableAnimateMode()}}},{key:"canHandleDispMode",value:function(e){return!0}},{key:"enableViewMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableViewMode() is an abstract method that MUST BE implemented!"))}},{key:"enableEditMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableEditMode() is an abstract method that MUST BE implemented!"))}},{key:"enableAnimateMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableAnimateMode() is an abstract method that MUST BE implemented!"))}},{key:"toSmartJSON",value:function(){var t=this,a=this.getClassRef(),n={smartType:a.getClassName(),smartPkg:a.getClassPkgId()};return T.isPseudoClassMaster(this)&&(n.isPseudoClassMaster=!0),this.getEncodingProps(!1).forEach((function(a){var r=Array.isArray(a)?a:[a,"DeFaUlT NeVeR HaPpEn"],i=Object(f.a)(r,2),o=i[0],c=i[1],s=t[o];s!==c&&(n[o]=function t(a){if(a){if(Array.isArray(a))return a.map((function(e){return t(e)}));if(v()(a)){if(a instanceof e)return a.toSmartJSON();if(y()(a))return Object.entries(a).reduce((function(e,a){var n=Object(f.a)(a,2),r=n[0],i=n[1];return e[r]=t(i),e}),{});throw new Error("***ERROR*** SmartModel.toSmartJSON() processing ref object of type ".concat(a.constructor.name," is NOT supported ... only SmartModel derivations support the smartJSON format :-("))}return a}return a}(s))})),n}},{key:"getClassRef",value:function(){var e=g.prefix("".concat(this.constructor.name,".getClassRef() id:'").concat(this.id,"', name:'").concat(this.name,"') ... "));if(this.pseudoClass&&this.pseudoClass.isInstance()){var t=this.pseudoClass.pseudoClassMaster;e(t,"this pseudoClass instance has NO pseudoClassMaster reference ... you must create it with SmartClassRef.createSmartObject()");var a=t.smartClassRef;return e(a,"this pseudoClass instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),a}var n=this.constructor.smartClassRef;return e(n,"this real class instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),n}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}},{key:"smartClone",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getEncodingProps(!0),r=n.reduce((function(e,n){var r=Array.isArray(n)?n:[n,"DeFaUlT NoT Used"],i=Object(f.a)(r,1)[0];if(!a.hasOwnProperty(i)){var o=c(t[i]);e[i]=o}return e}),{}),i=I({},r,{},a),o=new this.constructor(i);return o;function c(t){if(t){if(Array.isArray(t))return t.map((function(e){return c(e)}));if(v()(t)){if(t instanceof e)return t.smartClone();if(y()(t))return Object.entries(t).reduce((function(e,t){var a=Object(f.a)(t,2),n=a[0],r=a[1];return e[n]=c(r),e}),{});throw new Error("***ERROR*** SmartModel.smartClone() processing self object of type ".concat(this.diagClassName(),", ")+"whose member object of type ".concat(t.constructor.name," is NOT supported ")+"... only SmartModel derivations can be cloned :-(")}return t}return t}}}],[{key:"fromSmartJSON",value:function(t,a){if(!t)return t;if(Array.isArray(t))return t.map((function(t){return e.fromSmartJSON(t,a)}));if(y()(t)){if(t.smartType){var n={};for(var r in t){var i=t[r];"smartType"!==r&&"smartPkg"!==r&&"isPseudoClassMaster"!==r&&(n[r]=e.fromSmartJSON(i,a))}return function(e,t){var a=e.smartPkg,n=e.smartType,r=null;if(t&&(r=t(a,n)))return r;try{r=N.getClassRef(a,n)}catch(i){throw console.log("***ERROR*** SmartModel.fromSmartJSON() could not resolve pkgId: ".concat(a," / className: ").concat(n," \n... smartJSON: ").concat(JSON.stringify(e,null,2))),i.defineAttemptingToMsg("hydrate smartObj (see logs for smartJson)")}return r}(t,a).createSmartObject(n)}return Object.entries(t).reduce((function(t,n){var r=Object(f.a)(n,2),i=r[0],o=r[1];return t[i]=e.fromSmartJSON(o,a),t}),{})}return t}}]),e}();R.unmangledName="SmartModel";var M=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=Object(r.a)(a,["id","name"]);return Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o})),S(g.prefix("SmartPallet() constructor parameter violation: "),s,arguments),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){throw new Error("***ERROR*** SmartPallet pseudo-interface-violation: ".concat(this.diagClassName(),"(id:").concat(this.id,").mount() is an abstract method that MUST BE implemented!"))}},{key:"getSize",value:function(){throw new Error("***ERROR*** SmartPallet pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".getSize() is an abstract method that MUST BE implemented!"))}},{key:"bindSizeChanges",value:function(e,t){throw new Error("***ERROR*** SmartPallet pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".bindSizeChanges() is an abstract method that MUST BE implemented!"))}}]),t}(R);M.unmangledName="SmartPallet";var A=a(43),z=a.n(A);var U=10,D=a(0),L=a.n(D),V=a(180),q=a(132),J=a(426);function F(e){var t=B();return L.a.createElement(V.SnackbarProvider,{maxSnack:3,dense:!0,className:t.variantSuccess},L.a.createElement(Y,null,e.children))}var B=Object(q.a)((function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}})),K=null,G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r))),g(!K,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),K=Object(s.a)(a),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.msg,n=t.duration,i=void 0===n?5:n,o=t.level,c=void 0===o?"success":o,s=t.position,l=void 0===s?"bottom-left":s,u=t.modal,d=void 0!==u&&u,m=t.actions,f=void 0===m?[]:m,p=Object(r.a)(t,["msg","duration","level","position","modal","actions"]),b=g.prefix("notify() parameter violation: ");b(a,"directive.msg is required"),b(E()(a),"msg must be a string"),null!==i&&b(i>=1&&i<=20,"supplied duration (".concat(i,") must be a number between 1 and 20 (inclusive).")),b(_[c],"invalid level: '".concat(c,"', expecting one of ").concat(Object.keys(_),".")),b(H[l],"invalid position: '".concat(l,"', expecting one of ").concat(Object.keys(H),".")),b(!0===d||!1===d,"supplied modal (".concat(d,") must be a boolean true/false.")),b(f,"actions must be an Action[] array"),b(Array.isArray(f),"actions must be an Action[] array"),f.forEach((function(e,t){b(e.txt,"action[".concat(t,"].txt is required")),b(E()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&b(h()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))})),S(b,p,arguments);var v=i?1e3*i:null;i||0!==f.length||(f=[{txt:"OK"}]);var O=f.reduce((function(e,t){return e[t.txt]=t.action||W,e}),{}),y=f.map((function(e,t){return L.a.createElement(J.a,{key:t,color:"default",size:"small"},e.txt)})),k=this.props.enqueueSnackbar(a,{variant:_[c],autoHideDuration:v,anchorOrigin:H[l],action:y,onClick:function(t){e.props.closeSnackbar(k);var a=O[t.target.textContent];setTimeout((function(){return a()}),400)}})}},{key:"render",value:function(){return L.a.createElement(L.a.Fragment,null,this.props.children)}}]),t}(L.a.Component),_={success:"success",info:"info",warn:"warning",error:"error"},H={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},W=function(e){return e},Y=Object(V.withSnackbar)(G);function X(e){g(K,"notify(): NO <Notify> instance has been established in the app root."),K.display(e)}function $(e,t){var a=e.msg,n=e.duration,i=void 0===n?5:n,o=e.actions,c=Object(r.a)(e,["msg","duration","actions"]),s=t?".".concat(t):"",l=g.prefix("toast".concat(s,"() parameter violation: "));l(a,"msg named parameter is required");var u=Object.keys(c);l(0===u.length,"unrecognized named parameter(s): ".concat(u)),X({msg:a,duration:i,level:t,position:"bottom-left",modal:!1,actions:o})}function Q(e){$(e)}function Z(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=g.prefix("alert".concat(o,"() parameter violation: "));c(a,"msg named parameter is required");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),X({msg:a,duration:null,level:t,position:"top-center",modal:!0,actions:n})}function ee(e){Z(e)}function te(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=g.prefix("confirm".concat(o,"() parameter violation: "));c(a,"msg named parameter is required"),c(n&&n.length>0,"client-specific actions are required.");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),X({msg:a,duration:null,level:t,position:"top-right",modal:!0,actions:n})}function ae(e){te(e)}Y.displayName="NotifyAPI_withSnackBar",Q.success=function(e){$(e,"success")},Q.info=function(e){$(e,"info")},Q.warn=function(e){$(e,"warn")},Q.error=function(e){$(e,"error")},ee.success=function(e){Z(e,"success")},ee.info=function(e){Z(e,"info")},ee.warn=function(e){Z(e,"warn")},ee.error=function(e){Z(e,"error")},ae.success=function(e){te(e,"success")},ae.info=function(e){te(e,"info")},ae.warn=function(e){te(e,"warn")},ae.error=function(e){te(e,"error")};var ne=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,u=a.x,d=void 0===u?0:u,m=a.y,f=void 0===m?0:m,p=a.comps,h=Object(r.a)(a,["id","name","x","y","comps"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var b=g.prefix("".concat(e.diagClassName(),"() constructor parameter violation: "));return b(p,"comps is required"),b(Array.isArray(p),"comps must be a SmartComp[] array"),b(w(d),"x must be a number (when supplied), NOT: ".concat(d)),b(w(f),"y must be a number (when supplied), NOT: ".concat(f)),S(b,h,arguments),e.pseudoClass=new T,e.x=d,e.y=f,e.comps=p,e.comps.forEach((function(t){return t.setParent(Object(s.a)(e))})),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){var a=[["x",0],["y",0]];return(this.pseudoClass.isType()||e)&&a.push("comps"),[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this,e)),a)}},{key:"enableViewMode",value:function(){this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!1)})),this.konvaSceneLayer.off("dragend"),this.containingKonvaStage.off("click tap"),this.containingKonvaStage.find("Transformer").destroy(),this.konvaSceneLayer.getChildren().each((function(e,t){return e.off("transformend")})),this.konvaSceneLayer.draw()}},{key:"enableEditMode",value:function(){var e=this,t=this.getPackage();t.canPersist()?(this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!0)})),this.konvaSceneLayer.on("dragend",(function(t){var a=e.comps.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y(),e.regenSizeTrickleUp()})),this.containingKonvaStage.on("click tap",(function(t){if(t.target===e.containingKonvaStage)return e.containingKonvaStage.find("Transformer").destroy(),void e.konvaSceneLayer.draw();e.containingKonvaStage.find("Transformer").destroy();var a=function e(t){var a=t.getParent();return"Layer"===a.getClassName()?t:e(a)}(t.target),n=new z.a.Transformer;e.konvaSceneLayer.add(n),n.attachTo(a),e.konvaSceneLayer.draw(),a.on("transformend",(function(t){var a=e.comps.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y(),a.rotation=t.target.rotation(),a.scaleX=t.target.scaleX(),a.scaleY=t.target.scaleY()})),e.regenSizeTrickleUp()}))):Q.warn({msg:'The "'.concat(this.getName(),'" scene is NOT EDITABLE ')+'... normally scenes can be edited, however it belongs to the "'.concat(t.getPkgName(),'" package which ')+"contains code (therefore you would not be able to save your changes)."})}},{key:"enableAnimateMode",value:function(){}},{key:"checkMounted",value:function(e){g(this.konvaSceneLayer,"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"mount",value:function(e){var t=this;this.containingKonvaStage=e,this.konvaSceneLayer=new z.a.Layer({id:this.id,x:this.x,y:this.y}),this.comps.forEach((function(e){return e.mount(t.konvaSceneLayer)})),e.add(this.konvaSceneLayer)}},{key:"getSize",value:function(){if(this.sizeCache)return this.sizeCache;if(this.konvaSceneLayer){var e=this.sizeCache={width:10,height:10};this.konvaSceneLayer.getChildren().each((function(t,a){if("Transformer"!==t.getClassName()){var n=t.getClientRect();e.width=Math.max(e.width,n.x+n.width+U),e.height=Math.max(e.height,n.y+n.height+U)}}))}else this.sizeCache={width:100,height:100};return this.sizeCache}},{key:"bindSizeChanges",value:function(e,t){}}]),t}(M);ne.unmangledName="Scene";var re=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,u=a.scenes,d=Object(r.a)(a,["id","name","scenes"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var m=g.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(u,"scenes is required"),m(Array.isArray(u),"scenes must be an Scene[] array"),u.forEach((function(e,t){m(e instanceof ne,"scenes[".concat(t,"] must be a Scene instance"))})),S(m,d,arguments),e.scenes=u,e.scenes.forEach((function(t){return t.setParent(Object(s.a)(e))})),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this,e)),["scenes"])}},{key:"enableViewMode",value:function(){this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!1)})),this.containingKonvaStage.off("dragend")}},{key:"enableEditMode",value:function(){var e=this,t=this.getPackage();t.canPersist()?(this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!0)})),this.containingKonvaStage.on("dragend",(function(t){var a=e.scenes.find((function(e){return e.id===t.target.id()}));a.x=t.target.x(),a.y=t.target.y(),e.regenSizeTrickleUp()}))):Q.warn({msg:'The "'.concat(this.getName(),'" collage is NOT EDITABLE ')+'... normally collages can be edited, however it belongs to the "'.concat(t.getPkgName(),'" package which ')+"contains code (therefore you would not be able to save your changes)."})}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e){this.containingKonvaStage=e,this.scenes.forEach((function(t){return t.mount(e)}))}},{key:"getSize",value:function(){return this.sizeCache?this.sizeCache:(this.containingKonvaStage?this.sizeCache=this.scenes.reduce((function(e,t){t.sizeCache=void 0;var a=t.getSize();return e.width=Math.max(e.width,a.width),e.height=Math.max(e.height,a.height),e}),{width:100,height:100}):this.sizeCache={width:200,height:200},this.sizeCache)}},{key:"bindSizeChanges",value:function(e,t){this.scenes.forEach((function(a){return a.bindSizeChanges(e,t)}))}}]),t}(M);function ie(e){var t=g.prefix("createLogger() parameter violation: ");t(e,"prefix is required"),t(E()(e),"prefix must be a string");var a=!1,n=function e(t,n){a&&e.force(t,n)};return n.force=function(t,a){t=e+t,a?console.log(t,a):console.log(t)},n.isEnabled=function(){return a},n.enable=function(){return a=!0,n("enabling logging"),n},n.disable=function(){return n("disabling logging"),a=!1,n},n}re.unmangledName="Collage";var oe=ie("***DIAG*** SmartClassRef:").disable(),ce=function(){function e(t,a){Object(i.a)(this,e);var n=g.prefix("SmartClassRef() constructor parameter violation: ");n(t,"classRef is required"),n(a,"pkgId is required"),n(E()(a),"pkgId must be a string"),j(t)?(this.realClass=t,n(t.hasOwnProperty("unmangledName"),"real class ".concat(t.name,' MUST have an "unmangledName" property (supporting persistence in obfuscated production build)'))):t.pseudoClass&&t.pseudoClass.isType()?this.pseudoClassContainer=t:n(!1,"classRef must be a real class -or- pseudoClass"),this.pkgId=a}return Object(o.a)(e,[{key:"getClassName",value:function(){return this.pseudoClassContainer?this.pseudoClassContainer.id:this.realClass.unmangledName||this.realClass.name}},{key:"getClassPkgId",value:function(){return this.pkgId}},{key:"getFullClassName",value:function(){return"".concat(this.getClassPkgId(),"/").concat(this.getClassName())}},{key:"createSmartObject",value:function(e){var t=null,a="";if(this.realClass)a="real",t=new this.realClass(e);else{a="pseudo";var n=this.pseudoClassContainer;(t=n.smartClone(e)).pseudoClass.id=n.id,t.pseudoClass.name="a pseudoClass instance of type: '".concat(n.id,"'"),t.pseudoClass.pseudoClassMaster=n}return oe("createSmartObject() created new object from ".concat(a," class: '").concat(this.getFullClassName(),"' ... using namedParams: "),{namedParams:e,newObj:t}),t}}]),e}(),se=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=a.entries,u=void 0===s?{}:s,d=Object(r.a)(a,["id","name","entries"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var m=g.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(u,"entries is required"),m(y()(u),"entries must be a plain object (with depth)"),S(m,d,arguments),e.entries=u,e.initializeCatalogs(e.entries),e.adornContainedClasses(),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this,e)),["entries"])}},{key:"getPkgId",value:function(){return this.id}},{key:"getPkgName",value:function(){return this.name}},{key:"getPkgResourcePath",value:function(){return this.pkgResourcePath}},{key:"canPersist",value:function(){return!this.entriesContainCode}},{key:"setPkgResourcePath",value:function(e){this.pkgResourcePath=e}},{key:"initializeCatalogs",value:function(e){var t=this;if(e===this.entries&&(this._classRefCatalog={},this._entryCatalog={},this.entriesContainCode=!1),y()(e))for(var a in e){var n=e[a];this.initializeCatalogs(n)}else{if(!Array.isArray(e)){var r="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED entry ... must be a plain directory object or an array of smartObjs ... see logs for entry";throw console.error(r,{entry:e}),new Error(r)}e.forEach((function(e){if(e instanceof R){var a=e;if(T.isPseudoClassMaster(a)){var n=T.getClassName(a);t._classRefCatalog[n]=a}t._entryCatalog[a.id]=a,a.setParent(t)}else if(j(e)){var r=e;t.entriesContainCode=!0;var i=T.getClassName(r);t._classRefCatalog[i]=r}else{if(!y()(e)){var o="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED array entry ... must be a smartObj or class or plain nested directory object ... see logs for entry";throw console.error(o,{arrItem:e}),new Error(o)}t.initializeCatalogs(e)}}))}}},{key:"adornContainedClasses",value:function(){var e=this;Object.values(this._classRefCatalog).forEach((function(t){t.smartClassRef=new ce(t,e.getPkgId())}))}},{key:"getClassRef",value:function(e){return 0===arguments.length?Object(u.a)(Object(l.a)(t.prototype),"getClassRef",this).call(this):this._classRefCatalog[e].smartClassRef}},{key:"getEntry",value:function(e){return this._entryCatalog[e]}}],[{key:"fromSmartJSON",value:function(e){var t=g.prefix("SmartPkg.fromSmartJSON(smartJSON) parameter violation: ");t(e,"smartJSON is required"),t(y()(e),"smartJSON must be a JSON object"),t("SmartPkg"===e.smartType,"smartJSON does NOT represent a SmartPkg object, rather a ".concat(e.smartType," object."));var a={},n=e.id;!function t(r){if(y()(r)){if(r.smartType){if(r.isPseudoClassMaster){var i=R.fromSmartJSON(r);return i.smartClassRef=new ce(i,n),a[i.id]=i,i}return r}for(var o in r){var c=t(r[o]);r[o]=c}return r}if(Array.isArray(r)){for(var s=0;s<r.length;s++){var l=t(r[s]);r[s]=l}return r}return j(r)?(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (class) ... ",{jsonEntry:r,smartJSON:e}),r):(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (primitive) ... ",{jsonEntry:r,smartJSON:e}),r)}(e.entries);try{return R.fromSmartJSON(e,(function(e,t){var r=e===n?a[t]:void 0;return r?r.smartClassRef:void 0}))}catch(r){throw r.defineAttemptingToMsg("hydrate SmartPkg '".concat(n,"'"))}}}]),t}(R);se.unmangledName="SmartPkg";var le=ie("***DIAG*** <SmartView> ... ").enable(),ue=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,u=a.pallet,d=Object(r.a)(a,["id","name","pallet"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var m=g.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(u,"pallet is required"),m(u instanceof M,"pallet must be a SmartPallet instance"),S(m,d,arguments),e.pallet=u,e.pallet.setParentView(Object(s.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this,e)),["pallet"])}},{key:"checkMounted",value:function(e){g(this.konvaStage,"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"getSize",value:function(){return this.pallet.getSize()}},{key:"bindSizeChanges",value:function(e,t){this.konvaStage.size(t),this.konvaStage.draw(),this.containingHtmlElm.style.width="".concat(t.width,"px"),this.containingHtmlElm.style.height="".concat(t.height,"px")}},{key:"mount",value:function(e){le("mounting SmartView id: ".concat(this.id)),this.containingHtmlElm=e;var t=this.getSize(),a=t.width,n=t.height;this.konvaStage=new z.a.Stage({container:e,x:0,y:0,width:a,height:n}),this.pallet.mount(this.konvaStage),this.pallet.regenSizeTrickleUp()}}]),t}(R);ue.unmangledName="SmartView",N.registerPkg(new se({id:"core",name:"core classes",entries:{core:[re,T,ne,se,ue]}}));var de=a(23),me=a.n(de),fe=a(17),ge=!1,pe=!1,he=!0;function be(e,t,a){return e.replace(new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(t),"g"),a)}var ve=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=a.x,u=void 0===s?0:s,d=a.y,m=void 0===d?0:d,f=a.rotation,p=void 0===f?0:f,h=a.scaleX,b=void 0===h?1:h,v=a.scaleY,O=void 0===v?1:v,y=Object(r.a)(a,["id","name","x","y","rotation","scaleX","scaleY"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(l.a)(t).call(this,{id:n,name:o}));var k=g.prefix("SmartComp() constructor parameter violation: ");return k(w(u),"x must be a number (when supplied), NOT: ".concat(u)),k(w(m),"y must be a number (when supplied), NOT: ".concat(m)),k(w(p),"rotation must be a number (when supplied), NOT: ".concat(p)),k(w(b),"scaleX must be a number (when supplied), NOT: ".concat(b)),k(w(O),"scaleY must be a number (when supplied), NOT: ".concat(O)),S(k,y,arguments),e.x=u,e.y=m,e.rotation=p,e.scaleX=b,e.scaleY=O,e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(u.a)(Object(l.a)(t.prototype),"getEncodingProps",this).call(this,e)),[["x",0],["y",0],["rotation",0],["scaleX",1],["scaleY",1]])}},{key:"canHandleDispMode",value:function(e){return e!==P.edit}},{key:"enableViewMode",value:function(){}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e){this.compGroup=new z.a.Group({id:this.id,x:this.x,y:this.y,rotation:this.rotation,scaleX:this.scaleX,scaleY:this.scaleY}),e.add(this.compGroup)}}]),t}(R);ve.unmangledName="SmartComp";var Oe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(u.a)(Object(l.a)(t.prototype),"mount",this).call(this,e);var a=new z.a.Rect({x:10,width:100,height:50,fill:"green",stroke:"black",strokeWidth:5});this.compGroup.add(a);var n=new z.a.Circle({x:7.5,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(n);var r=new z.a.Circle({x:110,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(r);var i=new z.a.Group({x:0,y:0});this.compGroup.add(i);var o=new z.a.Circle({x:60,y:25,radius:10,fill:"red",stroke:"red",strokeWidth:1});i.add(o)}}]),t}(ve);Oe.unmangledName="Valve1";var ye=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(u.a)(Object(l.a)(t.prototype),"mount",this).call(this,e);var a=new z.a.Rect({width:100,height:50,fill:"red",shadowBlur:10,cornerRadius:10});this.compGroup.add(a)}}]),t}(ve);ye.unmangledName="Valve2";var ke=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(u.a)(Object(l.a)(t.prototype),"mount",this).call(this,e);var a=new z.a.Rect({width:100,height:100,fill:"blue",cornerRadius:[0,10,20,30]});this.compGroup.add(a)}}]),t}(ve);ke.unmangledName="Valve3";var Ee=new se({id:"generalComps",name:"SandBox Comps",entries:{"Class Comps":[Oe,ye,ke]}});N.registerPkg(Ee);var je=ie("***DIAG*** konvaSandboxSmartPkg ... ").disable(),we=N.getClassRef("generalComps","Valve1"),Se=N.getClassRef("generalComps","Valve2"),Ce=N.getClassRef("generalComps","Valve3"),Ne=new ne({id:"scene1",comps:[we.createSmartObject({id:"myValve1",x:20,y:20}),Se.createSmartObject({id:"myValve2",x:150,y:40}),Ce.createSmartObject({id:"myValve3",x:50,y:120})]}),Te=new ne({id:"scene2",comps:[we.createSmartObject({id:"myValve1",x:20,y:20}),Se.createSmartObject({id:"myValve2",x:150,y:40})]}),Pe=new ce(Ne,"DUMMY-PKG-NAME").createSmartObject({id:"scene1Copy",x:0,y:0}),xe=new ce(Te,"DUMMY-PKG-NAME").createSmartObject({id:"scene2Copy",x:300,y:250}),Ie=new re({id:"collage1",name:"Collage 1",scenes:[Pe,xe]}),Re=new se({id:"com.astx.KONVA",name:"Konva Sandbox I",entries:{scenes:[Ne,{"More Depth":[Te]}],collages:[Ie]}});N.registerPkg(Re);var Me=Re.smartClone();Me.id="cloned.pkg",Me.name="Cloned Pkg",N.registerPkg(Me),je("PERSISTENT TEST: JSONIZE smartPkg:\n",{konvaSandboxSmartPkg:Re});var Ae=Re.toSmartJSON();je("PERSISTENT TEST: HERE is the json:\n",{json:Ae});var ze=Re.id,Ue=Re.name,De=JSON.stringify(Ae,null,2);De=be(De,'"'.concat(ze,'"'),'"'.concat(ze,'2"')),je('PERSISTENT TEST: HERE is the "pretty" jsonStr (after id changes):\n',De=be(De,'"'.concat(Ue,'"'),'"'.concat(Ue,'I"'))),je("PERSISTENT TEST: HERE is the RE-HYDRATED smartPkg:\n",{rehydratedSmartPkg:se.fromSmartJSON(JSON.parse(De))});var Le=Object(fe.createFeature)({name:"sandbox",enabled:he,appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;var t=N.getPackage("generalComps");Pt.addLeftNav(t);var a=N.getPackage("com.astx.KONVA");Pt.addLeftNav(a);var n=N.getPackage("cloned.pkg");Pt.addLeftNav(n)}}),Ve=a(45),qe=a.n(Ve),Je=a(75),Fe=a(225),Be=a.n(Fe);function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=g.prefix("encode(ref) parameter violation: ");a(e,"ref is required"),a(E()(e)||y()(e),"ref must be a string -or- an object literal. NOT: ",e),a(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var n=e;return y()(n)&&(n=_e+JSON.stringify(n)),t&&(n=He+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(n)),n}function Ge(e){if(g.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!E()(e))return e;var t=e;return 0===t.indexOf(He)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(He.length))),0===t.indexOf(_e)&&(t=t.substring(_e.length),t=JSON.parse(t)),t}var _e="obj2str:",He="afesa";function We(){return(We=Object(Je.a)(qe.a.mark((function e(t){var a,n,r,i;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.showStatus,t.fassets,t.getState,t.dispatch,a("Initializing Firebase"),e.next=4,fetch("fbac");case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("**ERROR** Accessing /fbac resource was REJECTED with status: ".concat(n.status));case 7:return e.next=9,n.text();case 9:if(!(r=e.sent).includes("<html")){e.next=12;break}throw new Error("**ERROR** Non Existent Resource: /fbac");case 12:return i=Ge(r),e.next=15,Be.a.initializeApp(i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=Object(fe.createFeature)({name:"initFirebase",enabled:ge,appInit:function(e){return We.apply(this,arguments)}}),Xe=a(102),$e=Xe.generateActions.root(Object(m.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},setResponsiveMode:{actionMeta:{traits:["responsiveMode"]}},changeView:{actionMeta:{traits:["viewName"]}},addLeftNavItem:{actionMeta:{traits:["leftNavKey","LeftNavComp"]}},removeLeftNavItem:{actionMeta:{traits:["leftNavKey"]}}})),Qe=a(66),Ze=a(50),et=a(70);function tt(){}function at(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=g.prefix("storeItem() parameter violation: ");n(e,"key is required"),n(E()(e),"key must be a string, NOT: ",e),n(t,"ref is required"),n(E()(t)||y()(t),"ref must be a string -or- an object literal, NOT: ",t),n(!0===a||!1===a,"safeguard must be a boolean (true/false), NOT: ",a);var r=Ke(t,a);it.setItem(e,r)}function nt(e){var t=g.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(E()(e),"key must be a string, NOT: ",e);var a=it.getItem(e);return a?Ge(a):null}var rt=function(e){var t;try{t=window[e];var a="__storage_test__";return t.setItem(a,a),t.removeItem(a),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage");rt||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var it=rt?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:tt,getItem:tt,removeItem:tt};var ot="uiTheme";var ct="responsiveMode",st=a(227);function lt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var dt=Object(et.slicedReducer)("baseUI",Object(fe.expandWithFassets)((function(e){var t;return Object(Qe.combineReducers)({uiTheme:Object(Ze.reducerHash)(Object(m.a)({},$e.toggleUITheme,(function(e,t){return"dark"===e?"light":"dark"})),nt(ot)),responsiveMode:Object(Ze.reducerHash)(Object(m.a)({},$e.setResponsiveMode,(function(e,t){return t.responsiveMode})),nt(ct)||"sm"),curView:Object(Ze.reducerHash)(Object(m.a)({},$e.changeView,(function(e,t){return t.viewName})),"uninitialized"),leftNavItems:Object(Ze.reducerHash)((t={},Object(m.a)(t,$e.addLeftNavItem,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ut(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},Object(m.a)({},t.leftNavKey,{fn:t.LeftNavComp,fnRef:"hidden in Redux DevTools"}))})),Object(m.a)(t,$e.removeLeftNavItem,(function(e,t){var a=t.leftNavKey;e[a];return Object(r.a)(e,[a].map(lt))})),t),{})})}))),mt=dt,ft=function(e){return dt.getSlicedState(e)},gt=function(e){return ft(e).uiTheme||"light"},pt=function(e){return ft(e).responsiveMode},ht=Object(st.a)((function(e){return ft(e).leftNavItems}),(function(e){return Object.entries(e).map((function(e){var t,a=Object(f.a)(e,2),n=a[0],r=a[1];return[n,(t=r,t.fn)]})).sort((function(e,t){var a=Object(f.a)(e,1)[0],n=Object(f.a)(t,1)[0];return a.localeCompare(n)}))})),bt=a(122),vt=[Object(bt.b)({name:"".concat("baseUI",".persistUITheme"),type:String($e.toggleUITheme),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=gt(r()),at(ot,n),a()}}),Object(bt.b)({name:"".concat("baseUI",".persistResponsiveMode"),type:String($e.setResponsiveMode),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=pt(r()),at(ct,n),a()}})],Ot=a(24);var yt=a(141),kt=a.n(yt),Et=a(142),jt=a.n(Et),wt=a(428),St=a(427),Ct=ie("***DIAG*** <LeftNavMenuPallet> ... ").disable();var Nt=L.a.memo((function(e){var t=e.smartPkg,a=Tt(),n=Object(Ot.useDispatch)(),r=Object(fe.useFassets)("actions.activateTab"),i=function(e,t,a){Ct("handleActivateTab( tabId:'".concat(e,"', tabName:'").concat(t,"', preview=").concat(a," )")),n(r(e,a))},o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n?(clearTimeout(n),n=null,t.apply(void 0,i)):n=setTimeout((function(){e.apply(void 0,i),n=null}),a)}}((function(e,t){return i(e,t,!0)}),(function(e,t){return i(e,t,!1)}));return Ct("rendering top-level content for smartPkg.id: ".concat(t.id," ... expecting ONE TIME (for this entry)")),L.a.createElement(Qn,{name:t.getPkgName()},L.a.createElement(St.a,{className:a.root,defaultCollapseIcon:L.a.createElement(kt.a,null),defaultExpandIcon:L.a.createElement(jt.a,null)},function(e,t){return function a(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getPkgId();if(y()(n)){var i=[];for(var o in n){var c=n[o],s="".concat(r,"-").concat(o);Ct("genTreeItems(): TreeItem directory node: ".concat(o)),i.push(L.a.createElement(wt.a,{key:s,nodeId:s,label:o},a(c,s)))}return i}if(Array.isArray(n))return n.map((function(n){if(n instanceof R){var i=n,o="".concat(r,"-").concat(i.id),c=null;if(i instanceof ne)c=new ar(o,i.name,i);else{if(!(i instanceof re)){var s="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED smartObj entry (under accumulativeId: ".concat(o,")  ... must be a Scene or Collage ... see logs for entry");throw console.error(s,{smartObj:i}),new Error(s)}c=new nr(o,i.name,i)}return kn.registerTab(c),Ct("genTreeItems(): TreeItem tabManager node ... id: ".concat(o)),L.a.createElement(wt.a,{key:o,nodeId:o,label:i.name,onClick:function(){return t(o,i.name)}})}if(j(n)){var l=n,u=T.getClassName(l),d="".concat(r,"-").concat(u);return kn.registerTab(new rr(d,u,l,e)),Ct("genTreeItems(): TreeItem tabManager node ... id: ".concat(d)),L.a.createElement(wt.a,{key:d,nodeId:d,label:u,onClick:function(){return t(d,u)}})}if(y()(n))return a(n,r);var m="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED array entry (under accumulativeId: ".concat(r,")  ... must be a smartObj or plain nested directory object ... see logs for entry");throw console.error(m,{arrItem:n}),new Error(m)}));var l="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED SmartPkg entry (under accumulativeId: ".concat(r,")  ... must be a plain directory object or an array of smartObjs ... see logs for entry");throw console.error(l,{entry:n}),new Error(l)}(e.entries)}(t,o)))})),Tt=Object(q.a)((function(e){return{root:{flexGrow:1,maxWidth:400}}}));var Pt=new(function(){function e(){Object(i.a)(this,e),this.fassets=null,this.dispatch=null,this.leftNavCache=[]}return Object(o.a)(e,[{key:"injectDependency",value:function(e,t){var a=this;this.fassets=e,this.dispatch=t,this.leftNavCache.forEach((function(e){return a.processAddLeftNav(e)})),this.leftNavCache=[]}},{key:"processAddLeftNav",value:function(e){this.fassets?this.dispatch(this.fassets.actions.addLeftNavItem(e.getPkgName(),(function(){return L.a.createElement(Nt,{smartPkg:e})}))):this.leftNavCache.push(e)}},{key:"addLeftNav",value:function(e){var t=g.prefix("".concat(this.constructor.name,".addLeftNav() parameter violation: "));t(e,"smartPkg is required"),t(e instanceof se,"smartPkg must be a SmartPkg instance"),this.processAddLeftNav(e)}}]),e}()),xt=a(424),It=a(133),Rt=a(442),Mt=a(429),At=a(431),zt=a(430);function Ut(){var e=Dt(),t=Object(Ot.useSelector)((function(e){return ht(e)}),[]);return t.length<=0?null:L.a.createElement(Mt.a,{className:e.leftNav,variant:"permanent",classes:{paper:e.leftNavPaper}},L.a.createElement(zt.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our LeftNav isn't covered up by the AppBar"}),L.a.createElement(At.a,null,t.map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return L.a.createElement(n,{key:a})}))))}var Dt=Object(q.a)((function(e){return{leftNav:{width:240,flexShrink:0},leftNavPaper:{width:240}}})),Lt=a(432),Vt=a(237),qt=a(228),Jt=a.n(qt);function Ft(e){e.curUser;var t=Object(D.useState)(null),a=Object(f.a)(t,2),r=a[0],i=a[1],o=Object(D.useMemo)((function(){return Boolean(r)}),[r]),c=Object(D.useCallback)((function(e){return i(e.currentTarget)}),[]);Kt=Object(D.useCallback)((function(){return i(null)}),[]);var s=Object(fe.useFassets)("AppMotif.UserMenuItem.*@withKeys"),l=Object(D.useMemo)((function(){return Object(n.a)(s).sort((function(e,t){var a=Object(f.a)(e,1)[0],n=Object(f.a)(t,1)[0];return a.localeCompare(n)}))}),[s]);return L.a.createElement("div",null,L.a.createElement(Lt.a,{color:"inherit",onClick:c},L.a.createElement(Jt.a,null)),L.a.createElement(Vt.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:Bt},l.map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return L.a.createElement(n,{key:a})}))))}function Bt(){Kt&&Kt()}var Kt=null;function Gt(e){return _t.apply(this,arguments)}function _t(){return(_t=Object(Je.a)(qe.a.mark((function e(t){var a,n,r,i,o,c;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g.prefix("openPkg() parameter violation: "),!t){e.next=6;break}a(t,'pkgResourcePath is currently NOT a supported param (omit it to activate the "interactive file picker dialog")'),a(123===t,"pkgResourcePath (when supplied) must be a YetUnknown"),e.next=8;break;case 6:if(window.chooseFileSystemEntries){e.next=8;break}throw new Error('***ERROR*** openPkg() the "Native File System API TRIAL" is NOT available in this environment :-(').defineAttemptingToMsg("use the interactive file picker dialog");case 8:if(n=null,!t){e.next=12;break}e.next=23;break;case 12:return e.prev=12,e.next=15,window.chooseFileSystemEntries({type:"openFile",accepts:[{description:"visualize-it file",extensions:["vit"],mimeTypes:["application/json"]}]});case 15:n=e.sent,e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(12),"The user aborted a request."!==e.t0.message){e.next=22;break}return e.abrupt("return");case 22:throw e.t0.defineAttemptingToMsg("use the file picker dialog");case 23:return e.next=25,n.getFile();case 25:return r=e.sent,e.next=28,r.text();case 28:i=e.sent,o=null,e.prev=30,o=JSON.parse(i),e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(30),new Error("INVALID JSON - ".concat(e.t1.message)).defineUserMsg("Please select a valid visualize-it package");case 37:return(c=se.fromSmartJSON(o)).setPkgResourcePath(n),N.registerPkg(c),e.abrupt("return",c);case 41:case"end":return e.stop()}}),e,null,[[12,18],[30,34]])})))).apply(this,arguments)}function Ht(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(Je.a)(qe.a.mark((function e(t){var a,n,r,i,o,c,s=arguments;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>1&&void 0!==s[1]&&s[1],(n=g.prefix("savePkg() parameter violation: "))(t,"pkg is required"),n(t instanceof se,"pkg must be a SmartPkg"),a&&n(!0===a||!1===a,"saveAs must be a boolean (when supplied)"),window.chooseFileSystemEntries){e.next=7;break}throw new Error('***ERROR*** savePkg() the "Native File System API TRIAL" is NOT available in this environment :-(').defineAttemptingToMsg("save a package to a local file system");case 7:if(r=t.toSmartJSON(),i=JSON.stringify(r),o=a?void 0:t.getPkgResourcePath()){e.next=22;break}return e.prev=11,e.next=14,window.chooseFileSystemEntries({type:"saveFile",accepts:[{description:"visualize-it file",extensions:["vit"],mimeTypes:["application/json"]}]});case 14:o=e.sent,e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(11),"AbortError"!==e.t0.name){e.next=21;break}return e.abrupt("return","UserCancel");case 21:throw e.t0.defineAttemptingToMsg('select the file to save the "'.concat(t.getPkgName(),'" package'));case 22:return e.prev=22,e.next=25,o.createWriter();case 25:return c=e.sent,e.next=28,c.write(0,i);case 28:return e.next=30,c.close();case 30:e.next=36;break;case 32:throw e.prev=32,e.t1=e.catch(22),"NotAllowedError"===e.t1.name&&e.t1.defineUserMsg("User disallowed the file write"),e.t1.defineAttemptingToMsg('save the "'.concat(t.getPkgName(),'" package'));case 36:t.setPkgResourcePath(o);case 37:case"end":return e.stop()}}),e,null,[[11,17],[22,32]])})))).apply(this,arguments)}var Yt="DYNAMIC_DEFAULT";function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,a=e.showUser,n=void 0===a||a,i=e.logIt,o=void 0===i?Yt:i,c=Object(r.a)(e,["err","showUser","logIt"]);try{var s=g.prefix("discloseError() parameter violation: ");s(t,"err is required"),s(t instanceof Error,"err must be an Error object, NOT: ",t),s(!0===(n=n===Yt?t.isExpected():n)||!1===n,"showUser must be a boolean"),s(!0===(o=o===Yt?t.isUnexpected():o)||!1===o,"logIt must be a boolean"),S(s,c,arguments)}catch(u){return console.log("YIKES ... visualize-it's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',u)}if(n&&(t.isUnexpected()?Q.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){ee.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):Q.warn({msg:t.formatUserMsg()})),o){var l=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(l+t),t.isUnexpected()&&(console.log("Stack Trace ..."),console.log(t))}}var $t=a(433),Qt=a(94);function Zt(){var e=Object(D.useState)(null),t=Object(f.a)(e,2),a=t[0],n=t[1],r=Object(D.useMemo)((function(){return Boolean(a)}),[a]),i=Object(D.useCallback)((function(e){return n(e.currentTarget)}),[]);ta=Object(D.useCallback)((function(){return n(null)}),[]);var o=Object(fe.useFassets)(),c=Object(Ot.useSelector)((function(e){return o.sel.getActiveTabId(e)}),[o]),s=!!c;return L.a.createElement("div",null,L.a.createElement(J.a,{color:"inherit",onClick:i},L.a.createElement(Qt.a,{variant:"button",color:"inherit",noWrap:!0},"File")),L.a.createElement(Vt.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:ea},L.a.createElement($t.a,{onClick:aa},"Open ..."),L.a.createElement($t.a,{onClick:function(){return ra(c)},disabled:!s},"Save"),L.a.createElement($t.a,{onClick:function(){return ra(c,!0)},disabled:!s},"Save As ...")))}function ea(){ta&&ta()}var ta=null;function aa(){return na.apply(this,arguments)}function na(){return(na=Object(Je.a)(qe.a.mark((function e(){var t;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ea(),e.prev=1,e.next=4,Gt();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:Pt.addLeftNav(t),Q({msg:'"'.concat(t.getPkgName(),'" has been loaded in the Left Nav Menu')}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),Xt({err:e.t0,logIt:!0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function ra(e){return ia.apply(this,arguments)}function ia(){return(ia=Object(Je.a)(qe.a.mark((function e(t){var a,n,r=arguments;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]&&r[1],ea(),e.prev=2,(n=oa(t)).canPersist()){e.next=7;break}return Q.warn({msg:'The "'.concat(n.getPkgName(),'" package cannot be saved ... it contains code, which cannot be persisted!')}),e.abrupt("return");case 7:return e.next=9,Ht(n,a);case 9:e.sent||Q({msg:'The "'.concat(n.getPkgName(),'" package has been saved!')}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),Xt({err:e.t0,logIt:!0});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function oa(e){var t=kn.getTabController(e).getTarget(),a=t.getPackage();if(!a&&t instanceof ve){var n=t.getClassRef().getClassPkgId();a=N.getPackage(n)}return g(a,'***ERROR*** <FileMenu> "save/saveAs" operation ... could not locate the SmartPkg for the \''.concat(e,"' active tab :-(")),a}var ca=a(435),sa=a(230),la=a.n(sa),ua=Xe.generateActions.root(Object(m.a)({},"toolBar",{dispModeChanged:{actionMeta:{traits:["dispMode"]}}})),da=Object(et.slicedReducer)("toolBar",Object(fe.expandWithFassets)((function(e){var t;return Object(Qe.combineReducers)({dispMode:Object(Ze.reducerHash)((t={},Object(m.a)(t,e.actions.activateTab,(function(e,t){return kn.getTabController(t.tabId).getTarget().getDispMode().enumKey})),Object(m.a)(t,ua.dispModeChanged,(function(e,t){return t.dispMode.enumKey})),t),P.view.enumKey)})}))),ma=da,fa=function(e){return da.getSlicedState(e)},ga=function(e){return P.enumValueOf(fa(e).dispMode)},pa=a(229),ha=a.n(pa),ba=a(434),va=a(451),Oa=a(449),ya=ie("***DIAG*** <VitToolBar> ... ").disable();var ka=Object(q.a)((function(e){return{title:{flexGrow:1}}}));function Ea(e){var t=e.children,a=Object(fe.useFassets)(),n=Object(Ot.useSelector)((function(e){return a.sel.curView(e)}),[a]),r=ja(),i=a.get("AppMotif.auxViewContent.*@withKeys"),o=Object(D.useMemo)((function(){return function(e,t){var a="AppMotif.auxViewContent.".concat(e),n=t.find((function(e){return Object(f.a)(e,1)[0]===a}))||wa;return Object(f.a)(n,2)[1]}(n,i)}),[n,i]),c=o.TitleComp,s=o.FooterComp;return L.a.createElement("div",{className:r.app},L.a.createElement(ca.a,{className:r.appBar,position:"fixed"}," ",L.a.createElement(zt.a,{className:r.toolbar,variant:"dense",disableGutters:!1}," ",L.a.createElement(Lt.a,{className:r.menuButton,color:"inherit",onClick:function(){Q.warn({msg:"Collapsable Left Nav (coming soon)!"})}},L.a.createElement(la.a,null)),L.a.createElement(Zt,null),L.a.createElement("div",{className:r.title},L.a.createElement(c,null)),L.a.createElement(Ft,null))),L.a.createElement(Ut,null),L.a.createElement("main",{className:r.content},L.a.createElement(zt.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our main content isn't covered up by the AppBar"}),t),s&&L.a.createElement(ca.a,{className:r.bottomBar,position:"absolute"},L.a.createElement(zt.a,{className:r.toolbar,variant:"dense",disableGutters:!1},L.a.createElement(s,null))))}var ja=Object(q.a)((function(e){return{app:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto"}}}));var wa=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){var e=ka(),t=Object(fe.useFassets)(),a=Object(Ot.useSelector)((function(e){return ga(e)}),[]),n=Object(Ot.useSelector)((function(e){return t.sel.getActiveTabId(e)}),[t]),r=Object(Ot.useDispatch)(),i=Object(D.useCallback)((function(e){var t=P.enumValueOf(e.target.value);ya("dispMode changed to: ".concat(t)),r(ua.dispModeChanged(t))}),[r]);if(!n)return L.a.createElement(Qt.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Visualize It");var o=kn.getTabController(n).getTarget();return L.a.createElement(zt.a,{variant:"dense"},L.a.createElement(Qt.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},o.getPackage().getPkgName()),L.a.createElement(Lt.a,null,L.a.createElement(ha.a,null)),L.a.createElement(ba.a,null,L.a.createElement(va.a,{id:"dispModeLabel"},"DispMode"),L.a.createElement(Oa.a,{id:"dispMode",labelId:"dispModeLabel",value:a.enumKey,onChange:i},Array.from(P).map((function(e){return L.a.createElement($t.a,{key:e.enumKey,value:e.enumKey,disabled:!o.canHandleDispMode(e)},e.enumKey)})))))}}],Sa=a(28),Ca=a(436);var Na=a(441),Ta=a(438),Pa=a(440),xa=a(439),Ia=a(239),Ra=a(177),Ma=a(437),Aa=(L.a.forwardRef((function(e,t){return L.a.createElement(Ia.a,Object.assign({ref:t,timeout:"1000"},e))})),L.a.forwardRef((function(e,t){return L.a.createElement(Ra.a,Object.assign({ref:t,direction:"right",timeout:"1000"},e))})),L.a.forwardRef((function(e,t){return L.a.createElement(Ma.a,Object.assign({ref:t,timeout:"1000"},e))})));function za(e){var t=e.msg,a=e.err,n=function(){var e=Object(Sa.a)();return Object(Ca.a)(e.breakpoints.down("xs"))}(),r=Ua();return t?L.a.createElement(Ja,{msg:t,err:a,open:!0,fullScreen:n,classes:r}):L.a.createElement(Da,{fullScreen:n,classes:r})}za.defaultProps={msg:"",err:null};var Ua=Object(q.a)((function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},progress:{margin:e.spacing(4)}}}));function Da(e){var t=e.fullScreen,a=e.classes,n=Object(D.useState)({msg:"",err:null}),r=Object(f.a)(n,2),i=r[0],o=r[1];if(Va&&Va!==o)throw new Error("***ERROR*** <SplashScreen/> (supporting the programmatic `splash(msg, [err])` API) should only be instantiated ONE TIME (in the app root DOM)");return Va=o,L.a.createElement(Ja,{msg:i.msg,err:i.err,open:!!i.msg,fullScreen:t,classes:a})}function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Va)throw new Error("***ERROR*** the programmatic `splash(msg, [err])` API requires <SplashScreen/> be instantiated in the app root DOM");Va({msg:e,err:t})}var Va=null,qa=null;function Ja(e){var t=e.msg,a=e.err,n=e.open,r=e.fullScreen,i=e.classes,o=a?L.a.createElement(L.a.Fragment,null,L.a.createElement("br",null),L.a.createElement(Qt.a,{variant:"subtitle2",color:"secondary"},"Encountered ERROR: ",a.formatUserMsg()),L.a.createElement(J.a,{variant:"contained",color:"secondary",onClick:function(){ee.error({msg:"An unexpected error occurred:\n\n".concat(a,"\n\nIf this problem persists, please contact your tech support.")})}},L.a.createElement(Qt.a,{variant:"subtitle2"},"Show Detail"))):null;if(a&&a!==qa){qa=a;var c=a.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(c+a),a.isUnexpected()&&(console.log("Stack Trace ..."),console.log(a))}return L.a.createElement(Ta.a,{open:n,fullScreen:r,TransitionComponent:Aa},L.a.createElement(xa.a,{className:i.title},L.a.createElement("center",{className:i.title},"Visualize It")),L.a.createElement(Pa.a,null,L.a.createElement("center",null,L.a.createElement("br",null),L.a.createElement("img",{width:"120px",src:"visualize-it-logo.png",alt:"visualize-it"}),L.a.createElement("br",null),L.a.createElement(Na.a,{className:i.progress,color:"secondary"}),L.a.createElement(Qt.a,{variant:"body2"},t),o,L.a.createElement("br",null))))}function Fa(e){var t=e.children,a=Object(Ot.useSelector)((function(e){return gt(e)}),[]),n=Object(D.useMemo)((function(){return"dark"===a?Ka:Ba}),[a]),r=Ga();return L.a.createElement(xt.a,{theme:n},L.a.createElement(Rt.a,null),L.a.createElement(F,null),L.a.createElement(za,null),L.a.createElement("main",{className:r.main},L.a.createElement(Ea,null,t)))}var Ba=Object(It.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"light",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),Ka=Object(It.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"dark",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),Ga=Object(q.a)((function(e){return{main:{width:"auto",display:"block"}}})),_a=a(452),Ha=a(443),Wa=a(231),Ya=a.n(Wa),Xa=a(232),$a=a.n(Xa);function Qa(e){return L.a.createElement($t.a,Object.assign({},e,{onClick:function(){Bt(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}var Za=L.a.forwardRef((function(e,t){var a=Object(Ot.useSelector)((function(e){return gt(e)}),[]),n=Object(D.useMemo)((function(){return"light"===a?Ya.a:$a.a}),[a]),r=Object(D.useMemo)((function(){return"light"===a?"to dark":"to light"}),[a]),i=Object(Ot.useDispatch)(),o=Object(D.useCallback)((function(){return i($e.toggleUITheme())}),[i]);return L.a.createElement("span",Object.assign({},e,{ref:t}),L.a.createElement(Qa,{onClick:o},L.a.createElement(_a.a,{label:r,icon:L.a.createElement(n,null)})),L.a.createElement(Ha.a,null))})),en=a(233),tn=a.n(en),an=L.a.forwardRef((function(e,t){var a=Object(Ot.useSelector)((function(e){return pt(e)}),[]),r=Object(D.useMemo)((function(){return"off"===a?function(){return null}:tn.a}),[a]),i=Object(Ot.useDispatch)(),o=Object(D.useCallback)((function(){ae.success({msg:'This app is designed with mobile devices in mind (i.e. cell phones).\n\nWhen the "responsive" mode is enabled, selected screens will dynamically adjust to take advantage of the additional screen real estate.  As an example, a simple list can morph into a detailed table.\n\nYou can define the "responsive" boundary where additional content is manifest (based on the screen width), or disable it altogether.\n\nSet the "responsive" boundary to:\n(** is current)',actions:[].concat(Object(n.a)(rn(a,i)),[{txt:"Close"}])})}),[i,a]);return L.a.createElement("span",Object.assign({},e,{ref:t}),L.a.createElement(Qa,{onClick:o},L.a.createElement(_a.a,{label:"responsive",icon:L.a.createElement(r,null)})),L.a.createElement(Ha.a,null))})),nn=[{name:"Tablet",value:"sm"},{name:"Desktop",value:"md"},{name:"Landscape",value:"lg"},{name:"Disable",value:"off"}],rn=function(e,t){return nn.map((function(a){return{txt:"".concat(e===a.value?"**":"").concat(a.name),action:function(){return t($e.setResponsiveMode(a.value))}}}))},on=L.a.forwardRef((function(e,t){return L.a.createElement("span",Object.assign({},e,{ref:t}),L.a.createElement(Ha.a,null),L.a.createElement(Qa,{onClick:cn},"About ..."))}));function cn(){var e="".concat("visualize-it","\n\n").concat("Your View into External Systems","\n\nversion: ").concat("0.1.0"),t=[];t.push({txt:"Close"}),ee.success({msg:e,actions:t})}var sn,ln,un,dn=Object(fe.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":$e.changeView,"sel.curView":function(e){return ft(e).curView},"actions.addLeftNavItem":$e.addLeftNavItem,"actions.removeLeftNavItem":$e.removeLeftNavItem},defineUse:{"AppMotif.UserMenuItem.aa1_UIThemeToggle":Za,"AppMotif.UserMenuItem.aa2_MaintainResponsiveMode":an,"AppMotif.UserMenuItem.zz8_About":on},use:[["AppMotif.UserMenuItem.*",{required:!0,type:fe.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:fe.fassetValidations.any}]]},reducer:mt,logic:vt,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return L.a.createElement(Fa,null,t)},appInit:function(e){e.showStatus;var t=e.fassets,a=(e.getState,e.dispatch);Pt.injectDependency(t,a)}}),mn=Xe.generateActions.root(Object(m.a)({},"tabManager",{activateTab:{actionMeta:{traits:["tabId","preview"],ratify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[e,t]}}},closeTab:{actionMeta:{traits:["tabId"]}}})),fn=Object(et.slicedReducer)("tabManager",Object(Qe.combineReducers)({activeTabId:Object(Ze.reducerHash)((sn={},Object(m.a)(sn,mn.activateTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),Object(m.a)(sn,mn.closeTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),sn),null),previewTabId:Object(Ze.reducerHash)((ln={},Object(m.a)(ln,mn.activateTab,(function(e,t){return t.pgmDirectives.next_previewTabId})),Object(m.a)(ln,mn.closeTab,(function(e,t){return e===t.tabId?null:e})),ln),null),tabs:Object(Ze.reducerHash)((un={},Object(m.a)(un,mn.activateTab,(function(e,t){var a=e,r=t.tabId,i=t.tabName,o=t.pgmDirectives,c=o.removeTabId,s=o.addNewTab;return c&&(a=a.filter((function(e){return e.tabId!==c}))),s&&(a=[].concat(Object(n.a)(a),[{tabId:r,tabName:i}])),a})),Object(m.a)(un,mn.closeTab,(function(e,t){return e.filter((function(e){return e.tabId!==t.tabId}))})),un),[])})),gn=fn,pn=function(e){return fn.getSlicedState(e)},hn=function(e){return pn(e).activeTabId},bn=function(e){return pn(e).previewTabId},vn=function(e){return pn(e).tabs},On=function(e){return pn(e).tabs.length},yn=function(){function e(t,a){Object(i.a)(this,e);var n=g.prefix("".concat(this.diagClassName(),"() constructor parameter violation: "));n(t,"tabId is required"),n(E()(t),"tabId must be a string"),n(a,"tabName is required"),n(E()(a),"tabName must be a string"),this.tabId=t,this.tabName=a}return Object(o.a)(e,[{key:"getTabId",value:function(){return this.tabId}},{key:"getTabName",value:function(){return this.tabName}},{key:"getTarget",value:function(){throw new Error("***ERROR*** TabController.getTarget() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"getTabPanelComp",value:function(){return this.TabPanelComp||(this.TabPanelComp=this.createTabPanelComp()),this.TabPanelComp}},{key:"createTabPanelComp",value:function(){throw new Error("***ERROR*** TabController.createTabPanelComp() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}}]),e}();yn.unmangledName="TabController";var kn=new(function(){function e(){Object(i.a)(this,e),this.tabRegistry={}}return Object(o.a)(e,[{key:"registerTab",value:function(e){var t=g.prefix("TabRegistry.registerTab() parameter violation: ");t(e,"tabController is required"),t(e instanceof yn,"tabController must be a TabController instance");var a=e.getTabId();this.tabRegistry[a]||(this.tabRegistry[a]=e)}},{key:"getTabController",value:function(e){var t=g.prefix("TabRegistry.getTabController() parameter violation: ");return t(e,"tabId is required"),t(E()(e),"tabId must be a string"),this.tabRegistry[e]}}]),e}()),En=[Object(bt.b)({name:"".concat("tabManager",".supplementActivateTab"),type:String(mn.activateTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=r.tabId,c=r.preview,s=bn(i),l=vn(i).find((function(e){return o===e.tabId})),u=o,d=!!!l,m=s,f=null;d?c&&(m=o,f=s):c||o!==s||(m=null),r.tabName=kn.getTabController(o).getTabName(),r.pgmDirectives={next_activeTabId:u,next_previewTabId:m,removeTabId:f,addNewTab:d},t(r)}}),Object(bt.b)({name:"".concat("tabManager",".supplementCloseTab"),type:String(mn.closeTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=vn(i),c=o.findIndex((function(e){return r.tabId===e.tabId})),s=c===o.length-1?c-1:c+1,l=s<0?null:o[s].tabId;r.pgmDirectives={next_activeTabId:l},t(r)}}),Object(bt.b)({name:"".concat("tabManager",".syncTargetDispMode"),type:String(mn.activateTab),process:function(e,t,a){e.getState;var n=e.action;e.fassets;if(n.pgmDirectives.addNewTab){var r=kn.getTabController(n.tabId).getTarget();r.setDispMode(r.getDispMode())}a()}})],jn=a(144),wn=a(448),Sn=a(234),Cn=a.n(Sn),Nn=a(445),Tn=a(155),Pn=a(444),xn=a(450),In=ie("***DIAG*** <TabManager> ... ").disable();function Rn(){var e=Mn(),t=Object(Ot.useSelector)((function(e){return hn(e)}),[]),a=Object(Ot.useSelector)((function(e){return bn(e)}),[]),n=Object(Ot.useSelector)((function(e){return vn(e)}),[]),r=Object(Ot.useDispatch)(),i=Object(D.useCallback)((function(e,t){In("handleTabChanged('".concat(t,"')")),r(mn.activateTab(t))}),[r]);return In("rendering"),L.a.createElement(L.a.Fragment,null,L.a.createElement(ca.a,{position:"static",color:"default"},L.a.createElement(xn.a,{value:t,onChange:i,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},n.map((function(t){return L.a.createElement(Pn.a,{className:t.tabId===a?e.tabPreview:e.tabPermanent,key:t.tabId,value:t.tabId,label:L.a.createElement(Nn.a,{container:!0,justify:"space-between"},L.a.createElement(Nn.a,{item:!0},L.a.createElement(Qt.a,{variant:"subtitle2",color:"inherit"},t.tabName)),L.a.createElement(Nn.a,{item:!0},L.a.createElement(Cn.a,{onClick:function(e){return a=e,n=t.tabId,In("in handleCloseTab: ",n),a.stopPropagation(),void r(mn.closeTab(n));var a,n}})))})})))),n.map((function(e){var a=kn.getTabController(e.tabId).getTabPanelComp();return L.a.createElement(An,{key:e.tabId,tabId:e.tabId,activeTabId:t},L.a.createElement(a,null))})))}var Mn=Object(q.a)((function(e){return{tabPreview:{fontStyle:"italic"},tabPermanent:{}}})),An=function(e){var t=e.tabId,a=e.activeTabId,n=e.children;return L.a.createElement(Tn.a,{hidden:t!==a,style:{height:"calc(100% - 97px)"}},L.a.createElement(wn.a,{padding:1},n))};function zn(e){var t=e.children;return L.a.createElement(Nn.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}function Un(){var e=Dn();return L.a.createElement(Tn.a,{className:e.root,style:{height:"calc(100% - 48px)"}},L.a.createElement(zn,null,L.a.createElement("img",{src:"visualize-it-logo.png",width:"300",alt:"Logo",className:e.entry})),L.a.createElement(zn,null,L.a.createElement(Qt.a,{variant:"h4",color:"inherit",noWrap:!0,className:e.entry},"Your View into External Systems!")),L.a.createElement(zn,null,L.a.createElement("img",{src:"visualize-it-logo-eyes.jpg",alt:"Logo Eyes",className:e.entry})))}var Dn=Object(q.a)((function(e){return{root:{padding:e.spacing(3,2,15)},entry:{marginTop:e.spacing(2)}}})),Ln=[Object(jn.featureRoute)({content:function(e){e.fassets;var t=e.appState;return 0===On(t)?L.a.createElement(Un,null):L.a.createElement(Rn,null)}})],Vn=Object(fe.createFeature)({name:"tabManager",fassets:{define:{"actions.activateTab":mn.activateTab,"actions.closeTab":mn.closeTab,"sel.getTotalTabs":On,"sel.getActiveTabId":hn}},reducer:gn,logic:En,route:Ln}),qn=[Object(bt.b)({name:"".concat("toolBar",".syncDispModeChangesToObjectModel"),type:String(ua.dispModeChanged),process:function(e,t,a){var n=e.getState,r=e.action,i=e.fassets,o=n(),c=i.sel.getActiveTabId(o);kn.getTabController(c).getTarget().setDispMode(r.dispMode),a()}})],Jn=Object(fe.createFeature)({name:"toolBar",reducer:ma,logic:qn}),Fn=null,Bn=[Object(bt.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var a=e.action;"verbose"===pe&&console.group("Action: ".concat(a.type)),console.log("Dispatched Action: ",a),t(a)},process:function(e,t,a){var n=e.getState;e.action,e.fassets;if("verbose"===pe){var r=n();r===Fn?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),Fn=r,console.groupEnd()}a()}})],Kn=Object(fe.createFeature)({name:"logActions",enabled:!!pe,logic:Bn});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gn=Object(fe.createFeature)({name:"pwa",appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}),_n=a(178),Hn=a(378),Wn=a(446),Yn=a(447),Xn=a(235),$n=a.n(Xn);function Qn(e){var t=e.name,a=e.PaletteIcon,n=void 0===a?$n.a:a,r=e.children,i=Zn(),o=Object(D.useState)(!1),c=Object(f.a)(o,2),s=c[0],l=c[1],u=Object(D.useCallback)((function(){l(!s)}),[s]);return L.a.createElement(L.a.Fragment,null,L.a.createElement(Hn.a,{button:!0,onClick:u},L.a.createElement(Wn.a,null,L.a.createElement(n,null)),L.a.createElement(Yn.a,{primary:t}),s?L.a.createElement(kt.a,null):L.a.createElement(jt.a,null)),L.a.createElement(_n.a,{in:s,timeout:"auto"},L.a.createElement(Tn.a,{className:i.pallet},r)))}var Zn=Object(q.a)((function(e){return{pallet:{margin:e.spacing(0,2,2,2),padding:e.spacing(1)}}})),er=ie("***DIAG*** <ReactSmartView> ... ").enable();var tr=L.a.memo((function(e){var t=e.view,a=Object(r.a)(e,["view"]),n=Object(D.useRef)(null);Object(D.useEffect)((function(){t.mount(n.current)}),[t]),er("here is my view: ",t);var i=t.getSize(),o=i.width,c=i.height;return L.a.createElement("div",Object.assign({ref:n},a,{style:{backgroundColor:"gray",width:o,height:c,border:"1px solid black"}}))})),ar=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(l.a)(t).call(this,e,a));var o=g.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"scene is required"),o(n instanceof ne,"scene must be a Scene object"),r.scene=n,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.scene}},{key:"createTabPanelComp",value:function(){var e=new ue({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),pallet:this.scene});return function(){return L.a.createElement(tr,{view:e})}}}]),t}(yn),nr=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(l.a)(t).call(this,e,a));var o=g.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"collage is required"),o(n instanceof re,"collage must be a Collage object"),r.collage=n,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.collage}},{key:"createTabPanelComp",value:function(){var e=new ue({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),pallet:this.collage});return function(){return L.a.createElement(tr,{view:e})}}}]),t}(yn),rr=function(e){function t(e,a,n,r){var o;Object(i.a)(this,t),o=Object(c.a)(this,Object(l.a)(t).call(this,e,a));var s=g.prefix("".concat(o.diagClassName(),"() constructor parameter violation: "));return s(n,"clazz is required"),s(j(n),"clazz must be a class type"),o.clazz=n,o.compName=T.getClassName(n),o.comp=new n({id:"comp-".concat(o.compName),x:U,y:U}),o.scene=new ne({id:"view-".concat(o.compName),comps:[o.comp]}),o.scene.setParent(r),o}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.comp}},{key:"createTabPanelComp",value:function(){var e=new ue({id:"view-".concat(this.compName),pallet:this.scene});return function(){return L.a.createElement(tr,{view:e})}}}]),t}(yn),ir=[Le,dn,Vn,Jn,Ye,Gn,Kn],or=a(236),cr=[Object(et.createReducerAspect)(),Object(or.createLogicAspect)(),Object(jn.createRouteAspect)({fallbackElm:L.a.createElement(za,{msg:"I'm trying to think but it hurts!"})})],sr=Object(fe.launchApp)({features:ir,aspects:cr,registerRootAppElm:function(e){me.a.render(e,document.getElementById("root"))},showStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;La(e,t)}});a.d(t,"default",(function(){return sr}))}},[[256,1,2]]]);
//# sourceMappingURL=main.d8a87fa1.chunk.js.map