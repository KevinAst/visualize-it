(this["webpackJsonpvisualize-it"]=this["webpackJsonpvisualize-it"]||[]).push([[0],{258:function(e,t,a){e.exports=a(379)},259:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var a=Error.prototype.toString;Error.prototype.toString=function(){return a.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},379:function(e,t,a){"use strict";a.r(t);a(259);var n=a(22),r=a(2),i=a(10),o=a(9),c=a(27),s=a(33),u=a(14),l=a(38),d=a(28),m=a(5),g=a(18);function f(e,t){if(!e)throw new Error(t)}f.prefix=function(e){return function(t,a){return f(t,e+a)}};var p=a(189),h=a.n(p),v=a(36),b=a.n(v),y=a(190),O=a.n(y),k=a(57),E=a.n(k),j=a(50),C=a.n(j),w=(a(85),b.a);function S(e){return"number"===typeof e}function N(e,t,a){var n=Object.keys(t);e(0===n.length,"unrecognized named parameter(s): ".concat(n)),e(a.length<=1,"unrecognized positional parameters (only named parameters can be specified) ... ".concat(a.length," arguments were supplied"))}var P=function(){function e(){Object(i.a)(this,e),this.pkgCatalog={}}return Object(o.a)(e,[{key:"registerPkg",value:function(e){var t=f.prefix("".concat(this.constructor.unmangledName,".registerPkg() parameter violation: "));t(e,"smartPkg is required"),t(e.isPkg(),"smartPkg must be a SmartPkg instance");var a=e.getPkgId();if(this.pkgCatalog[a])throw new Error("***ERROR*** ".concat(this.constructor.unmangledName,".registerPkg() pkgId: ").concat(a," is already registered :-(")).defineUserMsg("The visualize-it '".concat(a,"' package is already loaded"));this.pkgCatalog[a]=e}},{key:"getPkg",value:function(e){var t=f.prefix("PkgManager.getPkg() parameter violation: ");return t(e,"pkgId is required"),t(C()(e),"pkgId must be a string"),this.pkgCatalog[e]}},{key:"getClassRef",value:function(e,t){var a=f.prefix("PkgManager.getClassRef() parameter violation: ");a(e,"pkgId is required"),a(C()(e),"pkgId must be a string"),a(t,"className is required"),a(C()(t),"className must be a string");var n=this.pkgCatalog[e];if(!n)throw new Error("***ERROR*** PkgManager.getClassRef(pkgId:".concat(e,", className:").concat(t,") package is NOT cataloged ... did you forget to load a dependent package?")).defineUserMsg("The '".concat(e,"/").concat(t,"' class has been referenced, but the '").concat(e,"' package has NOT been loaded ... did you forget to load this dependent package?"));var r=n.getClassRef(t);if(!r)throw new Error("***ERROR*** PkgManager.getClassRef(pkgId:".concat(e,", className:").concat(t,") class NOT in package :-("));return r}},{key:"getPkgEntry",value:function(e,t){var a=f.prefix("PkgManager.getPkgEntry() parameter violation: ");a(e,"pkgId is required"),a(C()(e),"pkgId must be a string"),a(t,"entryId is required"),a(C()(t),"entryId must be a string");var n=this.pkgCatalog[e];if(n)return n.getPkgEntry(t)}}]),e}();P.unmangledName="PkgManager";var T=new P,R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=void 0===a?"TYPE":a,o=t.name,c=void 0===o?"the MASTER pseudoClass definition of type: ... see container.id":o,s=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var u=f.prefix("PseudoClass() constructor parameter violation: ");u(n,"id is required"),u(C()(n),"id must be a string"),u(c,"name is required"),u(C()(c),"name must be a string"),N(u,s,arguments),this.id=n,this.name=c||n}return Object(o.a)(e,[{key:"isType",value:function(){return"TYPE"===this.id}},{key:"isInstance",value:function(){return!this.isType()}}],[{key:"isPseudoClassMaster",value:function(e){return e.pseudoClass&&e.pseudoClass.isType()}},{key:"getClassName",value:function(e){var t=f.prefix("PseudoClass.getClassName() parameter violation: ");return t(e,"clazz is required"),this.isPseudoClassMaster(e)?e.id:w(e)?e.unmangledName||e.name:void t(!1,"clazz must be a real class or a pseudoClass MASTER")}}]),e}();R.unmangledName="PseudoClass";var I=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),t}(a(222).Enumify);I.view=new I,I.edit=new I,I.animate=new I,I._=I.closeEnum();var x=a(238);function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=""+e;return x.a.crc32(a,t)}var A=a(0),U=a.n(A),z=a(176),D=a(128),L=a(429);function F(e){var t=V();return U.a.createElement(z.SnackbarProvider,{maxSnack:3,dense:!0,className:t.variantSuccess},U.a.createElement(H,null,e.children))}var V=Object(D.a)((function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}})),q=null,J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))),f(!q,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),q=Object(s.a)(a),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.msg,n=t.duration,i=void 0===n?5:n,o=t.level,c=void 0===o?"success":o,s=t.position,u=void 0===s?"bottom-left":s,l=t.modal,d=void 0!==l&&l,m=t.actions,g=void 0===m?[]:m,p=Object(r.a)(t,["msg","duration","level","position","modal","actions"]),h=f.prefix("notify() parameter violation: ");h(a,"directive.msg is required"),h(C()(a),"msg must be a string"),null!==i&&h(i>=1&&i<=20,"supplied duration (".concat(i,") must be a number between 1 and 20 (inclusive).")),h(B[c],"invalid level: '".concat(c,"', expecting one of ").concat(Object.keys(B),".")),h(_[u],"invalid position: '".concat(u,"', expecting one of ").concat(Object.keys(_),".")),h(!0===d||!1===d,"supplied modal (".concat(d,") must be a boolean true/false.")),h(g,"actions must be an Action[] array"),h(Array.isArray(g),"actions must be an Action[] array"),g.forEach((function(e,t){h(e.txt,"action[".concat(t,"].txt is required")),h(C()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&h(b()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))})),N(h,p,arguments);var v=i?1e3*i:null;i||0!==g.length||(g=[{txt:"OK"}]);var y=g.reduce((function(e,t){return e[t.txt]=t.action||K,e}),{}),O=g.map((function(e,t){return U.a.createElement(L.a,{key:t,color:"default",size:"small"},e.txt)})),k=this.props.enqueueSnackbar(a,{variant:B[c],autoHideDuration:v,anchorOrigin:_[u],action:O,onClick:function(t){e.props.closeSnackbar(k);var a=y[t.target.textContent];setTimeout((function(){return a()}),400)}})}},{key:"render",value:function(){return U.a.createElement(U.a.Fragment,null,this.props.children)}}]),t}(U.a.Component),B={success:"success",info:"info",warn:"warning",error:"error"},_={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},K=function(e){return e},H=Object(z.withSnackbar)(J);function G(e){f(q,"notify(): NO <Notify> instance has been established in the app root."),q.display(e)}function Y(e,t){var a=e.msg,n=e.duration,i=void 0===n?5:n,o=e.actions,c=Object(r.a)(e,["msg","duration","actions"]),s=t?".".concat(t):"",u=f.prefix("toast".concat(s,"() parameter violation: "));u(a,"msg named parameter is required");var l=Object.keys(c);u(0===l.length,"unrecognized named parameter(s): ".concat(l)),G({msg:a,duration:i,level:t,position:"bottom-left",modal:!1,actions:o})}function W(e){Y(e)}function X(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=f.prefix("alert".concat(o,"() parameter violation: "));c(a,"msg named parameter is required");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),G({msg:a,duration:null,level:t,position:"top-center",modal:!0,actions:n})}function $(e){X(e)}function Q(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=f.prefix("confirm".concat(o,"() parameter violation: "));c(a,"msg named parameter is required"),c(n&&n.length>0,"client-specific actions are required.");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),G({msg:a,duration:null,level:t,position:"top-right",modal:!0,actions:n})}function Z(e){Q(e)}H.displayName="NotifyAPI_withSnackBar",W.success=function(e){Y(e,"success")},W.info=function(e){Y(e,"info")},W.warn=function(e){Y(e,"warn")},W.error=function(e){Y(e,"error")},$.success=function(e){X(e,"success")},$.info=function(e){X(e,"info")},$.warn=function(e){X(e,"warn")},$.error=function(e){X(e,"error")},Z.success=function(e){Q(e,"success")},Z.info=function(e){Q(e,"info")},Z.warn=function(e){Q(e,"warn")},Z.error=function(e){Q(e,"error")};var ee=a(73),te=ee.generateActions.root(Object(m.a)({},"changeManager",{registerEPkg:{actionMeta:{traits:["ePkgId","crc","baseCrc"]}},ePkgChanged:{actionMeta:{traits:["ePkgId","crc","baseCrc"]}},undoRedoChanged:{actionMeta:{traits:["pkgEntryId","undoAvail","redoAvail"]}}})),ae=new(function(){function e(){Object(i.a)(this,e),this.dispatch=null,this.requestCache=[],this.undoRedoHash={}}return Object(o.a)(e,[{key:"injectDependency",value:function(e){var t=this;this.dispatch=e,this.requestCache.forEach((function(e){return t.dispatchAction(e)})),this.requestCache=[]}},{key:"dispatchAction",value:function(e){this.dispatch?this.dispatch(e):this.requestCache.push(e)}},{key:"registerEPkg",value:function(e){var t=f.prefix("changeManager.registerEPkg() parameter violation: ");t(e,"ePkg is required"),t(e.isEPkg,"ePkg must be a SmartPkg instance"),t(e.isEPkg(),"ePkg must be an EPkg instance"),this.dispatchAction(te.registerEPkg(e.getEPkgId(),e.getCrc(),e.getBaseCrc()))}},{key:"ePkgChanged",value:function(e){var t=f.prefix("changeManager.ePkgChanged() parameter violation: ");t(e,"ePkg is required"),t(e.isEPkg,"ePkg must be a SmartPkg instance"),t(e.isEPkg(),"ePkg must be an EPkg instance"),this.dispatchAction(te.ePkgChanged(e.getEPkgId(),e.getCrc(),e.getBaseCrc()))}},{key:"applyChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.changeFn,a=e.undoFn,n=Object(r.a)(e,["changeFn","undoFn"]),i=f.prefix("changeManager.applyChange() parameter violation: ");i(t,"changeFn is required"),i(b()(t),"changeFn must be a function"),i(a,"undoFn is required"),i(b()(a),"undoFn must be a function"),N(i,n,arguments);var o=t(!1);i(o,"changeFn() execution must return a targetObj"),i(o.toSmartJSON,"changeFn() execution must return a targetObj that is a SmartObject (type: SmartModel)"),o.trickleUpChange();var c=o.getPkgEntry().getEPkgId();this.registerUndoRedoOp(c,a,t)}},{key:"registerUndoRedoOp",value:function(e,t,a){var n=this.undoRedoHash[e];n||(n=this.undoRedoHash[e]=new ne(e));var r={undoAvail:n.isUndoAvail(),redoAvail:n.isRedoAvail()};n.registerOp(t,a);var i={undoAvail:n.isUndoAvail(),redoAvail:n.isRedoAvail()};h()(r,i)||this.dispatchAction(te.undoRedoChanged(e,i.undoAvail,i.redoAvail))}},{key:"applyUndo",value:function(e){var t=f.prefix("*** ERROR *** changeManager.applyUndo(): ");t(e,"parameter violation: pkgEntryId is required"),t(C()(e),"parameter violation: pkgEntryId must be a function");var a=this.undoRedoHash[e];t(a,"pkgEntryId: '".concat(e,'\' has NO "change management" applied to it (cannot apply an undo operation)'));var n={undoAvail:a.isUndoAvail(),redoAvail:a.isRedoAvail()};a.applyUndo(t);var r={undoAvail:a.isUndoAvail(),redoAvail:a.isRedoAvail()};h()(n,r)||this.dispatchAction(te.undoRedoChanged(e,r.undoAvail,r.redoAvail))}},{key:"applyRedo",value:function(e){var t=f.prefix("*** ERROR *** changeManager.applyRedo(): ");t(e,"parameter violation: pkgEntryId is required"),t(C()(e),"parameter violation: pkgEntryId must be a function");var a=this.undoRedoHash[e];t(a,"pkgEntryId: '".concat(e,'\' has NO "change management" applied to it (cannot apply an redo operation)'));var n={undoAvail:a.isUndoAvail(),redoAvail:a.isRedoAvail()};a.applyRedo(t);var r={undoAvail:a.isUndoAvail(),redoAvail:a.isRedoAvail()};h()(n,r)||this.dispatchAction(te.undoRedoChanged(e,r.undoAvail,r.redoAvail))}}]),e}()),ne=function(){function e(t){Object(i.a)(this,e),this.pkgEntryId=t,this.stack=[],this.cur=-1}return Object(o.a)(e,[{key:"registerOp",value:function(e,t){for(;this.isRedoAvail();)this.stack.pop();this.stack.push([e,t]),this.cur=this.stack.length-1}},{key:"isUndoAvail",value:function(){return this.cur>=0}},{key:"applyUndo",value:function(e){e(this.isUndoAvail(),"pkgEntryId: '".concat(this.pkgEntryId,'\' DOES NOT currently have an "undo" operation available'));var t=Object(g.a)(this.stack[this.cur],1)[0];this.cur--;var a=t();e(a,"undoFn() execution must return a targetObj"),e(a.toSmartJSON,"undoFn() execution must return a targetObj that is a SmartObject (type: SmartModel)"),a.trickleUpChange()}},{key:"isRedoAvail",value:function(){return this.cur<this.stack.length-1}},{key:"applyRedo",value:function(e){e(this.isRedoAvail(),"pkgEntryId: '".concat(this.pkgEntryId,'\' DOES NOT currently have a "redo" operation available')),this.cur++;var t=(0,Object(g.a)(this.stack[this.cur],2)[1])(!0);e(t,"redoFn() execution must return a targetObj"),e(t.toSmartJSON,"redoFn() execution must return a targetObj that is a SmartObject (type: SmartModel)"),t.trickleUpChange()}}]),e}();function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=t.name,o=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var c=f.prefix("".concat(this.diagClassName(),"(id:'").concat(a,"', name:'").concat(n,"') constructor parameter violation: "));c(a,"id is required"),c(C()(a),"id must be a string"),n&&c(C()(n),"name (when supplied) must be a string"),N(c,o,arguments),this.id=a,this.name=n||a,this.dispMode=I.view}return Object(o.a)(e,[{key:"getEncodingProps",value:function(e){return["id","name"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getCrc",value:function(){var t=this;if(!this._crc){var a=this.getEncodingProps(!1);this._crc=a.reduce((function(a,n){var r=Array.isArray(n)?n:[n],i=Object(g.a)(r,1)[0];return a=function t(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(a){if(Array.isArray(a))return n=a.reduce((function(e,a){return t(a,e)}),n);if(O()(a)){if(a instanceof e)return n=M(a.getCrc(),n);if(E()(a)){var r=a;return n=Object.entries(r).reduce((function(e,a){var n=Object(g.a)(a,2),r=n[0],i=n[1];return e=M(r,e),e=t(i,e)}),n)}if(w(a))return n=M(a.name,n);throw new Error("***ERROR*** SmartModel.getCrc() processing ref object of type ".concat(a.constructor.name," is NOT supported ... only SmartModel derivations are supported :-("))}return n=M(a,n)}return n=M(a,n)}(t[i],a=M(i,a))}),0)}return this._crc}},{key:"isInSync",value:function(){return this.getBaseCrc()===this.getCrc()}},{key:"getBaseCrc",value:function(){return this._baseCrc}},{key:"resetBaseCrc",value:function(){var t=this,a=this._baseCrc;this._baseCrc=this.getCrc(),this.getEncodingProps(!1).forEach((function(e){var a=Array.isArray(e)?e:[e],n=Object(g.a)(a,1)[0],i=t[n];r(i)}));var n=a!==this._baseCrc;function r(t){if(t){if(Array.isArray(t)){t.forEach((function(e){return r(e)}))}else if(O()(t)){if(t instanceof e)t.resetBaseCrc();else if(E()(t)){var a=t;Object.values(a).forEach((function(e){return r(e)}))}else if(!w(t))throw new Error("***ERROR*** SmartModel.resetBaseCrc() processing ref object of type ".concat(t.constructor.name," is NOT supported ... only SmartModel derivations are supported :-("))}}else;}this.isEPkg()&&n&&ae.ePkgChanged(this)}},{key:"isPkg",value:function(){return!!this.getPkgId}},{key:"getPkg",value:function(){if(this.isPkg())return this;var e=this.getParent();return e?e.getPkg():void 0}},{key:"isPkgEntry",value:function(){return!!this._pkgEntry}},{key:"getPkgEntry",value:function(){if(this.isPkgEntry())return this;var e=this.getParent();return e?e.getPkgEntry():void 0}},{key:"markAsPkgEntry",value:function(){this._pkgEntry=!0,ae.registerEPkg(this)}},{key:"isEPkg",value:function(){return this.isPkg()||this.isPkgEntry()}},{key:"getEPkgId",value:function(){return this.isPkg()?this.getPkgId():this.isPkgEntry()?"".concat(this.getPkg().getPkgId(),"/").concat(this.getId()):void 0}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){this.parent=e}},{key:"getView",value:function(){if("SmartView"===this.diagClassName())return this;var e=this.getParentView();return e?e.getView():void 0}},{key:"getParentView",value:function(){return this.parentView?this.parentView:this.parent}},{key:"setParentView",value:function(e){this.parentView=e}},{key:"trickleUpChange",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.getSize&&e){var t=this.sizeCache?this.sizeCache:{width:-1,height:-1};this.sizeCache=void 0;var a=this.getSize();(e=!(t.width===a.width&&t.height===a.height))&&this.bindSizeChanges(t,a)}var n=this._crc;this._crc=void 0;var r=this.getCrc(),i=n!==r;this.isEPkg()&&i&&ae.ePkgChanged(this);var o=this.parent;o&&o.trickleUpChange(e);var c=this.parentView;c&&c.trickleUpChange(e)}},{key:"getDispMode",value:function(){return this.dispMode}},{key:"setDispMode",value:function(e){var t=f.prefix("".concat(this.diagClassName(),".setDispMode() parameter violation: "));if(t(e,"dispMode is required"),t(e instanceof I,"dispMode must be a DispMode type"),t(this.canHandleDispMode(e),"does NOT support ".concat(e," :-(")),this.dispMode=e,e===I.view)this.enableViewMode();else if(e===I.edit){var a=this.getPkg();if(!a.canPersist())return void W.warn({msg:'The "'.concat(this.getName(),'" resource cannot be edited ')+'... normally it can, however it belongs to the "'.concat(a.getPkgName(),'" package which ')+"contains code (therefore you would not be able to save your changes)."});this.enableViewMode(),this.enableEditMode()}else{if(e!==I.animate)throw new Error("***ERROR*** ".concat(this.diagClassName(),".setDispMode() [id:").concat(this.id,"]: unrecognized dispMode: ").concat(e,"!"));this.enableViewMode(),this.enableAnimateMode()}}},{key:"canHandleDispMode",value:function(e){return!0}},{key:"enableViewMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableViewMode() is an abstract method that MUST BE implemented!"))}},{key:"enableEditMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableEditMode() is an abstract method that MUST BE implemented!"))}},{key:"enableAnimateMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableAnimateMode() is an abstract method that MUST BE implemented!"))}},{key:"toSmartJSON",value:function(){var t=this,a=this.getClassRef(),n={smartType:a.getClassName(),smartPkg:a.getClassPkgId()};return R.isPseudoClassMaster(this)&&(n.isPseudoClassMaster=!0),this.getEncodingProps(!1).forEach((function(a){var r=Array.isArray(a)?a:[a,"DeFaUlT NeVeR HaPpEn"],i=Object(g.a)(r,2),o=i[0],c=i[1],s=t[o];s!==c&&(n[o]=function t(a){if(a){if(Array.isArray(a))return a.map((function(e){return t(e)}));if(O()(a)){if(a instanceof e)return a.toSmartJSON();if(E()(a))return Object.entries(a).reduce((function(e,a){var n=Object(g.a)(a,2),r=n[0],i=n[1];return e[r]=t(i),e}),{});throw w(a)?new Error("***ERROR*** SmartModel.toSmartJSON() processing ref object of type ".concat(a.constructor.name," is NOT supported ... classes or functions CANNOT be persisted through the smartJSON format :-(")):new Error("***ERROR*** SmartModel.toSmartJSON() processing ref object of type ".concat(a.constructor.name," is NOT supported ... only SmartModel derivations support the smartJSON format :-("))}return a}return a}(s))})),n}},{key:"getClassRef",value:function(){var e=f.prefix("".concat(this.constructor.name,".getClassRef() id:'").concat(this.id,"', name:'").concat(this.name,"') ... "));if(this.pseudoClass&&this.pseudoClass.isInstance()){var t=this.pseudoClass.pseudoClassMaster;e(t,"this pseudoClass instance has NO pseudoClassMaster reference ... you must create it with SmartClassRef.createSmartObject()");var a=t.smartClassRef;return e(a,"this pseudoClass instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),a}var n=this.constructor.smartClassRef;return e(n,"this real class instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),n}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}},{key:"smartClone",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getEncodingProps(!0),r=n.reduce((function(e,n){var r=Array.isArray(n)?n:[n,"DeFaUlT NoT Used"],i=Object(g.a)(r,1)[0];if(!a.hasOwnProperty(i)){var o=c(t[i]);e[i]=o}return e}),{}),i=ie({},r,{},a),o=new this.constructor(i);return o;function c(t){if(t){if(Array.isArray(t))return t.map((function(e){return c(e)}));if(O()(t)){if(t instanceof e)return t.smartClone();if(E()(t))return Object.entries(t).reduce((function(e,t){var a=Object(g.a)(t,2),n=a[0],r=a[1];return e[n]=c(r),e}),{});if(w(t))return t;throw new Error("***ERROR*** SmartModel.smartClone() processing self object of type ".concat(this.diagClassName(),", ")+"whose member object of type ".concat(t.constructor.name," is NOT supported ")+"... only SmartModel derivations can be cloned :-(")}return t}return t}}}],[{key:"fromSmartJSON",value:function(t,a){if(!t)return t;if(Array.isArray(t))return t.map((function(t){return e.fromSmartJSON(t,a)}));if(E()(t)){if(t.smartType){var n={};for(var r in t){var i=t[r];"smartType"!==r&&"smartPkg"!==r&&"isPseudoClassMaster"!==r&&(n[r]=e.fromSmartJSON(i,a))}return function(e,t){var a=e.smartPkg,n=e.smartType,r=null;if(t&&(r=t(a,n)))return r;try{r=T.getClassRef(a,n)}catch(i){throw console.log("***ERROR*** SmartModel.fromSmartJSON() could not resolve pkgId: ".concat(a," / className: ").concat(n," \n... smartJSON: ").concat(JSON.stringify(e,null,2))),i.defineAttemptingToMsg("hydrate smartObj (see logs for smartJson)")}return r}(t,a).createSmartObject(n)}return Object.entries(t).reduce((function(t,n){var r=Object(g.a)(n,2),i=r[0],o=r[1];return t[i]=e.fromSmartJSON(o,a),t}),{})}return t}}]),e}();oe.unmangledName="SmartModel";var ce=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=Object(r.a)(a,["id","name"]);return Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o})),N(f.prefix("SmartPallet() constructor parameter violation: "),s,arguments),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){throw new Error("***ERROR*** SmartPallet pseudo-interface-violation: ".concat(this.diagClassName(),"(id:").concat(this.id,").mount() is an abstract method that MUST BE implemented!"))}},{key:"getSize",value:function(){throw new Error("***ERROR*** SmartPallet pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".getSize() is an abstract method that MUST BE implemented!"))}},{key:"bindSizeChanges",value:function(e,t){throw new Error("***ERROR*** SmartPallet pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".bindSizeChanges() is an abstract method that MUST BE implemented!"))}}]),t}(oe);ce.unmangledName="SmartPallet";var se=a(44),ue=a.n(se);var le=10,de=a(16),me=a(13);function ge(e){var t=f.prefix("createLogger() parameter violation: ");t(e,"prefix is required"),t(C()(e),"prefix must be a string");var a=!1,n=function e(t,n){a&&e.force(t,n)};return n.force=function(t,a){t=e+t,a?console.log(t,a):console.log(t)},n.isEnabled=function(){return a},n.enable=function(){return a=!0,n("enabling logging"),n},n.disable=function(){return n("disabling logging"),a=!1,n},n}var fe=ge("***DIAG*** SmartClassRef:").disable(),pe=function(){function e(t,a){Object(i.a)(this,e);var n=f.prefix("SmartClassRef() constructor parameter violation: ");n(t,"classRef is required"),n(a,"pkgId is required"),n(C()(a),"pkgId must be a string"),w(t)?(this.realClass=t,n(t.hasOwnProperty("unmangledName"),"real class ".concat(t.name,' MUST have an "unmangledName" property (supporting persistence in obfuscated production build)'))):t.pseudoClass&&t.pseudoClass.isType()?this.pseudoClassContainer=t:n(!1,"classRef must be a real class -or- pseudoClass"),this.pkgId=a}return Object(o.a)(e,[{key:"getClassName",value:function(){return this.pseudoClassContainer?this.pseudoClassContainer.id:this.realClass.unmangledName||this.realClass.name}},{key:"getClassPkgId",value:function(){return this.pkgId}},{key:"getFullClassName",value:function(){return"".concat(this.getClassPkgId(),"/").concat(this.getClassName())}},{key:"createSmartObject",value:function(e){var t=null,a="";if(this.realClass)a="real",t=new this.realClass(e);else{a="pseudo";var n=this.pseudoClassContainer;(t=n.smartClone(e)).pseudoClass.id=n.id,t.pseudoClass.name="a pseudoClass instance of type: '".concat(n.id,"'"),t.pseudoClass.pseudoClassMaster=n}return fe("createSmartObject() created new object from ".concat(a," class: '").concat(this.getFullClassName(),"' ... using namedParams: "),{namedParams:e,newObj:t}),t}}]),e}(),he=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.compClassRef,d=Object(r.a)(a,["id","name","compClassRef"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var m=f.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));m(l,"compClassRef is required"),m(l instanceof pe,"compClassRef must be a SmartClassRef type"),N(m,d,arguments);var g=l.getClassName(l);return e.comp=l.createSmartObject({id:"comp-".concat(g),x:le,y:le}),e.scene=new Ge({id:"view-".concat(g),comps:[e.comp]}),e.scene.setParent(Object(s.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getCompInstance",value:function(){return this.comp}},{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this,e)),["compClassRef"])}},{key:"mount",value:function(e){this.containingKonvaStage=e,this.scene.mount(e)}},{key:"getSize",value:function(){return this.sizeCache?this.sizeCache:(this.scene.sizeCache=void 0,this.sizeCache=this.scene.getSize(),this.sizeCache)}},{key:"bindSizeChanges",value:function(e,t){this.scene.bindSizeChanges(e,t)}}]),t}(ce);he.unmangledName="CompRef";var ve=a(138),be=a.n(ve),ye=a(139),Oe=a.n(ye),ke=a(431),Ee=a(430),je=ge("***DIAG*** <LeftNavMenuPallet> ... ").disable();var Ce=U.a.memo((function(e){var t=e.smartPkg,a=we(),n=Object(de.useDispatch)(),r=Object(me.useFassets)("actions.activateTab"),i=function(e,t,a){je("handleActivateTab( tabId:'".concat(e,"', tabName:'").concat(t,"', preview=").concat(a," )")),n(r(e,a))},o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n?(clearTimeout(n),n=null,t.apply(void 0,i)):n=setTimeout((function(){e.apply(void 0,i),n=null}),a)}}((function(e,t){return i(e,t,!0)}),(function(e,t){return i(e,t,!1)})),c=Object(me.useFassets)(),s=Object(de.useSelector)((function(e){return c.sel.isEPkgInSync(e,t.getEPkgId())}),de.shallowEqual),u=t.getPkgName()+(s?"":" **");return je("rendering top-level content for smartPkg.id: ".concat(t.id," ... expecting ONE TIME (for this entry)")),U.a.createElement(ze,{name:u},U.a.createElement(Ee.a,{className:a.root,defaultCollapseIcon:U.a.createElement(be.a,null),defaultExpandIcon:U.a.createElement(Oe.a,null)},function(e,t){return function a(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getPkgId();if(E()(n)){var i=[];for(var o in n){var c=n[o],s="".concat(r,"-").concat(o);je("genTreeItems(): TreeItem directory node: ".concat(o)),i.push(U.a.createElement(ke.a,{key:s,nodeId:s,label:o},a(c,s)))}return i}if(Array.isArray(n))return n.map((function(n){if(n instanceof oe){var i=n,o="".concat(r,"-").concat(i.id),c=null;if(i instanceof Ge)c=new _e(o,i.name,i);else{if(!(i instanceof Ye)){var s="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED smartObj entry (under accumulativeId: ".concat(o,")  ... must be a Scene or Collage ... see logs for entry");throw console.error(s,{smartObj:i}),new Error(s)}c=new Ke(o,i.name,i)}return Fe.registerTab(c),je("genTreeItems(): TreeItem tabManager node ... nodeId: ".concat(o)),U.a.createElement(Se,{key:o,nodeId:o,ePkg:i,onClick:function(){return t(o,i.name)}})}if(w(n)){var u=new pe(n,e.getPkgId()),l=u.getClassName(),d="".concat(r,"-").concat(l),m=new he({id:l,name:l,compClassRef:u});return m.setParent(e),Fe.registerTab(new He(d,l,m)),je("genTreeItems(): TreeItem tabManager node ... nodeId: ".concat(d)),U.a.createElement(Se,{key:d,nodeId:d,ePkg:m,onClick:function(){return t(d,l)}})}if(E()(n))return a(n,r);var g="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED array entry (under accumulativeId: ".concat(r,")  ... must be a smartObj or plain nested directory object ... see logs for entry");throw console.error(g,{arrItem:n}),new Error(g)}));var u="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED SmartPkg entry (under accumulativeId: ".concat(r,")  ... must be a plain directory object or an array of smartObjs ... see logs for entry");throw console.error(u,{entry:n}),new Error(u)}(e.entries)}(t,o)))})),we=Object(D.a)((function(e){return{root:{flexGrow:1,maxWidth:400}}}));function Se(e){var t=e.nodeId,a=e.ePkg,n=e.onClick,r=Object(me.useFassets)(),i=Object(de.useSelector)((function(e){return r.sel.isEPkgInSync(e,a.getEPkgId())}),de.shallowEqual),o=a.getName()+(i?"":" **");return U.a.createElement(ke.a,{nodeId:t,label:o,onClick:n})}var Ne=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.entries,d=void 0===l?{}:l,m=Object(r.a)(a,["id","name","entries"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var g=f.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return g(d,"entries is required"),g(E()(d),"entries must be a plain object (with depth)"),N(g,m,arguments),e.entries=d,e.initializeCatalogs(e.entries),e.adornContainedClasses(),Object.values(e._entryCatalog).forEach((function(e){e.markAsPkgEntry()})),e.resetBaseCrc(),ae.registerEPkg(Object(s.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this,e)),["entries"])}},{key:"getPkgId",value:function(){return this.id}},{key:"getPkgName",value:function(){return this.name}},{key:"getPkgResourcePath",value:function(){return this.pkgResourcePath}},{key:"canPersist",value:function(){return!this.entriesContainCode}},{key:"setPkgResourcePath",value:function(e){this.pkgResourcePath=e}},{key:"initializeCatalogs",value:function(e){var t=this;if(e===this.entries&&(this._classRefCatalog={},this._entryCatalog={},this.entriesContainCode=!1),E()(e))for(var a in e){var n=e[a];this.initializeCatalogs(n)}else{if(!Array.isArray(e)){var r="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED entry ... must be a plain directory object or an array of smartObjs ... see logs for entry";throw console.error(r,{entry:e}),new Error(r)}e.forEach((function(e){if(e instanceof oe){var a=e;if(R.isPseudoClassMaster(a)){var n=R.getClassName(a);t._classRefCatalog[n]=a}t._entryCatalog[a.id]=a,a.setParent(t)}else if(w(e)){var r=e;t.entriesContainCode=!0;var i=R.getClassName(r);t._classRefCatalog[i]=r}else{if(!E()(e)){var o="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED array entry ... must be a smartObj or class or plain nested directory object ... see logs for entry";throw console.error(o,{arrItem:e}),new Error(o)}t.initializeCatalogs(e)}}))}}},{key:"adornContainedClasses",value:function(){var e=this;Object.values(this._classRefCatalog).forEach((function(t){t.smartClassRef=new pe(t,e.getPkgId())}))}},{key:"getClassRef",value:function(e){return 0===arguments.length?Object(l.a)(Object(u.a)(t.prototype),"getClassRef",this).call(this):this._classRefCatalog[e].smartClassRef}},{key:"getPkgEntry",value:function(e){return this._entryCatalog[e]}}],[{key:"fromSmartJSON",value:function(e){var t=f.prefix("SmartPkg.fromSmartJSON(smartJSON) parameter violation: ");t(e,"smartJSON is required"),t(E()(e),"smartJSON must be a JSON object"),t("SmartPkg"===e.smartType,"smartJSON does NOT represent a SmartPkg object, rather a ".concat(e.smartType," object."));var a={},n=e.id;!function t(r){if(E()(r)){if(r.smartType){if(r.isPseudoClassMaster){var i=oe.fromSmartJSON(r);return i.smartClassRef=new pe(i,n),a[i.id]=i,i}return r}for(var o in r){var c=t(r[o]);r[o]=c}return r}if(Array.isArray(r)){for(var s=0;s<r.length;s++){var u=t(r[s]);r[s]=u}return r}return w(r)?(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (class) ... ",{jsonEntry:r,smartJSON:e}),r):(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (primitive) ... ",{jsonEntry:r,smartJSON:e}),r)}(e.entries);try{return oe.fromSmartJSON(e,(function(e,t){var r=e===n?a[t]:void 0;return r?r.smartClassRef:void 0}))}catch(r){throw r.defineAttemptingToMsg("hydrate SmartPkg '".concat(n,"'"))}}}]),t}(oe);Ne.unmangledName="SmartPkg";var Pe=new(function(){function e(){Object(i.a)(this,e),this.fassets=null,this.dispatch=null,this.leftNavCache=[]}return Object(o.a)(e,[{key:"injectDependency",value:function(e,t){var a=this;this.fassets=e,this.dispatch=t,this.leftNavCache.forEach((function(e){return a.processAddLeftNav(e)})),this.leftNavCache=[]}},{key:"processAddLeftNav",value:function(e){this.fassets?this.dispatch(this.fassets.actions.addLeftNavItem(e.getPkgName(),(function(){return U.a.createElement(Ce,{smartPkg:e})}))):this.leftNavCache.push(e)}},{key:"addLeftNav",value:function(e){var t=f.prefix("".concat(this.constructor.name,".addLeftNav() parameter violation: "));t(e,"smartPkg is required"),t(e instanceof Ne,"smartPkg must be a SmartPkg instance"),this.processAddLeftNav(e)}}]),e}()),Te=a(174),Re=a(389),Ie=a(432),xe=a(433),Me=a(224),Ae=a.n(Me),Ue=a(152);function ze(e){var t=e.name,a=e.PaletteIcon,n=void 0===a?Ae.a:a,r=e.children,i=De(),o=Object(A.useState)(!1),c=Object(g.a)(o,2),s=c[0],u=c[1],l=Object(A.useCallback)((function(){u(!s)}),[s]);return U.a.createElement(U.a.Fragment,null,U.a.createElement(Re.a,{button:!0,onClick:l},U.a.createElement(Ie.a,null,U.a.createElement(n,null)),U.a.createElement(xe.a,{primary:t}),s?U.a.createElement(be.a,null):U.a.createElement(Oe.a,null)),U.a.createElement(Te.a,{in:s,timeout:"auto"},U.a.createElement(Ue.a,{className:i.pallet},r)))}var De=Object(D.a)((function(e){return{pallet:{margin:e.spacing(0,2,2,2),padding:e.spacing(1)}}})),Le=function(){function e(t,a){Object(i.a)(this,e);var n=f.prefix("".concat(this.diagClassName(),"() constructor parameter violation: "));n(t,"tabId is required"),n(C()(t),"tabId must be a string"),n(a,"tabName is required"),n(C()(a),"tabName must be a string"),this.tabId=t,this.tabName=a}return Object(o.a)(e,[{key:"getTabId",value:function(){return this.tabId}},{key:"getTabName",value:function(){return this.tabName}},{key:"getTarget",value:function(){throw new Error("***ERROR*** TabController.getTarget() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"getTabPanelComp",value:function(){return this.TabPanelComp||(this.TabPanelComp=this.createTabPanelComp()),this.TabPanelComp}},{key:"createTabPanelComp",value:function(){throw new Error("***ERROR*** TabController.createTabPanelComp() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}}]),e}();Le.unmangledName="TabController";var Fe=new(function(){function e(){Object(i.a)(this,e),this.tabRegistry={}}return Object(o.a)(e,[{key:"registerTab",value:function(e){var t=f.prefix("TabRegistry.registerTab() parameter violation: ");t(e,"tabController is required"),t(e instanceof Le,"tabController must be a TabController instance");var a=e.getTabId();this.tabRegistry[a]||(this.tabRegistry[a]=e)}},{key:"getTabController",value:function(e){var t=f.prefix("TabRegistry.getTabController() parameter violation: ");return t(e,"tabId is required"),t(C()(e),"tabId must be a string"),this.tabRegistry[e]}}]),e}()),Ve=ge("***DIAG*** <ReactSmartView> ... ").enable();var qe=U.a.memo((function(e){var t=e.view,a=Object(r.a)(e,["view"]),n=Object(A.useRef)(null);Object(A.useEffect)((function(){t.mount(n.current)}),[t]),Ve("here is my view: ",t);var i=t.getSize(),o=i.width,c=i.height;return U.a.createElement("div",Object.assign({ref:n},a,{style:{backgroundColor:"gray",width:o,height:c,border:"1px solid black"}}))})),Je=ge("***DIAG*** <SmartView> ... ").enable(),Be=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.pallet,d=Object(r.a)(a,["id","name","pallet"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var m=f.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(l,"pallet is required"),m(l instanceof ce,"pallet must be a SmartPallet instance"),N(m,d,arguments),e.pallet=l,e.pallet.setParentView(Object(s.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this,e)),["pallet"])}},{key:"checkMounted",value:function(e){f(this.konvaStage,"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"getSize",value:function(){return this.pallet.getSize()}},{key:"bindSizeChanges",value:function(e,t){this.konvaStage.size(t),this.konvaStage.draw(),this.containingHtmlElm.style.width="".concat(t.width,"px"),this.containingHtmlElm.style.height="".concat(t.height,"px")}},{key:"mount",value:function(e){Je("mounting SmartView id: ".concat(this.id)),this.containingHtmlElm=e;var t=this.getSize(),a=t.width,n=t.height;this.konvaStage=new ue.a.Stage({container:e,x:0,y:0,width:a,height:n}),this.pallet.mount(this.konvaStage),this.pallet.trickleUpChange()}}]),t}(oe);Be.unmangledName="SmartView";var _e=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(u.a)(t).call(this,e,a));var o=f.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"scene is required"),o(n instanceof Ge,"scene must be a Scene object"),r.scene=n,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.scene}},{key:"createTabPanelComp",value:function(){var e=new Be({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),pallet:this.scene});return function(){return U.a.createElement(qe,{view:e})}}}]),t}(Le),Ke=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(u.a)(t).call(this,e,a));var o=f.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"collage is required"),o(n instanceof Ye,"collage must be a Collage object"),r.collage=n,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.collage}},{key:"createTabPanelComp",value:function(){var e=new Be({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),pallet:this.collage});return function(){return U.a.createElement(qe,{view:e})}}}]),t}(Le),He=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(u.a)(t).call(this,e,a));var o=f.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"compRef is required"),o(n instanceof he,"compRef must be a CompRef type"),r.compRef=n,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.compRef.getCompInstance()}},{key:"createTabPanelComp",value:function(){var e=new Be({id:"view-".concat(this.compRef.getId()),pallet:this.compRef});return function(){return U.a.createElement(qe,{view:e})}}}]),t}(Le),Ge=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.x,d=void 0===l?0:l,m=a.y,g=void 0===m?0:m,p=a.comps,h=Object(r.a)(a,["id","name","x","y","comps"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var v=f.prefix("".concat(e.diagClassName(),"() constructor parameter violation: "));return v(p,"comps is required"),v(Array.isArray(p),"comps must be a SmartComp[] array"),v(S(d),"x must be a number (when supplied), NOT: ".concat(d)),v(S(g),"y must be a number (when supplied), NOT: ".concat(g)),N(v,h,arguments),e.pseudoClass=new R,e.x=d,e.y=g,e.comps=p,e.comps.forEach((function(t){return t.setParent(Object(s.a)(e))})),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){var a=[["x",0],["y",0]];return(this.pseudoClass.isType()||e)&&a.push("comps"),[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this,e)),a)}},{key:"enableViewMode",value:function(){this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!1)})),this.konvaSceneLayer.off("dragend"),this.containingKonvaStage.off("click tap"),this.containingKonvaStage.find("Transformer").destroy(),this.konvaSceneLayer.getChildren().each((function(e,t){return e.off("transformend")})),this.konvaSceneLayer.draw()}},{key:"enableEditMode",value:function(){var e=this;this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!0)})),this.konvaSceneLayer.on("dragend",(function(t){var a=t.target.id(),n=e.comps.find((function(e){return e.id===a})),r={x:n.x,y:n.y},i={x:t.target.x(),y:t.target.y()},o=function(e){n.x=e.x,n.y=e.y},c=function(t){var n=e.konvaSceneLayer.findOne("#".concat(a));n.x(t.x),n.y(t.y),e.konvaSceneLayer.draw()};ae.applyChange({changeFn:function(e){return o(i),e&&c(i),n},undoFn:function(){return o(r),c(r),n}})})),this.containingKonvaStage.on("click tap",(function(t){if(t.target===e.containingKonvaStage)return e.containingKonvaStage.find("Transformer").destroy(),void e.konvaSceneLayer.draw();e.containingKonvaStage.find("Transformer").destroy();var a=function e(t){var a=t.getParent();return"Layer"===a.getClassName()?t:e(a)}(t.target),n=new ue.a.Transformer;e.konvaSceneLayer.add(n),n.attachTo(a),e.konvaSceneLayer.draw(),a.on("transformend",(function(t){var a=t.target.id(),n=e.comps.find((function(e){return e.id===a})),r={x:n.x,y:n.y,rotation:n.rotation,scaleX:n.scaleX,scaleY:n.scaleY},i={x:t.target.x(),y:t.target.y(),rotation:t.target.rotation(),scaleX:t.target.scaleX(),scaleY:t.target.scaleY()};if(!h()(r,i)){var o=function(e){n.x=e.x,n.y=e.y,n.rotation=e.rotation,n.scaleX=e.scaleX,n.scaleY=e.scaleY},c=function(t){var n=e.konvaSceneLayer.findOne("#".concat(a));n.x(t.x),n.y(t.y),n.rotation(t.rotation),n.scaleX(t.scaleX),n.scaleY(t.scaleY),e.konvaSceneLayer.draw()};ae.applyChange({changeFn:function(e){return o(i),e&&c(i),n},undoFn:function(){return o(r),c(r),n}})}}))}))}},{key:"enableAnimateMode",value:function(){}},{key:"checkMounted",value:function(e){f(this.konvaSceneLayer,"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"mount",value:function(e){var t=this;this.containingKonvaStage=e,this.konvaSceneLayer=new ue.a.Layer({id:this.id,x:this.x,y:this.y}),this.comps.forEach((function(e){return e.mount(t.konvaSceneLayer)})),e.add(this.konvaSceneLayer)}},{key:"getSize",value:function(){if(this.sizeCache)return this.sizeCache;if(this.konvaSceneLayer){var e=this.sizeCache={width:10,height:10};this.konvaSceneLayer.getChildren().each((function(t,a){if("Transformer"!==t.getClassName()){var n=t.getClientRect();e.width=Math.max(e.width,n.x+n.width+le),e.height=Math.max(e.height,n.y+n.height+le)}}))}else this.sizeCache={width:100,height:100};return this.sizeCache}},{key:"bindSizeChanges",value:function(e,t){}}]),t}(ce);Ge.unmangledName="Scene";var Ye=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.scenes,d=Object(r.a)(a,["id","name","scenes"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var m=f.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(l,"scenes is required"),m(Array.isArray(l),"scenes must be an Scene[] array"),l.forEach((function(e,t){m(e instanceof Ge,"scenes[".concat(t,"] must be a Scene instance"))})),N(m,d,arguments),e.scenes=l,e.scenes.forEach((function(t){return t.setParent(Object(s.a)(e))})),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this,e)),["scenes"])}},{key:"enableViewMode",value:function(){this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!1)})),this.containingKonvaStage.off("dragend")}},{key:"enableEditMode",value:function(){var e=this;this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!0)})),this.containingKonvaStage.on("dragend",(function(t){var a=t.target.id(),n=e.scenes.find((function(e){return e.id===a})),r={x:n.x,y:n.y},i={x:t.target.x(),y:t.target.y()},o=function(e){n.x=e.x,n.y=e.y},c=function(t){var n=e.containingKonvaStage.findOne("#".concat(a));n.x(t.x),n.y(t.y),e.containingKonvaStage.draw()};ae.applyChange({changeFn:function(e){return o(i),e&&c(i),n},undoFn:function(){return o(r),c(r),n}})}))}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e){this.containingKonvaStage=e,this.scenes.forEach((function(t){return t.mount(e)}))}},{key:"getSize",value:function(){return this.sizeCache?this.sizeCache:(this.containingKonvaStage?this.sizeCache=this.scenes.reduce((function(e,t){t.sizeCache=void 0;var a=t.getSize();return e.width=Math.max(e.width,a.width),e.height=Math.max(e.height,a.height),e}),{width:100,height:100}):this.sizeCache={width:200,height:200},this.sizeCache)}},{key:"bindSizeChanges",value:function(e,t){this.scenes.forEach((function(a){return a.bindSizeChanges(e,t)}))}}]),t}(ce);Ye.unmangledName="Collage",T.registerPkg(new Ne({id:"core",name:"core classes",entries:{core:[Ye,R,Ge,Ne,Be]}}));var We=a(24),Xe=a.n(We),$e=!1,Qe=!1,Ze=!0;function et(e,t,a){return e.replace(new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(t),"g"),a)}var tt=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=a.x,l=void 0===s?0:s,d=a.y,m=void 0===d?0:d,g=a.rotation,p=void 0===g?0:g,h=a.scaleX,v=void 0===h?1:h,b=a.scaleY,y=void 0===b?1:b,O=Object(r.a)(a,["id","name","x","y","rotation","scaleX","scaleY"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var k=f.prefix("SmartComp() constructor parameter violation: ");return k(S(l),"x must be a number (when supplied), NOT: ".concat(l)),k(S(m),"y must be a number (when supplied), NOT: ".concat(m)),k(S(p),"rotation must be a number (when supplied), NOT: ".concat(p)),k(S(v),"scaleX must be a number (when supplied), NOT: ".concat(v)),k(S(y),"scaleY must be a number (when supplied), NOT: ".concat(y)),N(k,O,arguments),e.x=l,e.y=m,e.rotation=p,e.scaleX=v,e.scaleY=y,e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(e){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this,e)),[["x",0],["y",0],["rotation",0],["scaleX",1],["scaleY",1]])}},{key:"canHandleDispMode",value:function(e){return e!==I.edit}},{key:"enableViewMode",value:function(){}},{key:"enableEditMode",value:function(){}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e){this.compGroup=new ue.a.Group({id:this.id,x:this.x,y:this.y,rotation:this.rotation,scaleX:this.scaleX,scaleY:this.scaleY}),e.add(this.compGroup)}}]),t}(oe);tt.unmangledName="SmartComp";var at=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(u.a)(t.prototype),"mount",this).call(this,e);var a=new ue.a.Rect({x:10,width:100,height:50,fill:"green",stroke:"black",strokeWidth:5});this.compGroup.add(a);var n=new ue.a.Circle({x:7.5,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(n);var r=new ue.a.Circle({x:110,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(r);var i=new ue.a.Group({x:0,y:0});this.compGroup.add(i);var o=new ue.a.Circle({x:60,y:25,radius:10,fill:"red",stroke:"red",strokeWidth:1});i.add(o)}}]),t}(tt);at.unmangledName="Valve1";var nt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(u.a)(t.prototype),"mount",this).call(this,e);var a=new ue.a.Rect({width:100,height:50,fill:"red",shadowBlur:10,cornerRadius:10});this.compGroup.add(a)}}]),t}(tt);nt.unmangledName="Valve2";var rt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(u.a)(t.prototype),"mount",this).call(this,e);var a=new ue.a.Rect({width:100,height:100,fill:"blue",cornerRadius:[0,10,20,30]});this.compGroup.add(a)}}]),t}(tt);rt.unmangledName="Valve3";var it=new Ne({id:"generalComps",name:"SandBox Comps",entries:{"Class Comps":[at,nt,rt]}});T.registerPkg(it);var ot=ge("***DIAG*** konvaSandboxSmartPkg ... ").disable(),ct=T.getClassRef("generalComps","Valve1"),st=T.getClassRef("generalComps","Valve2"),ut=T.getClassRef("generalComps","Valve3"),lt=new Ge({id:"scene1",comps:[ct.createSmartObject({id:"myValve1",x:20,y:20}),st.createSmartObject({id:"myValve2",x:150,y:40}),ut.createSmartObject({id:"myValve3",x:50,y:120})]}),dt=new Ge({id:"scene2",comps:[ct.createSmartObject({id:"myValve1",x:20,y:20}),st.createSmartObject({id:"myValve2",x:150,y:40})]}),mt=new pe(lt,"DUMMY-PKG-NAME").createSmartObject({id:"scene1Copy",x:0,y:0}),gt=new pe(dt,"DUMMY-PKG-NAME").createSmartObject({id:"scene2Copy",x:300,y:250}),ft=new Ye({id:"collage1",name:"Collage 1",scenes:[mt,gt]}),pt=new Ne({id:"com.astx.KONVA",name:"Konva Sandbox I",entries:{scenes:[lt,{"More Depth":[dt]}],collages:[ft]}});T.registerPkg(pt);var ht=pt.smartClone();ht.id="cloned.pkg",ht.name="Cloned Pkg",T.registerPkg(ht),ot("PERSISTENT TEST: JSONIZE smartPkg:\n",{konvaSandboxSmartPkg:pt});var vt=pt.toSmartJSON();ot("PERSISTENT TEST: HERE is the json:\n",{json:vt});var bt=pt.id,yt=pt.name,Ot=JSON.stringify(vt,null,2);Ot=et(Ot,'"'.concat(bt,'"'),'"'.concat(bt,'2"')),ot('PERSISTENT TEST: HERE is the "pretty" jsonStr (after id changes):\n',Ot=et(Ot,'"'.concat(yt,'"'),'"'.concat(yt,'I"'))),ot("PERSISTENT TEST: HERE is the RE-HYDRATED smartPkg:\n",{rehydratedSmartPkg:Ne.fromSmartJSON(JSON.parse(Ot))});var kt=Object(me.createFeature)({name:"sandbox",enabled:Ze,appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;var t=T.getPkg("generalComps");Pe.addLeftNav(t);var a=T.getPkg("com.astx.KONVA");Pe.addLeftNav(a);var n=T.getPkg("cloned.pkg");Pe.addLeftNav(n)}}),Et=a(49),jt=a.n(Et),Ct=a(77),wt=a(225),St=a.n(wt);function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=f.prefix("encode(ref) parameter violation: ");a(e,"ref is required"),a(C()(e)||E()(e),"ref must be a string -or- an object literal. NOT: ",e),a(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var n=e;return E()(n)&&(n=Tt+JSON.stringify(n)),t&&(n=Rt+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(n)),n}function Pt(e){if(f.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!C()(e))return e;var t=e;return 0===t.indexOf(Rt)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(Rt.length))),0===t.indexOf(Tt)&&(t=t.substring(Tt.length),t=JSON.parse(t)),t}var Tt="obj2str:",Rt="afesa";function It(){return(It=Object(Ct.a)(jt.a.mark((function e(t){var a,n,r,i;return jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.showStatus,t.fassets,t.getState,t.dispatch,a("Initializing Firebase"),e.next=4,fetch("fbac");case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("**ERROR** Accessing /fbac resource was REJECTED with status: ".concat(n.status));case 7:return e.next=9,n.text();case 9:if(!(r=e.sent).includes("<html")){e.next=12;break}throw new Error("**ERROR** Non Existent Resource: /fbac");case 12:return i=Pt(r),e.next=15,St.a.initializeApp(i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xt=Object(me.createFeature)({name:"initFirebase",enabled:$e,appInit:function(e){return It.apply(this,arguments)}}),Mt=ee.generateActions.root(Object(m.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},setResponsiveMode:{actionMeta:{traits:["responsiveMode"]}},changeView:{actionMeta:{traits:["viewName"]}},addLeftNavItem:{actionMeta:{traits:["leftNavKey","LeftNavComp"]}},removeLeftNavItem:{actionMeta:{traits:["leftNavKey"]}}})),At=a(53),Ut=a(46),zt=a(60);function Dt(){}function Lt(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=f.prefix("storeItem() parameter violation: ");n(e,"key is required"),n(C()(e),"key must be a string, NOT: ",e),n(t,"ref is required"),n(C()(t)||E()(t),"ref must be a string -or- an object literal, NOT: ",t),n(!0===a||!1===a,"safeguard must be a boolean (true/false), NOT: ",a);var r=Nt(t,a);qt.setItem(e,r)}function Ft(e){var t=f.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(C()(e),"key must be a string, NOT: ",e);var a=qt.getItem(e);return a?Pt(a):null}var Vt=function(e){var t;try{t=window[e];var a="__storage_test__";return t.setItem(a,a),t.removeItem(a),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage");Vt||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var qt=Vt?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:Dt,getItem:Dt,removeItem:Dt};var Jt="uiTheme";var Bt="responsiveMode",_t=a(226);function Kt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Gt=Object(zt.slicedReducer)("baseUI",Object(me.expandWithFassets)((function(e){var t;return Object(At.combineReducers)({uiTheme:Object(Ut.reducerHash)(Object(m.a)({},Mt.toggleUITheme,(function(e,t){return"dark"===e?"light":"dark"})),Ft(Jt)),responsiveMode:Object(Ut.reducerHash)(Object(m.a)({},Mt.setResponsiveMode,(function(e,t){return t.responsiveMode})),Ft(Bt)||"sm"),curView:Object(Ut.reducerHash)(Object(m.a)({},Mt.changeView,(function(e,t){return t.viewName})),"uninitialized"),leftNavItems:Object(Ut.reducerHash)((t={},Object(m.a)(t,Mt.addLeftNavItem,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ht(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ht(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},Object(m.a)({},t.leftNavKey,{fn:t.LeftNavComp,fnRef:"hidden in Redux DevTools"}))})),Object(m.a)(t,Mt.removeLeftNavItem,(function(e,t){var a=t.leftNavKey;e[a];return Object(r.a)(e,[a].map(Kt))})),t),{})})}))),Yt=Gt,Wt=function(e){return Gt.getSlicedState(e)},Xt=function(e){return Wt(e).uiTheme||"light"},$t=function(e){return Wt(e).responsiveMode},Qt=Object(_t.a)((function(e){return Wt(e).leftNavItems}),(function(e){return Object.entries(e).map((function(e){var t,a=Object(g.a)(e,2),n=a[0],r=a[1];return[n,(t=r,t.fn)]})).sort((function(e,t){var a=Object(g.a)(e,1)[0],n=Object(g.a)(t,1)[0];return a.localeCompare(n)}))})),Zt=a(118),ea=[Object(Zt.b)({name:"".concat("baseUI",".persistUITheme"),type:String(Mt.toggleUITheme),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=Xt(r()),Lt(Jt,n),a()}}),Object(Zt.b)({name:"".concat("baseUI",".persistResponsiveMode"),type:String(Mt.setResponsiveMode),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=$t(r()),Lt(Bt,n),a()}})],ta=a(427),aa=a(129),na=a(447),ra=a(434),ia=a(437),oa=a(436);function ca(){var e=sa(),t=Object(de.useSelector)((function(e){return Qt(e)}),[]);return t.length<=0?null:U.a.createElement(ra.a,{className:e.leftNav,variant:"permanent",classes:{paper:e.leftNavPaper}},U.a.createElement(oa.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our LeftNav isn't covered up by the AppBar"}),U.a.createElement(ia.a,null,t.map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return U.a.createElement(n,{key:a})}))))}var sa=Object(D.a)((function(e){return{leftNav:{width:240,flexShrink:0},leftNavPaper:{width:240}}})),ua=a(438),la=a(239),da=a(227),ma=a.n(da);function ga(e){e.curUser;var t=Object(A.useState)(null),a=Object(g.a)(t,2),r=a[0],i=a[1],o=Object(A.useMemo)((function(){return Boolean(r)}),[r]),c=Object(A.useCallback)((function(e){return i(e.currentTarget)}),[]);pa=Object(A.useCallback)((function(){return i(null)}),[]);var s=Object(me.useFassets)("AppMotif.UserMenuItem.*@withKeys"),u=Object(A.useMemo)((function(){return Object(n.a)(s).sort((function(e,t){var a=Object(g.a)(e,1)[0],n=Object(g.a)(t,1)[0];return a.localeCompare(n)}))}),[s]);return U.a.createElement("div",null,U.a.createElement(ua.a,{color:"inherit",onClick:c},U.a.createElement(ma.a,null)),U.a.createElement(la.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:fa},u.map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return U.a.createElement(n,{key:a})}))))}function fa(){pa&&pa()}var pa=null;function ha(e){return va.apply(this,arguments)}function va(){return(va=Object(Ct.a)(jt.a.mark((function e(t){var a,n,r,i,o,c;return jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.prefix("openPkg() parameter violation: "),!t){e.next=6;break}a(t,'pkgResourcePath is currently NOT a supported param (omit it to activate the "interactive file picker dialog")'),a(123===t,"pkgResourcePath (when supplied) must be a YetUnknown"),e.next=8;break;case 6:if(window.chooseFileSystemEntries){e.next=8;break}throw new Error('***ERROR*** openPkg() the "Native File System API TRIAL" is NOT available in this environment :-(').defineAttemptingToMsg("use the interactive file picker dialog");case 8:if(n=null,!t){e.next=12;break}e.next=23;break;case 12:return e.prev=12,e.next=15,window.chooseFileSystemEntries({type:"openFile",accepts:[{description:"visualize-it file",extensions:["vit"],mimeTypes:["application/json"]}]});case 15:n=e.sent,e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(12),"The user aborted a request."!==e.t0.message){e.next=22;break}return e.abrupt("return");case 22:throw e.t0.defineAttemptingToMsg("use the file picker dialog");case 23:return e.next=25,n.getFile();case 25:return r=e.sent,e.next=28,r.text();case 28:i=e.sent,o=null,e.prev=30,o=JSON.parse(i),e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(30),new Error("INVALID JSON - ".concat(e.t1.message)).defineUserMsg("Please select a valid visualize-it package");case 37:return(c=Ne.fromSmartJSON(o)).setPkgResourcePath(n),T.registerPkg(c),e.abrupt("return",c);case 41:case"end":return e.stop()}}),e,null,[[12,18],[30,34]])})))).apply(this,arguments)}function ba(e){return ya.apply(this,arguments)}function ya(){return(ya=Object(Ct.a)(jt.a.mark((function e(t){var a,n,r,i,o,c,s=arguments;return jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>1&&void 0!==s[1]&&s[1],(n=f.prefix("savePkg() parameter violation: "))(t,"pkg is required"),n(t instanceof Ne,"pkg must be a SmartPkg"),a&&n(!0===a||!1===a,"saveAs must be a boolean (when supplied)"),window.chooseFileSystemEntries){e.next=7;break}throw new Error('***ERROR*** savePkg() the "Native File System API TRIAL" is NOT available in this environment :-(').defineAttemptingToMsg("save a package to a local file system");case 7:if(a||!t.pkgResourcePath||!t.isInSync()){e.next=9;break}return e.abrupt("return","SaveNotNeeded");case 9:if(r=t.toSmartJSON(),i=JSON.stringify(r),o=a?void 0:t.getPkgResourcePath()){e.next=24;break}return e.prev=13,e.next=16,window.chooseFileSystemEntries({type:"saveFile",accepts:[{description:"visualize-it file",extensions:["vit"],mimeTypes:["application/json"]}]});case 16:o=e.sent,e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(13),"AbortError"!==e.t0.name){e.next=23;break}return e.abrupt("return","UserCancel");case 23:throw e.t0.defineAttemptingToMsg('select the file to save the "'.concat(t.getPkgName(),'" package'));case 24:return e.prev=24,e.next=27,o.createWriter();case 27:return c=e.sent,e.next=30,c.write(0,i);case 30:return e.next=32,c.close();case 32:e.next=38;break;case 34:throw e.prev=34,e.t1=e.catch(24),"NotAllowedError"===e.t1.name&&e.t1.defineUserMsg("User disallowed the file write"),e.t1.defineAttemptingToMsg('save the "'.concat(t.getPkgName(),'" package'));case 38:t.setPkgResourcePath(o),t.resetBaseCrc();case 40:case"end":return e.stop()}}),e,null,[[13,19],[24,34]])})))).apply(this,arguments)}var Oa="DYNAMIC_DEFAULT";function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,a=e.showUser,n=void 0===a||a,i=e.logIt,o=void 0===i?Oa:i,c=Object(r.a)(e,["err","showUser","logIt"]);try{var s=f.prefix("discloseError() parameter violation: ");s(t,"err is required"),s(t instanceof Error,"err must be an Error object, NOT: ",t),s(!0===(n=n===Oa?t.isExpected():n)||!1===n,"showUser must be a boolean"),s(!0===(o=o===Oa?t.isUnexpected():o)||!1===o,"logIt must be a boolean"),N(s,c,arguments)}catch(l){return console.log("YIKES ... visualize-it's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',l)}if(n&&(t.isUnexpected()?W.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){$.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):W.warn({msg:t.formatUserMsg()})),o){var u=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(u+t),t.isUnexpected()&&(console.log("Stack Trace ..."),console.log(t))}}var Ea=a(439),ja=a(93);function Ca(){var e=Object(A.useState)(null),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(A.useMemo)((function(){return Boolean(a)}),[a]),i=Object(A.useCallback)((function(e){return n(e.currentTarget)}),[]);Sa=Object(A.useCallback)((function(){return n(null)}),[]);var o=Object(me.useFassets)(),c=Object(de.useSelector)((function(e){return o.sel.getActiveTabId(e)}),[o]),s=!!c;return U.a.createElement("div",null,U.a.createElement(L.a,{color:"inherit",onClick:i},U.a.createElement(ja.a,{variant:"button",color:"inherit",noWrap:!0},"File")),U.a.createElement(la.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:wa},U.a.createElement(Ea.a,{onClick:Na},"Open ..."),U.a.createElement(Ea.a,{onClick:function(){return Ta(c)},disabled:!s},"Save"),U.a.createElement(Ea.a,{onClick:function(){return Ta(c,!0)},disabled:!s},"Save As ...")))}function wa(){Sa&&Sa()}var Sa=null;function Na(){return Pa.apply(this,arguments)}function Pa(){return(Pa=Object(Ct.a)(jt.a.mark((function e(){var t;return jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wa(),e.prev=1,e.next=4,ha();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:Pe.addLeftNav(t),W({msg:'"'.concat(t.getPkgName(),'" has been loaded in the Left Nav Menu')}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),ka({err:e.t0,logIt:!0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Ta(e){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(Ct.a)(jt.a.mark((function e(t){var a,n,r,i=arguments;return jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]&&i[1],wa(),e.prev=2,(n=Ia(t)).canPersist()){e.next=7;break}return W.warn({msg:'The "'.concat(n.getPkgName(),'" package cannot be saved ... it contains code, which cannot be persisted!')}),e.abrupt("return");case 7:return e.next=9,ba(n,a);case 9:"UserCancel"===(r=e.sent)||("SaveNotNeeded"===r?W.warn({msg:'The "'.concat(n.getName(),'" package does NOT need to be saved ... you must first apply some changes')}):W({msg:'The "'.concat(n.getPkgName(),'" package has been saved!')})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),ka({err:e.t0,logIt:!0});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function Ia(e){var t=Fe.getTabController(e).getTarget().getPkg();return f(t,'***ERROR*** <FileMenu> "save/saveAs" operation ... could not locate the SmartPkg for the \''.concat(e,"' active tab :-(")),t}var xa=a(440),Ma=a(232),Aa=a.n(Ma),Ua=ee.generateActions.root(Object(m.a)({},"toolBar",{dispModeChanged:{actionMeta:{traits:["dispMode"]}}})),za=Object(zt.slicedReducer)("toolBar",Object(me.expandWithFassets)((function(e){var t;return Object(At.combineReducers)({dispMode:Object(Ut.reducerHash)((t={},Object(m.a)(t,e.actions.activateTab,(function(e,t){return Fe.getTabController(t.tabId).getTarget().getDispMode().enumKey})),Object(m.a)(t,Ua.dispModeChanged,(function(e,t){return t.dispMode.enumKey})),t),I.view.enumKey)})}))),Da=za,La=function(e){return za.getSlicedState(e)},Fa=function(e){return I.enumValueOf(La(e).dispMode)},Va=a(229),qa=a.n(Va),Ja=a(231),Ba=a.n(Ja),_a=a(230),Ka=a.n(_a),Ha=a(452),Ga=a(455),Ya=ge("***DIAG*** <VitToolBar> ... ").disable();var Wa=Object(D.a)((function(e){return{title:{flexGrow:1}}}));function Xa(){var e=Object(me.useFassets)(),t=Object(de.useSelector)((function(e){return Fa(e)}),[]),a=Object(de.useSelector)((function(t){return e.sel.getActiveTabId(t)}),[e]),n=Object(de.useDispatch)(),r=Object(A.useCallback)((function(e){var t=I.enumValueOf(e.target.value);Ya("dispMode changed to: ".concat(t)),n(Ua.dispModeChanged(t))}),[n]),i=Fe.getTabController(a).getTarget(),o=Object(A.useState)(!1),c=Object(g.a)(o,2),s=c[0],u=c[1],l=function(){return u(!1)};return U.a.createElement(Ga.a,{title:"Display Mode",open:s},U.a.createElement(ua.a,null,U.a.createElement(Ha.a,{id:"dispMode",labelId:"dispModeLabel",value:t.enumKey,onMouseEnter:function(){return u(!0)},onMouseLeave:l,onMouseDown:l,onChange:r},Array.from(I).map((function(e){return U.a.createElement(Ea.a,{key:e.enumKey,value:e.enumKey,disabled:!i.canHandleDispMode(e)},e.enumKey)})))))}function $a(){var e=Object(me.useFassets)(),t=Object(de.useSelector)((function(e){return Fa(e)}),[]),a=Object(de.useSelector)((function(t){return e.sel.getActiveTabId(t)}),[e]),n=Fe.getTabController(a).getTarget().getEPkgId(),r=Object(de.useSelector)((function(t){return e.sel.isUndoAvail(t,n)}),[e,n]),i=Object(de.useSelector)((function(t){return e.sel.isRedoAvail(t,n)}),[e,n]);return t!==I.edit?null:U.a.createElement(U.a.Fragment,null,U.a.createElement(Ga.a,{title:"Undo"},U.a.createElement("span",null,U.a.createElement(ua.a,{disabled:!r,onClick:function(){return ae.applyUndo(n)}},U.a.createElement(Ka.a,null)))),U.a.createElement(Ga.a,{title:"Redo"},U.a.createElement("span",null,U.a.createElement(ua.a,{disabled:!i,onClick:function(){return ae.applyRedo(n)}},U.a.createElement(Ba.a,null)))))}function Qa(e){var t=e.children,a=Object(me.useFassets)(),n=Object(de.useSelector)((function(e){return a.sel.curView(e)}),[a]),r=Za(),i=a.get("AppMotif.auxViewContent.*@withKeys"),o=Object(A.useMemo)((function(){return function(e,t){var a="AppMotif.auxViewContent.".concat(e),n=t.find((function(e){return Object(g.a)(e,1)[0]===a}))||en;return Object(g.a)(n,2)[1]}(n,i)}),[n,i]),c=o.TitleComp,s=o.FooterComp;return U.a.createElement("div",{className:r.app},U.a.createElement(xa.a,{className:r.appBar,position:"fixed"}," ",U.a.createElement(oa.a,{className:r.toolbar,variant:"dense",disableGutters:!1}," ",U.a.createElement(ua.a,{className:r.menuButton,color:"inherit",onClick:function(){W.warn({msg:"Collapsable Left Nav (coming soon)!"})}},U.a.createElement(Aa.a,null)),U.a.createElement(Ca,null),U.a.createElement("div",{className:r.title},U.a.createElement(c,null)),U.a.createElement(ga,null))),U.a.createElement(ca,null),U.a.createElement("main",{className:r.content},U.a.createElement(oa.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our main content isn't covered up by the AppBar"}),t),s&&U.a.createElement(xa.a,{className:r.bottomBar,position:"absolute"},U.a.createElement(oa.a,{className:r.toolbar,variant:"dense",disableGutters:!1},U.a.createElement(s,null))))}var Za=Object(D.a)((function(e){return{app:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto"}}}));var en=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){var e=Wa(),t=Object(me.useFassets)(),a=Object(de.useSelector)((function(e){return t.sel.getActiveTabId(e)}),[t]);if(!a)return U.a.createElement(ja.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Visualize It");var n=Fe.getTabController(a).getTarget().getPkg(),r=n.getPkgName()+(n.isInSync()?"":" **");return U.a.createElement(oa.a,{variant:"dense"},U.a.createElement(ja.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},r),U.a.createElement($a,null),U.a.createElement(Ga.a,{title:"Silly Fingerprint"},U.a.createElement(ua.a,{onClick:function(){return W({msg:"Silly little fingerprint!"})}},U.a.createElement(qa.a,null))),U.a.createElement(Xa,null))}}],tn=a(29),an=a(441);var nn=a(446),rn=a(443),on=a(445),cn=a(444),sn=a(241),un=a(173),ln=a(442),dn=(U.a.forwardRef((function(e,t){return U.a.createElement(sn.a,Object.assign({ref:t,timeout:"1000"},e))})),U.a.forwardRef((function(e,t){return U.a.createElement(un.a,Object.assign({ref:t,direction:"right",timeout:"1000"},e))})),U.a.forwardRef((function(e,t){return U.a.createElement(ln.a,Object.assign({ref:t,timeout:"1000"},e))})));function mn(e){var t=e.msg,a=e.err,n=function(){var e=Object(tn.a)();return Object(an.a)(e.breakpoints.down("xs"))}(),r=gn();return t?U.a.createElement(bn,{msg:t,err:a,open:!0,fullScreen:n,classes:r}):U.a.createElement(fn,{fullScreen:n,classes:r})}mn.defaultProps={msg:"",err:null};var gn=Object(D.a)((function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},progress:{margin:e.spacing(4)}}}));function fn(e){var t=e.fullScreen,a=e.classes,n=Object(A.useState)({msg:"",err:null}),r=Object(g.a)(n,2),i=r[0],o=r[1];if(hn&&hn!==o)throw new Error("***ERROR*** <SplashScreen/> (supporting the programmatic `splash(msg, [err])` API) should only be instantiated ONE TIME (in the app root DOM)");return hn=o,U.a.createElement(bn,{msg:i.msg,err:i.err,open:!!i.msg,fullScreen:t,classes:a})}function pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!hn)throw new Error("***ERROR*** the programmatic `splash(msg, [err])` API requires <SplashScreen/> be instantiated in the app root DOM");hn({msg:e,err:t})}var hn=null,vn=null;function bn(e){var t=e.msg,a=e.err,n=e.open,r=e.fullScreen,i=e.classes,o=a?U.a.createElement(U.a.Fragment,null,U.a.createElement("br",null),U.a.createElement(ja.a,{variant:"subtitle2",color:"secondary"},"Encountered ERROR: ",a.formatUserMsg()),U.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(){$.error({msg:"An unexpected error occurred:\n\n".concat(a,"\n\nIf this problem persists, please contact your tech support.")})}},U.a.createElement(ja.a,{variant:"subtitle2"},"Show Detail"))):null;if(a&&a!==vn){vn=a;var c=a.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(c+a),a.isUnexpected()&&(console.log("Stack Trace ..."),console.log(a))}return U.a.createElement(rn.a,{open:n,fullScreen:r,TransitionComponent:dn},U.a.createElement(cn.a,{className:i.title},U.a.createElement("center",{className:i.title},"Visualize It")),U.a.createElement(on.a,null,U.a.createElement("center",null,U.a.createElement("br",null),U.a.createElement("img",{width:"120px",src:"visualize-it-logo.png",alt:"visualize-it"}),U.a.createElement("br",null),U.a.createElement(nn.a,{className:i.progress,color:"secondary"}),U.a.createElement(ja.a,{variant:"body2"},t),o,U.a.createElement("br",null))))}function yn(e){var t=e.children,a=Object(de.useSelector)((function(e){return Xt(e)}),[]),n=Object(A.useMemo)((function(){return"dark"===a?kn:On}),[a]),r=En();return U.a.createElement(ta.a,{theme:n},U.a.createElement(na.a,null),U.a.createElement(F,null),U.a.createElement(mn,null),U.a.createElement("main",{className:r.main},U.a.createElement(Qa,null,t)))}var On=Object(aa.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"light",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),kn=Object(aa.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"dark",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),En=Object(D.a)((function(e){return{main:{width:"auto",display:"block"}}})),jn=a(454),Cn=a(448),wn=a(233),Sn=a.n(wn),Nn=a(234),Pn=a.n(Nn);function Tn(e){return U.a.createElement(Ea.a,Object.assign({},e,{onClick:function(){fa(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}var Rn=U.a.forwardRef((function(e,t){var a=Object(de.useSelector)((function(e){return Xt(e)}),[]),n=Object(A.useMemo)((function(){return"light"===a?Sn.a:Pn.a}),[a]),r=Object(A.useMemo)((function(){return"light"===a?"to dark":"to light"}),[a]),i=Object(de.useDispatch)(),o=Object(A.useCallback)((function(){return i(Mt.toggleUITheme())}),[i]);return U.a.createElement("span",Object.assign({},e,{ref:t}),U.a.createElement(Tn,{onClick:o},U.a.createElement(jn.a,{label:r,icon:U.a.createElement(n,null)})),U.a.createElement(Cn.a,null))})),In=a(235),xn=a.n(In),Mn=U.a.forwardRef((function(e,t){var a=Object(de.useSelector)((function(e){return $t(e)}),[]),r=Object(A.useMemo)((function(){return"off"===a?function(){return null}:xn.a}),[a]),i=Object(de.useDispatch)(),o=Object(A.useCallback)((function(){Z.success({msg:'This app is designed with mobile devices in mind (i.e. cell phones).\n\nWhen the "responsive" mode is enabled, selected screens will dynamically adjust to take advantage of the additional screen real estate.  As an example, a simple list can morph into a detailed table.\n\nYou can define the "responsive" boundary where additional content is manifest (based on the screen width), or disable it altogether.\n\nSet the "responsive" boundary to:\n(** is current)',actions:[].concat(Object(n.a)(Un(a,i)),[{txt:"Close"}])})}),[i,a]);return U.a.createElement("span",Object.assign({},e,{ref:t}),U.a.createElement(Tn,{onClick:o},U.a.createElement(jn.a,{label:"responsive",icon:U.a.createElement(r,null)})),U.a.createElement(Cn.a,null))})),An=[{name:"Tablet",value:"sm"},{name:"Desktop",value:"md"},{name:"Landscape",value:"lg"},{name:"Disable",value:"off"}],Un=function(e,t){return An.map((function(a){return{txt:"".concat(e===a.value?"**":"").concat(a.name),action:function(){return t(Mt.setResponsiveMode(a.value))}}}))},zn=U.a.forwardRef((function(e,t){return U.a.createElement("span",Object.assign({},e,{ref:t}),U.a.createElement(Cn.a,null),U.a.createElement(Tn,{onClick:Dn},"About ..."))}));function Dn(){var e="".concat("visualize-it","\n\n").concat("Your View into External Systems","\n\nversion: ").concat("0.1.0"),t=[];t.push({txt:"Close"}),$.success({msg:e,actions:t})}var Ln,Fn=Object(me.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":Mt.changeView,"sel.curView":function(e){return Wt(e).curView},"actions.addLeftNavItem":Mt.addLeftNavItem,"actions.removeLeftNavItem":Mt.removeLeftNavItem},defineUse:{"AppMotif.UserMenuItem.aa1_UIThemeToggle":Rn,"AppMotif.UserMenuItem.aa2_MaintainResponsiveMode":Mn,"AppMotif.UserMenuItem.zz8_About":zn},use:[["AppMotif.UserMenuItem.*",{required:!0,type:me.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:me.fassetValidations.any}]]},reducer:Yt,logic:ea,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return U.a.createElement(yn,null,t)},appInit:function(e){e.showStatus;var t=e.fassets,a=(e.getState,e.dispatch);Pe.injectDependency(t,a)}});function Vn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vn(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jn=Object(zt.slicedReducer)("changeManager",Object(At.combineReducers)({ePkgs:Object(Ut.reducerHash)((Ln={},Object(m.a)(Ln,te.registerEPkg,_n),Object(m.a)(Ln,te.ePkgChanged,_n),Ln),{}),undoRedo:Object(Ut.reducerHash)(Object(m.a)({},te.undoRedoChanged,(function(e,t){return qn({},e,{},Object(m.a)({},t.pkgEntryId,{undoAvail:t.undoAvail,redoAvail:t.redoAvail}))})),{})})),Bn=Jn;function _n(e,t){var a=e,n=t.ePkgId,r=t.crc,i=t.baseCrc;return qn({},a,{},Object(m.a)({},n,{crc:r,baseCrc:i}))}var Kn,Hn,Gn,Yn=function(e){return Jn.getSlicedState(e)},Wn=function(e,t){return Yn(e).undoRedo[t]||{undoAvail:!1,redoAvail:!1}},Xn=Object(me.createFeature)({name:"changeManager",fassets:{define:{"sel.isEPkgInSync":function(e,t){var a=function(e,t){return Yn(e).ePkgs[t]}(e,t);return!a||a.crc===a.baseCrc},"sel.isUndoAvail":function(e,t){return Wn(e,t).undoAvail},"sel.isRedoAvail":function(e,t){return Wn(e,t).redoAvail}}},reducer:Bn,appInit:function(e){e.showStatus,e.fassets,e.getState;var t=e.dispatch;ae.injectDependency(t)}}),$n=ee.generateActions.root(Object(m.a)({},"tabManager",{activateTab:{actionMeta:{traits:["tabId","preview"],ratify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[e,t]}}},closeTab:{actionMeta:{traits:["tabId"]}}})),Qn=Object(zt.slicedReducer)("tabManager",Object(At.combineReducers)({activeTabId:Object(Ut.reducerHash)((Kn={},Object(m.a)(Kn,$n.activateTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),Object(m.a)(Kn,$n.closeTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),Kn),null),previewTabId:Object(Ut.reducerHash)((Hn={},Object(m.a)(Hn,$n.activateTab,(function(e,t){return t.pgmDirectives.next_previewTabId})),Object(m.a)(Hn,$n.closeTab,(function(e,t){return e===t.tabId?null:e})),Hn),null),tabs:Object(Ut.reducerHash)((Gn={},Object(m.a)(Gn,$n.activateTab,(function(e,t){var a=e,r=t.tabId,i=t.tabName,o=t.pgmDirectives,c=o.removeTabId,s=o.addNewTab;return c&&(a=a.filter((function(e){return e.tabId!==c}))),s&&(a=[].concat(Object(n.a)(a),[{tabId:r,tabName:i}])),a})),Object(m.a)(Gn,$n.closeTab,(function(e,t){return e.filter((function(e){return e.tabId!==t.tabId}))})),Gn),[])})),Zn=Qn,er=function(e){return Qn.getSlicedState(e)},tr=function(e){return er(e).activeTabId},ar=function(e){return er(e).previewTabId},nr=function(e){return er(e).tabs},rr=function(e){return er(e).tabs.length},ir=[Object(Zt.b)({name:"".concat("tabManager",".supplementActivateTab"),type:String($n.activateTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=r.tabId,c=r.preview,s=ar(i),u=nr(i).find((function(e){return o===e.tabId})),l=o,d=!!!u,m=s,g=null;d?c&&(m=o,g=s):c||o!==s||(m=null);var f=Fe.getTabController(o);r.tabName=f?f.getTabName():"UNKNOWN",r.pgmDirectives={next_activeTabId:l,next_previewTabId:m,removeTabId:g,addNewTab:d},t(r)}}),Object(Zt.b)({name:"".concat("tabManager",".supplementCloseTab"),type:String($n.closeTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=nr(i),c=o.findIndex((function(e){return r.tabId===e.tabId})),s=c===o.length-1?c-1:c+1,u=s<0?null:o[s].tabId;r.pgmDirectives={next_activeTabId:u},t(r)}}),Object(Zt.b)({name:"".concat("tabManager",".syncTargetDispMode"),type:String($n.activateTab),process:function(e,t,a){e.getState;var n=e.action;e.fassets;if(n.pgmDirectives.addNewTab){var r=Fe.getTabController(n.tabId).getTarget();r.setDispMode(r.getDispMode())}a()}})],or=a(141),cr=a(451),sr=a(236),ur=a.n(sr),lr=a(450),dr=a(449),mr=a(453),gr=ge("***DIAG*** <TabManager> ... ").disable();function fr(){var e=pr(),t=Object(de.useSelector)((function(e){return tr(e)}),[]),a=Object(de.useSelector)((function(e){return ar(e)}),[]),n=Object(de.useSelector)((function(e){return nr(e)}),[]),r=Object(de.useDispatch)(),i=Object(A.useCallback)((function(e,t){gr("handleTabChanged('".concat(t,"')")),r($n.activateTab(t))}),[r]);return gr("rendering"),U.a.createElement(U.a.Fragment,null,U.a.createElement(xa.a,{position:"static",color:"default"},U.a.createElement(mr.a,{value:t,onChange:i,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},n.map((function(t){var n=Fe.getTabController(t.tabId).getTarget(),i=t.tabName+(n.isInSync()?"":" **");return U.a.createElement(dr.a,{className:t.tabId===a?e.tabPreview:e.tabPermanent,key:t.tabId,value:t.tabId,label:U.a.createElement(lr.a,{container:!0,justify:"space-between"},U.a.createElement(lr.a,{item:!0},U.a.createElement(ja.a,{variant:"subtitle2",color:"inherit"},i)),U.a.createElement(lr.a,{item:!0},U.a.createElement(ur.a,{onClick:function(e){return a=e,n=t.tabId,gr("in handleCloseTab: ",n),a.stopPropagation(),void r($n.closeTab(n));var a,n}})))})})))),n.map((function(e){var a=Fe.getTabController(e.tabId).getTabPanelComp();return U.a.createElement(hr,{key:e.tabId,tabId:e.tabId,activeTabId:t},U.a.createElement(a,null))})))}var pr=Object(D.a)((function(e){return{tabPreview:{fontStyle:"italic"},tabPermanent:{}}})),hr=function(e){var t=e.tabId,a=e.activeTabId,n=e.children;return U.a.createElement(Ue.a,{hidden:t!==a,style:{height:"calc(100% - 97px)"}},U.a.createElement(cr.a,{padding:1},n))};function vr(e){var t=e.children;return U.a.createElement(lr.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}function br(){var e=yr();return U.a.createElement(Ue.a,{className:e.root,style:{height:"calc(100% - 48px)"}},U.a.createElement(vr,null,U.a.createElement("img",{src:"visualize-it-logo.png",width:"300",alt:"Logo",className:e.entry})),U.a.createElement(vr,null,U.a.createElement(ja.a,{variant:"h4",color:"inherit",noWrap:!0,className:e.entry},"Your View into External Systems!")),U.a.createElement(vr,null,U.a.createElement("img",{src:"visualize-it-logo-eyes.jpg",alt:"Logo Eyes",className:e.entry})))}var yr=Object(D.a)((function(e){return{root:{padding:e.spacing(3,2,15)},entry:{marginTop:e.spacing(2)}}})),Or=[Object(or.featureRoute)({content:function(e){e.fassets;var t=e.appState;return 0===rr(t)?U.a.createElement(br,null):U.a.createElement(fr,null)}})],kr=Object(me.createFeature)({name:"tabManager",fassets:{define:{"actions.activateTab":$n.activateTab,"actions.closeTab":$n.closeTab,"sel.getTotalTabs":rr,"sel.getActiveTabId":tr}},reducer:Zn,logic:ir,route:Or}),Er=[Object(Zt.b)({name:"".concat("toolBar",".syncDispModeChangesToObjectModel"),type:String(Ua.dispModeChanged),process:function(e,t,a){var n=e.getState,r=e.action,i=e.fassets,o=n(),c=i.sel.getActiveTabId(o);Fe.getTabController(c).getTarget().setDispMode(r.dispMode),a()}})],jr=Object(me.createFeature)({name:"toolBar",reducer:Da,logic:Er}),Cr=null,wr=[Object(Zt.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var a=e.action;"verbose"===Qe&&console.group("Action: ".concat(a.type)),console.log("Dispatched Action: ",a),t(a)},process:function(e,t,a){var n=e.getState;e.action,e.fassets;if("verbose"===Qe){var r=n();r===Cr?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),Cr=r,console.groupEnd()}a()}})],Sr=Object(me.createFeature)({name:"logActions",enabled:!!Qe,logic:wr});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nr=[kt,Fn,Xn,kr,jr,xt,Object(me.createFeature)({name:"pwa",appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}),Sr],Pr=a(237),Tr=[Object(zt.createReducerAspect)(),Object(Pr.createLogicAspect)(),Object(or.createRouteAspect)({fallbackElm:U.a.createElement(mn,{msg:"I'm trying to think but it hurts!"})})],Rr=Object(me.launchApp)({features:Nr,aspects:Tr,registerRootAppElm:function(e){Xe.a.render(e,document.getElementById("root"))},showStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;pn(e,t)}});a.d(t,"default",(function(){return Rr}))}},[[258,1,2]]]);
//# sourceMappingURL=main.b77d3a89.chunk.js.map