(this["webpackJsonpvisualize-it"]=this["webpackJsonpvisualize-it"]||[]).push([[0],{258:function(e,t,a){e.exports=a(379)},259:function(e,t){if(!Error.prototype.defineUserMsg){Error.prototype.defineUserMsg=function(e){return this.userMsg=e,this.expected=!0,this},Error.prototype.userMsg="Unexpected Condition",Error.prototype.isExpected=function(){return this.expected},Error.prototype.expected=!1,Error.prototype.isUnexpected=function(){return!this.expected},Error.prototype.defineAttemptingToMsg=function(e){return this.attemptingToMsg?this.attemptingToMsg+=", -and- ".concat(e):this.attemptingToMsg+=" ... attempting to: ".concat(e),this},Error.prototype.attemptingToMsg="",Error.prototype.formatUserMsg=function(){return this.userMsg+this.attemptingToMsg};var a=Error.prototype.toString;Error.prototype.toString=function(){return a.call(this)+"\n\nUser Msg: "+this.formatUserMsg()}}},379:function(e,t,a){"use strict";a.r(t);a(259);var n=a(22),r=a(2),i=a(10),o=a(9),c=a(27),s=a(33),u=a(14),l=a(38),d=a(28),m=a(5),f=a(19);function h(e,t){if(!e)throw new Error(t)}h.prefix=function(e){return function(t,a){return h(t,e+a)}};var g=a(189),p=a.n(g),v=a(36),b=a.n(v),y=a(190),O=a.n(y),k=a(57),j=a.n(k),E=a(50),C=a.n(E),S=(a(85),b.a);function w(e){return"number"===typeof e}function P(e){return e&&e.isaSmartObject&&e.isaSmartObject()}function N(e){return e&&e.isaEPkg&&e.isaEPkg()}function R(e,t,a){var n=Object.keys(t);e(0===n.length,"unrecognized named parameter(s): ".concat(n)),e(a.length<=1,"unrecognized positional parameters (only named parameters can be specified) ... ".concat(a.length," arguments were supplied"))}var T=function(){function e(){Object(i.a)(this,e),this.pkgCatalog={}}return Object(o.a)(e,[{key:"registerPkg",value:function(e){var t,a=h.prefix("".concat(this.constructor.unmangledName,".registerPkg() parameter violation: "));a(e,"smartPkg is required"),a((t=e)&&t.isaPkg&&t.isaPkg(),"smartPkg must be a SmartPkg object");var n=e.getPkgId();if(this.pkgCatalog[n])throw new Error("***ERROR*** ".concat(this.constructor.unmangledName,".registerPkg() pkgId: ").concat(n," is already registered :-(")).defineUserMsg("The visualize-it '".concat(n,"' package is already loaded"));this.pkgCatalog[n]=e}},{key:"getPkg",value:function(e){var t=h.prefix("PkgManager.getPkg() parameter violation: ");return t(e,"pkgId is required"),t(C()(e),"pkgId must be a string"),this.pkgCatalog[e]}},{key:"getClassRef",value:function(e,t){var a=h.prefix("PkgManager.getClassRef() parameter violation: ");a(e,"pkgId is required"),a(C()(e),"pkgId must be a string"),a(t,"className is required"),a(C()(t),"className must be a string");var n=this.pkgCatalog[e];if(!n)throw new Error("***ERROR*** PkgManager.getClassRef(pkgId:".concat(e,", className:").concat(t,") package is NOT cataloged ... did you forget to load a dependent package?")).defineUserMsg("The '".concat(e,"/").concat(t,"' class has been referenced, but the '").concat(e,"' package has NOT been loaded ... did you forget to load this dependent package?"));var r=n.getClassRef(t);if(!r)throw new Error("***ERROR*** PkgManager.getClassRef(pkgId:".concat(e,", className:").concat(t,") class NOT in package :-("));return r}},{key:"getPkgEntry",value:function(e,t){var a=h.prefix("PkgManager.getPkgEntry() parameter violation: ");a(e,"pkgId is required"),a(C()(e),"pkgId must be a string"),a(t,"entryId is required"),a(C()(t),"entryId must be a string");var n=this.pkgCatalog[e];if(n)return n.getPkgEntry(t)}}]),e}();T.unmangledName="PkgManager";var I=new T,x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=void 0===a?"TYPE":a,o=t.name,c=void 0===o?"the MASTER pseudoClass definition of type: ... see container.id":o,s=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var u=h.prefix("PseudoClass() constructor parameter violation: ");u(n,"id is required"),u(C()(n),"id must be a string"),u(c,"name is required"),u(C()(c),"name must be a string"),R(u,s,arguments),this.id=n,this.name=c||n}return Object(o.a)(e,[{key:"isType",value:function(){return"TYPE"===this.id}},{key:"isInstance",value:function(){return!this.isType()}}],[{key:"isPseudoClassMaster",value:function(e){return e.pseudoClass&&e.pseudoClass.isType()}},{key:"getClassName",value:function(e){var t=h.prefix("PseudoClass.getClassName() parameter violation: ");return t(e,"clazz is required"),this.isPseudoClassMaster(e)?e.id:S(e)?e.unmangledName||e.name:void t(!1,"clazz must be a real class or a pseudoClass MASTER")}}]),e}();x.unmangledName="PseudoClass";var M=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),t}(a(222).Enumify);function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=function(e){var t=h.prefix("createTypeRefHandler() parameter violation: ");t(j()(e),"only named parameters may be supplied");var a=e.handleNoRef,n=e.handlePrimitive,i=e.handleArray,o=e.handlePlainObj,c=e.handleSmartObj,s=e.handleNonSmartObj,u=e.handleClass,l=Object(r.a)(e,["handleNoRef","handlePrimitive","handleArray","handlePlainObj","handleSmartObj","handleNonSmartObj","handleClass"]);t(a,"handleNoRef is required"),t(b()(a),"handleNoRef must be a function"),t(n,"handlePrimitive is required"),t(b()(n),"handlePrimitive must be a function"),t(i,"handleArray is required"),t(b()(i),"handleArray must be a function"),t(o,"handlePlainObj is required"),t(b()(o),"handlePlainObj must be a function"),t(c,"handleSmartObj is required"),t(b()(c),"handleSmartObj must be a function"),t(s,"handleNonSmartObj is required"),t(b()(s),"handleNonSmartObj must be a function"),t(u,"handleClass is required"),t(b()(u),"handleClass must be a function");var d=Object.keys(l);return t(0===d.length,"unrecognized named parameter(s): ".concat(d)),t(arguments.length<=1,"unrecognized positional parameters (only named parameters may be specified) ... ".concat(arguments.length," positional parameters were found")),{handleNoRef:a,handlePrimitive:n,handleArray:i,handlePlainObj:o,handleSmartObj:c,handleNonSmartObj:s,handleClass:u}}(e),function(t,a){return void 0===t||null===t?e.handleNoRef(t,a):Array.isArray(t)?e.handleArray(t,a):S(t)?e.handleClass(t,a):O()(t)?P(t)?e.handleSmartObj(t,a):j()(t)?e.handlePlainObj(t,a):e.handleNonSmartObj(t,a):e.handlePrimitive(t,a)}}M.view=new M,M.edit=new M,M.animate=new M,M._=M.closeEnum();var U=a(238);function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=""+e;return U.a.crc32(a,t)}var D=a(0),L=a.n(D),F=a(176),q=a(128),V=a(429);function B(e){var t=H();return L.a.createElement(F.SnackbarProvider,{maxSnack:3,dense:!0,className:t.variantSuccess},L.a.createElement(W,null,e.children))}var H=Object(q.a)((function(e){return{variantSuccess:{whiteSpace:"pre-line"},variantInfo:{whiteSpace:"pre-line"},variantWarning:{whiteSpace:"pre-line"},variantError:{whiteSpace:"pre-line"}}})),J=null,K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))),h(!J,"<Notify> only ONE Notify instance should be instantiated in the app (at the top-level)."),J=Object(s.a)(a),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"display",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.msg,n=t.duration,i=void 0===n?5:n,o=t.level,c=void 0===o?"success":o,s=t.position,u=void 0===s?"bottom-left":s,l=t.modal,d=void 0!==l&&l,m=t.actions,f=void 0===m?[]:m,g=Object(r.a)(t,["msg","duration","level","position","modal","actions"]),p=h.prefix("notify() parameter violation: ");p(a,"directive.msg is required"),p(C()(a),"msg must be a string"),null!==i&&p(i>=1&&i<=20,"supplied duration (".concat(i,") must be a number between 1 and 20 (inclusive).")),p(_[c],"invalid level: '".concat(c,"', expecting one of ").concat(Object.keys(_),".")),p(G[u],"invalid position: '".concat(u,"', expecting one of ").concat(Object.keys(G),".")),p(!0===d||!1===d,"supplied modal (".concat(d,") must be a boolean true/false.")),p(f,"actions must be an Action[] array"),p(Array.isArray(f),"actions must be an Action[] array"),f.forEach((function(e,t){p(e.txt,"action[".concat(t,"].txt is required")),p(C()(e.txt),"action[".concat(t,"].txt be a string ... NOT: ").concat(e.txt)),e.action&&p(b()(e.action),"action[".concat(t,"].action (when supplied) must be a function ... NOT: ").concat(e.action))})),R(p,g,arguments);var v=i?1e3*i:null;i||0!==f.length||(f=[{txt:"OK"}]);var y=f.reduce((function(e,t){return e[t.txt]=t.action||Y,e}),{}),O=f.map((function(e,t){return L.a.createElement(V.a,{key:t,color:"default",size:"small"},e.txt)})),k=this.props.enqueueSnackbar(a,{variant:_[c],autoHideDuration:v,anchorOrigin:G[u],action:O,onClick:function(t){e.props.closeSnackbar(k);var a=y[t.target.textContent];setTimeout((function(){return a()}),400)}})}},{key:"render",value:function(){return L.a.createElement(L.a.Fragment,null,this.props.children)}}]),t}(L.a.Component),_={success:"success",info:"info",warn:"warning",error:"error"},G={"top-left":{vertical:"top",horizontal:"left"},"top-center":{vertical:"top",horizontal:"center"},"top-right":{vertical:"top",horizontal:"right"},"bottom-left":{vertical:"bottom",horizontal:"left"},"bottom-center":{vertical:"bottom",horizontal:"center"},"bottom-right":{vertical:"bottom",horizontal:"right"}},Y=function(e){return e},W=Object(F.withSnackbar)(K);function X(e){h(J,"notify(): NO <Notify> instance has been established in the app root."),J.display(e)}function $(e,t){var a=e.msg,n=e.duration,i=void 0===n?5:n,o=e.actions,c=Object(r.a)(e,["msg","duration","actions"]),s=t?".".concat(t):"",u=h.prefix("toast".concat(s,"() parameter violation: "));u(a,"msg named parameter is required");var l=Object.keys(c);u(0===l.length,"unrecognized named parameter(s): ".concat(l)),X({msg:a,duration:i,level:t,position:"bottom-left",modal:!1,actions:o})}function Q(e){$(e)}function Z(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=h.prefix("alert".concat(o,"() parameter violation: "));c(a,"msg named parameter is required");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),X({msg:a,duration:null,level:t,position:"top-center",modal:!0,actions:n})}function ee(e){Z(e)}function te(e,t){var a=e.msg,n=e.actions,i=Object(r.a)(e,["msg","actions"]),o=t?".".concat(t):"",c=h.prefix("confirm".concat(o,"() parameter violation: "));c(a,"msg named parameter is required"),c(n&&n.length>0,"client-specific actions are required.");var s=Object.keys(i);c(0===s.length,"unrecognized named parameter(s): ".concat(s)),X({msg:a,duration:null,level:t,position:"top-right",modal:!0,actions:n})}function ae(e){te(e)}W.displayName="NotifyAPI_withSnackBar",Q.success=function(e){$(e,"success")},Q.info=function(e){$(e,"info")},Q.warn=function(e){$(e,"warn")},Q.error=function(e){$(e,"error")},ee.success=function(e){Z(e,"success")},ee.info=function(e){Z(e,"info")},ee.warn=function(e){Z(e,"warn")},ee.error=function(e){Z(e,"error")},ae.success=function(e){te(e,"success")},ae.info=function(e){te(e,"info")},ae.warn=function(e){te(e,"warn")},ae.error=function(e){te(e,"error")};var ne=a(73),re=ne.generateActions.root(Object(m.a)({},"changeManager",{registerEPkg:{actionMeta:{traits:["ePkgId","crc","baseCrc"]}},ePkgChanged:{actionMeta:{traits:["ePkgId","crc","baseCrc"]}},undoRedoChanged:{actionMeta:{traits:["pkgEntryId","undoAvail","redoAvail"]}}})),ie=new(function(){function e(){Object(i.a)(this,e),this.dispatch=null,this.requestCache=[],this.undoRedoHash={}}return Object(o.a)(e,[{key:"injectDependency",value:function(e){var t=this;this.dispatch=e,this.requestCache.forEach((function(e){return t.dispatchAction(e)})),this.requestCache=[]}},{key:"dispatchAction",value:function(e){this.dispatch?this.dispatch(e):this.requestCache.push(e)}},{key:"registerEPkg",value:function(e){var t=h.prefix("changeManager.registerEPkg() parameter violation: ");t(e,"ePkg is required"),t(N(e),"ePkg must be an EPkg smartObject"),this.dispatchAction(re.registerEPkg(e.getEPkgId(),e.getCrc(),e.getBaseCrc()))}},{key:"ePkgChanged",value:function(e){var t=h.prefix("changeManager.ePkgChanged() parameter violation: ");t(e,"ePkg is required"),t(N(e),"ePkg must be an EPkg smartObject"),this.dispatchAction(re.ePkgChanged(e.getEPkgId(),e.getCrc(),e.getBaseCrc()))}},{key:"applyChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.changeFn,a=e.undoFn,n=Object(r.a)(e,["changeFn","undoFn"]),i=h.prefix("changeManager.applyChange() parameter violation: ");i(t,"changeFn is required"),i(b()(t),"changeFn must be a function"),i(a,"undoFn is required"),i(b()(a),"undoFn must be a function"),R(i,n,arguments);var o=ce(i,t,!1),c=o.getPkgEntry().getEPkgId();this.registerUndoRedoOp(c,a,t)}},{key:"registerUndoRedoOp",value:function(e,t,a){var n=this.undoRedoHash[e];n||(n=this.undoRedoHash[e]=new oe(e));var r={undoAvail:n.isUndoAvail(),redoAvail:n.isRedoAvail()};n.registerOp(t,a);var i={undoAvail:n.isUndoAvail(),redoAvail:n.isRedoAvail()};p()(r,i)||this.dispatchAction(re.undoRedoChanged(e,i.undoAvail,i.redoAvail))}},{key:"applyUndo",value:function(e){var t=h.prefix("*** ERROR *** changeManager.applyUndo(): ");t(e,"parameter violation: pkgEntryId is required"),t(C()(e),"parameter violation: pkgEntryId must be a function");var a=this.undoRedoHash[e];t(a,"pkgEntryId: '".concat(e,'\' has NO "change management" applied to it (cannot apply an undo operation)'));var n={undoAvail:a.isUndoAvail(),redoAvail:a.isRedoAvail()};a.applyUndo(t);var r={undoAvail:a.isUndoAvail(),redoAvail:a.isRedoAvail()};p()(n,r)||this.dispatchAction(re.undoRedoChanged(e,r.undoAvail,r.redoAvail))}},{key:"applyRedo",value:function(e){var t=h.prefix("*** ERROR *** changeManager.applyRedo(): ");t(e,"parameter violation: pkgEntryId is required"),t(C()(e),"parameter violation: pkgEntryId must be a function");var a=this.undoRedoHash[e];t(a,"pkgEntryId: '".concat(e,'\' has NO "change management" applied to it (cannot apply an redo operation)'));var n={undoAvail:a.isUndoAvail(),redoAvail:a.isRedoAvail()};a.applyRedo(t);var r={undoAvail:a.isUndoAvail(),redoAvail:a.isRedoAvail()};p()(n,r)||this.dispatchAction(re.undoRedoChanged(e,r.undoAvail,r.redoAvail))}}]),e}()),oe=function(){function e(t){Object(i.a)(this,e),this.pkgEntryId=t,this.stack=[],this.cur=-1}return Object(o.a)(e,[{key:"registerOp",value:function(e,t){for(;this.isRedoAvail();)this.stack.pop();this.stack.push([e,t]),this.cur=this.stack.length-1}},{key:"isUndoAvail",value:function(){return this.cur>=0}},{key:"applyUndo",value:function(e){e(this.isUndoAvail(),"pkgEntryId: '".concat(this.pkgEntryId,'\' DOES NOT currently have an "undo" operation available'));var t=Object(f.a)(this.stack[this.cur],1)[0];this.cur--,ce(e,t,void 0)}},{key:"isRedoAvail",value:function(){return this.cur<this.stack.length-1}},{key:"applyRedo",value:function(e){e(this.isRedoAvail(),"pkgEntryId: '".concat(this.pkgEntryId,'\' DOES NOT currently have a "redo" operation available')),this.cur++,ce(e,Object(f.a)(this.stack[this.cur],2)[1],!0)}}]),e}();function ce(e,t){var a=t(arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return e(P(a),"the execution of app-level change functions (registered to changeManager) MUST return a targetObj that is a SmartObject (type: SmartModel)"),a.trickleUpChange(),a}function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=t.name,o=Object(r.a)(t,["id","name"]);Object(i.a)(this,e);var c=h.prefix("".concat(this.diagClassName(),"(id:'").concat(a,"', name:'").concat(n,"') constructor parameter violation: "));c(a,"id is required"),c(C()(a),"id must be a string"),n&&c(C()(n),"name (when supplied) must be a string"),R(c,o,arguments),this.id=a,this.name=n||a,this.dispMode=M.view}return Object(o.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"isaSmartObject",value:function(){return!0}},{key:"getEncodingProps",value:function(){return["id","name"]}},{key:"encodingPropsForEach",value:function(e){var t=this,a=h.prefix("".concat(this.diagClassName(),".encodingPropsForEach() parameter violation: "));a(e,"cbFn is required"),a(b()(e),"cbFn must be a function"),this.getEncodingProps().forEach((function(a){var n=Array.isArray(a)?a:[a,"DeFaUlT NoT dEfInEd"],r=Object(f.a)(n,2),i=r[0],o=r[1],c=t[i];e(i,c,o)}))}},{key:"encodingPropsReduce",value:function(e,t){var a=this,n=h.prefix("".concat(this.diagClassName(),".encodingPropsReduce() parameter violation: "));return n(e,"cbFn is required"),n(b()(e),"cbFn must be a function"),n(void 0!==t,"initialAccum is required"),this.getEncodingProps().reduce((function(t,n){var r=Array.isArray(n)?n:[n,"DeFaUlT NoT dEfInEd"],i=Object(f.a)(r,2),o=i[0],c=i[1],s=a[o];return e(t,o,s,c)}),t)}},{key:"getCrc",value:function(){var e=de.getCrcRefHandler=de.getCrcRefHandler||A({handleNoRef:function(e,t){return z(e,t)},handlePrimitive:function(e,t){return z(e,t)},handleArray:function(t,a){return t.reduce((function(t,a){return e(a,t)}),a)},handlePlainObj:function(t,a){return Object.entries(t).reduce((function(t,a){var n=Object(f.a)(a,2),r=n[0],i=n[1];return t=z(r,t),t=e(i,t)}),a)},handleSmartObj:function(e,t){return z(e.getCrc(),t)},handleNonSmartObj:function(e,t){throw new Error("***ERROR*** SmartObject.getCrc() traversal encountered an object reference of unsupported type: ".concat(e.constructor.name," :-("))},handleClass:function(e,t){return z(e.name,t)}});return this._crc||(this._crc=this.encodingPropsReduce((function(t,a,n,r){return t=z(a,t),t=e(n,t)}),0)),this._crc}},{key:"isInSync",value:function(){return this.getBaseCrc()===this.getCrc()}},{key:"getBaseCrc",value:function(){return this._baseCrc}},{key:"resetBaseCrc",value:function(){var e=de.resetBaseCrcRefHandler=de.resetBaseCrcRefHandler||A({handleNoRef:function(e){},handlePrimitive:function(e){},handleArray:function(t){return t.forEach((function(t){return e(t)}))},handlePlainObj:function(t){return Object.values(t).forEach((function(t){return e(t)}))},handleSmartObj:function(e){return e.resetBaseCrc()},handleNonSmartObj:function(e){throw new Error("***ERROR*** SmartObject.resetBaseCrc() traversal encountered an object reference of unsupported type: ".concat(e.constructor.name," :-("))},handleClass:function(e){}}),t=this._baseCrc;this.encodingPropsForEach((function(t,a,n){return e(a)}));var a=t!==(this._baseCrc=this.getCrc());this.isaEPkg()&&a&&ie.ePkgChanged(this)}},{key:"mount",value:function(e){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".mount() is an abstract method that MUST BE implemented!"))}},{key:"isMounted",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".isMounted() is an abstract method that MUST BE implemented!"))}},{key:"unmount",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".unmount() is an abstract method that MUST BE implemented!"))}},{key:"childRefChanged",value:function(e,t){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".childRefChanged() is an abstract method that MUST BE implemented!"))}},{key:"isClassOutOfSync",value:function(){var e=this.getClassRef();return!!e.isPseudoClass()&&e.getClassVersionCrc()!==this.pseudoClass.versionCrcUsedInCreation}},{key:"areClassesOutOfSync",value:function(){var e=de.outOfSyncHandler=de.outOfSyncHandler||A({handleNoRef:function(e,t){return t||!1},handlePrimitive:function(e,t){return t||!1},handleArray:function(t,a){return t.reduce((function(t,a){return t||e(a,t)}),a)},handlePlainObj:function(t,a){return Object.values(t).reduce((function(t,a){return t||e(a,t)}),a)},handleSmartObj:function(e,t){return t||e.areClassesOutOfSync()},handleNonSmartObj:function(e,t){throw new Error("***ERROR*** SmartObject.areClassesOutOfSync() traversal encountered an object reference of unsupported type: ".concat(e.constructor.name," :-("))},handleClass:function(e,t){return t||!1}});return!!this.isClassOutOfSync()||this.encodingPropsReduce((function(t,a,n,r){return t||e(n,t)}),!1)}},{key:"syncClassInstances",value:function(){var e=de.syncClassHandler=de.syncClassHandler||A({handleNoRef:function(e,t){},handlePrimitive:function(e,t){},handleArray:function(t,a){return t.forEach((function(t){return e(t)}))},handlePlainObj:function(t,a){return Object.values(t).forEach((function(t){return e(t)}))},handleSmartObj:function(e,t){return e.syncClassInstances()},handleNonSmartObj:function(e,t){throw new Error("***ERROR*** SmartObject.syncClassInstances() traversal encountered an object reference of unsupported type: ".concat(e.constructor.name," :-("))},handleClass:function(e,t){}});if(this.isClassOutOfSync()){h(!this.isMounted(),"".concat(this.diagClassName(),".syncClassInstances() ... invoker must first issue unmount() on self."));var t=this.smartClone(),a=this.parent;a&&(t.parent=a,a.childRefChanged(this,t));var n=this.viewParent;n&&(t.viewParent=n,n.childRefChanged(this,t))}else this.encodingPropsForEach((function(t,a,n){return e(a)}))}},{key:"isaPkg",value:function(){return!1}},{key:"getPkg",value:function(){if(this.isaPkg())return this;var e=this.getParent();return e?e.getPkg():void 0}},{key:"isaPkgEntry",value:function(){return!!this._pkgEntry}},{key:"getPkgEntry",value:function(){if(this.isaPkgEntry())return this;var e=this.getParent();return e?e.getPkgEntry():void 0}},{key:"markAsPkgEntry",value:function(){this._pkgEntry=!0,ie.registerEPkg(this)}},{key:"isaEPkg",value:function(){return this.isaPkg()||this.isaPkgEntry()}},{key:"getEPkgId",value:function(){if(this.isaPkg())return this.getPkgId();if(this.isaPkgEntry())return"".concat(this.getPkg().getPkgId(),"/").concat(this.getId());throw new Error("***ERROR*** ".concat(this.diagClassName(),".getEPkgId() [id:").concat(this.id,"]: self is NOT an EPkg!"))}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){this.parent=e}},{key:"isaView",value:function(){return!1}},{key:"getView",value:function(){if(this.isaView())return this;var e=this.getViewParent();return e?e.getView():void 0}},{key:"getViewParent",value:function(){return this.viewParent?this.viewParent:this.parent}},{key:"setViewParent",value:function(e){this.viewParent=e}},{key:"trickleUpChange",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.getSize&&e){var t=this.sizeCache?this.sizeCache:{width:-1,height:-1};this.sizeCache=void 0;var a=this.getSize();(e=!(t.width===a.width&&t.height===a.height))&&this.bindSizeChanges(t,a)}var n=this._crc;this._crc=void 0;var r=this.getCrc(),i=n!==r;this.isaEPkg()&&i&&ie.ePkgChanged(this);var o=this.parent;o&&o.trickleUpChange(e);var c=this.viewParent;c&&c.trickleUpChange(e)}},{key:"getDispMode",value:function(){return this.dispMode}},{key:"setDispMode",value:function(e){var t=h.prefix("".concat(this.diagClassName(),".setDispMode() parameter violation: "));if(t(e,"dispMode is required"),t(e instanceof M,"dispMode must be a DispMode type"),t(this.canHandleDispMode(e),"does NOT support ".concat(e," :-(")),this.dispMode=e,e===M.view)this.enableViewMode();else if(e===M.edit){var a=this.getPkg();if(!a.canPersist())return void Q.warn({msg:'The "'.concat(this.getName(),'" resource cannot be edited ')+'... normally it can, however it belongs to the "'.concat(a.getPkgName(),'" package which ')+"contains code (therefore you would not be able to save your changes)."});this.enableViewMode(),this.enableEditMode()}else{if(e!==M.animate)throw new Error("***ERROR*** ".concat(this.diagClassName(),".setDispMode() [id:").concat(this.id,"]: unrecognized dispMode: ").concat(e,"!"));this.enableViewMode(),this.enableAnimateMode()}}},{key:"canHandleDispMode",value:function(e){return!0}},{key:"enableViewMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableViewMode() is an abstract method that MUST BE implemented!"))}},{key:"enableEditMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableEditMode() is an abstract method that MUST BE implemented!"))}},{key:"enableAnimateMode",value:function(){throw new Error("***ERROR*** SmartModel pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".enableAnimateMode() is an abstract method that MUST BE implemented!"))}},{key:"toSmartJSON",value:function(){var e=de.toSmartJSONRefHandler=de.toSmartJSONRefHandler||A({handleNoRef:function(e,t){return e},handlePrimitive:function(e,t){return e},handleArray:function(t,a){return t.map((function(t){return e(t)}))},handlePlainObj:function(t,a){return Object.entries(t).reduce((function(t,a){var n=Object(f.a)(a,2),r=n[0],i=n[1];return t[r]=e(i),t}),{})},handleSmartObj:function(e,t){return e.toSmartJSON()},handleNonSmartObj:function(e,t){throw new Error("***ERROR*** SmartObject.toSmartJSON() traversal encountered an object reference of unsupported type: ".concat(e.constructor.name," :-("))},handleClass:function(e,t){throw new Error("***ERROR*** SmartObject.toSmartJSON() traversal encountered reference of unsupported type - class or function: ".concat(e.name," :-("))}}),t=this.getClassRef(),a={smartType:t.getClassName(),smartPkg:t.getClassPkgId()};return x.isPseudoClassMaster(this)&&(a.isPseudoClassMaster=!0),this.encodingPropsForEach((function(t,n,r){n!==r&&(a[t]=e(n))})),a}},{key:"getClassRef",value:function(){var e=h.prefix("".concat(this.constructor.name,".getClassRef() id:'").concat(this.id,"', name:'").concat(this.name,"') ... "));if(this.pseudoClass&&this.pseudoClass.isInstance()){var t=this.pseudoClass.pseudoClassMaster;e(t,"this pseudoClass instance has NO pseudoClassMaster reference ... you must create it with SmartClassRef.createSmartObject()");var a=t.smartClassRef;return e(a,"this pseudoClass instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),a}var n=this.constructor.smartClassRef;return e(n,"this real class instance has NO smartClassRef reference ... it must be managed by a SmartPkg"),n}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}},{key:"smartClone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=de.smartCloneRefHandler=de.smartCloneRefHandler||A({handleNoRef:function(e,t){return e},handlePrimitive:function(e,t){return e},handleArray:function(e,a){return e.map((function(e){return t(e)}))},handlePlainObj:function(e,a){return Object.entries(e).reduce((function(e,a){var n=Object(f.a)(a,2),r=n[0],i=n[1];return e[r]=t(i),e}),{})},handleSmartObj:function(e,t){return e.smartClone()},handleNonSmartObj:function(e,t){throw new Error("***ERROR*** SmartObject.smartClone() traversal encountered an object reference of unsupported type: ".concat(e.constructor.name," :-("))},handleClass:function(e,t){return e}}),a=this.encodingPropsReduce((function(a,n,r,i){if(!e.hasOwnProperty(n)){var o=t(r);a[n]=o}return a}),{}),n=ue({},a,{},e),r=this.getClassRef().createSmartObject(n);return r}}],[{key:"fromSmartJSON",value:function(t,a){if(!t)return t;if(Array.isArray(t))return t.map((function(t){return e.fromSmartJSON(t,a)}));if(j()(t)){if(t.smartType){var n={};for(var r in t){var i=t[r];"smartType"!==r&&"smartPkg"!==r&&"isPseudoClassMaster"!==r&&(n[r]=e.fromSmartJSON(i,a))}return function(e,t){var a=e.smartPkg,n=e.smartType,r=null;if(t&&(r=t(a,n)))return r;try{r=I.getClassRef(a,n)}catch(i){throw console.log("***ERROR*** SmartModel.fromSmartJSON() could not resolve pkgId: ".concat(a," / className: ").concat(n," \n... smartJSON: ").concat(JSON.stringify(e,null,2))),i.defineAttemptingToMsg("hydrate smartObj (see logs for smartJson)")}return r}(t,a).createSmartObject(n)}return Object.entries(t).reduce((function(t,n){var r=Object(f.a)(n,2),i=r[0],o=r[1];return t[i]=e.fromSmartJSON(o,a),t}),{})}return t}}]),e}();le.unmangledName="SmartModel";var de={},me=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=Object(r.a)(a,["id","name"]);return Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o})),R(h.prefix("SmartPallet() constructor parameter violation: "),s,arguments),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getSize",value:function(){throw new Error("***ERROR*** SmartPallet pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".getSize() is an abstract method that MUST BE implemented!"))}},{key:"bindSizeChanges",value:function(e,t){throw new Error("***ERROR*** SmartPallet pseudo-interface-violation [id:".concat(this.id,"]: ").concat(this.diagClassName(),".bindSizeChanges() is an abstract method that MUST BE implemented!"))}}]),t}(le);me.unmangledName="SmartPallet";var fe=a(44),he=a.n(fe);var ge=10,pe=a(16),ve=a(13);function be(e){var t=h.prefix("createLogger() parameter violation: ");t(e,"prefix is required"),t(C()(e),"prefix must be a string");var a=!1,n=function e(t,n){a&&e.force(t,n)};return n.force=function(t,a){t=e+t,a?console.log(t,a):console.log(t)},n.isEnabled=function(){return a},n.enable=function(){return a=!0,n("enabling logging"),n},n.disable=function(){return n("disabling logging"),a=!1,n},n}var ye=be("***DIAG*** SmartClassRef:").disable(),Oe=function(){function e(t,a){Object(i.a)(this,e);var n=h.prefix("SmartClassRef() constructor parameter violation: ");n(t,"classRef is required"),n(a,"pkgId is required"),n(C()(a),"pkgId must be a string"),S(t)?(this.realClass=t,n(t.hasOwnProperty("unmangledName"),"real class ".concat(t.name,' MUST have an "unmangledName" property (supporting persistence in obfuscated production build)'))):t.pseudoClass&&t.pseudoClass.isType()?this.pseudoClassContainer=t:n(!1,"classRef must be a real class -or- pseudoClass"),this.pkgId=a}return Object(o.a)(e,[{key:"isClass",value:function(){return!!this.realClass}},{key:"isPseudoClass",value:function(){return!!this.pseudoClassContainer}},{key:"getClassName",value:function(){return this.pseudoClassContainer?this.pseudoClassContainer.id:this.realClass.unmangledName||this.realClass.name}},{key:"getClassPkgId",value:function(){return this.pkgId}},{key:"getFullClassName",value:function(){return"".concat(this.getClassPkgId(),"/").concat(this.getClassName())}},{key:"getClassVersionCrc",value:function(){return this.pseudoClassContainer?this.pseudoClassContainer.getCrc():0}},{key:"createSmartObject",value:function(e){var t=null,a="";if(this.realClass)a="real",t=new this.realClass(e);else{a="pseudo";var n=this.pseudoClassContainer;(t=n.smartClone(e)).pseudoClass.id=n.id,t.pseudoClass.name="a pseudoClass instance of type: '".concat(n.id,"'"),t.pseudoClass.pseudoClassMaster=n,t.pseudoClass.versionCrcUsedInCreation=n.getCrc()}return ye("createSmartObject() created new object from ".concat(a," class: '").concat(this.getFullClassName(),"' ... using namedParams: "),{namedParams:e,newObj:t}),t}}]),e}(),ke=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.compClassRef,d=Object(r.a)(a,["id","name","compClassRef"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var m=h.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));m(l,"compClassRef is required"),m(l instanceof Oe,"compClassRef must be a SmartClassRef type"),R(m,d,arguments);var f=l.getClassName(l);return e.comp=l.createSmartObject({id:"comp-".concat(f),x:ge,y:ge}),e.scene=new Qe({id:"view-".concat(f),comps:[e.comp]}),e.scene.setParent(Object(s.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getCompInstance",value:function(){return this.comp}},{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this)),["compClassRef"])}},{key:"mount",value:function(e){this.containingKonvaStage=e,this.scene.mount(e)}},{key:"isMounted",value:function(){return!!this.containingKonvaStage}},{key:"unmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.containingKonvaStage=null,this.scene.unmount(e)}},{key:"getSize",value:function(){return this.sizeCache?this.sizeCache:(this.scene.sizeCache=void 0,this.sizeCache=this.scene.getSize(),this.sizeCache)}},{key:"bindSizeChanges",value:function(e,t){this.scene.bindSizeChanges(e,t)}}]),t}(me);ke.unmangledName="CompRef";var je=a(138),Ee=a.n(je),Ce=a(139),Se=a.n(Ce),we=a(431),Pe=a(430),Ne=be("***DIAG*** <LeftNavMenuPallet> ... ").disable();var Re=L.a.memo((function(e){var t=e.smartPkg,a=Te(),n=Object(pe.useDispatch)(),r=Object(ve.useFassets)("actions.activateTab"),i=function(e,t,a){Ne("handleActivateTab( tabId:'".concat(e,"', tabName:'").concat(t,"', preview=").concat(a," )")),n(r(e,a))},o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n?(clearTimeout(n),n=null,t.apply(void 0,i)):n=setTimeout((function(){e.apply(void 0,i),n=null}),a)}}((function(e,t){return i(e,t,!0)}),(function(e,t){return i(e,t,!1)})),c=Object(ve.useFassets)(),s=Object(pe.useSelector)((function(e){return c.sel.isEPkgInSync(e,t.getEPkgId())}),pe.shallowEqual),u=t.getPkgName()+(s?"":" **");return Ne("rendering top-level content for smartPkg.id: ".concat(t.id," ... expecting ONE TIME (for this entry)")),L.a.createElement(Ve,{name:u},L.a.createElement(Pe.a,{className:a.root,defaultCollapseIcon:L.a.createElement(Ee.a,null),defaultExpandIcon:L.a.createElement(Se.a,null)},function(e,t){return function a(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getPkgId();if(j()(n)){var i=[];for(var o in n){var c=n[o],s="".concat(r,"-").concat(o);Ne("genTreeItems(): TreeItem directory node: ".concat(o)),i.push(L.a.createElement(we.a,{key:s,nodeId:s,label:o},a(c,s)))}return i}if(Array.isArray(n))return n.map((function(n){if(P(n)){var i=n,o="".concat(r,"-").concat(i.id),c=null;if(i instanceof Qe)c=new We(o,i.name,i);else{if(!(i instanceof Ze)){var s="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED smartObj entry (under accumulativeId: ".concat(o,")  ... must be a Scene or Collage ... see logs for entry");throw console.error(s,{smartObj:i}),new Error(s)}c=new Xe(o,i.name,i)}return Je.registerTab(c),Ne("genTreeItems(): TreeItem tabManager node ... nodeId: ".concat(o)),L.a.createElement(Ie,{key:o,nodeId:o,ePkg:i,onClick:function(){return t(o,i.name)}})}if(S(n)){var u=new Oe(n,e.getPkgId()),l=u.getClassName(),d="".concat(r,"-").concat(l),m=new ke({id:l,name:l,compClassRef:u});return m.setParent(e),m.markAsPkgEntry(),m.getCompInstance().markAsPkgEntry(),m.resetBaseCrc(),m.getCompInstance().resetBaseCrc(),Je.registerTab(new $e(d,l,m)),Ne("genTreeItems(): TreeItem tabManager node ... nodeId: ".concat(d)),L.a.createElement(Ie,{key:d,nodeId:d,ePkg:m,onClick:function(){return t(d,l)}})}if(j()(n))return a(n,r);var f="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED array entry (under accumulativeId: ".concat(r,")  ... must be a smartObj or plain nested directory object ... see logs for entry");throw console.error(f,{arrItem:n}),new Error(f)}));var u="***ERROR*** <LeftNavMenuPallet> found UNSUPPORTED SmartPkg entry (under accumulativeId: ".concat(r,")  ... must be a plain directory object or an array of smartObjs ... see logs for entry");throw console.error(u,{entry:n}),new Error(u)}(e.entries)}(t,o)))})),Te=Object(q.a)((function(e){return{root:{flexGrow:1,maxWidth:400}}}));function Ie(e){var t=e.nodeId,a=e.ePkg,n=e.onClick,r=Object(ve.useFassets)(),i=Object(pe.useSelector)((function(e){return r.sel.isEPkgInSync(e,a.getEPkgId())}),pe.shallowEqual),o=a.getName()+(i?"":" **");return L.a.createElement(we.a,{nodeId:t,label:o,onClick:n})}var xe=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.entries,d=void 0===l?{}:l,m=Object(r.a)(a,["id","name","entries"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var f=h.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return f(d,"entries is required"),f(j()(d),"entries must be a plain object (with depth)"),R(f,m,arguments),e.entries=d,e.initializeCatalogs(e.entries),e.adornContainedClasses(),Object.values(e._entryCatalog).forEach((function(e){e.markAsPkgEntry()})),e.resetBaseCrc(),ie.registerEPkg(Object(s.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this)),["entries"])}},{key:"getPkgId",value:function(){return this.id}},{key:"getPkgName",value:function(){return this.name}},{key:"isaPkg",value:function(){return!0}},{key:"getPkgResourcePath",value:function(){return this.pkgResourcePath}},{key:"canPersist",value:function(){return!this.entriesContainCode}},{key:"setPkgResourcePath",value:function(e){this.pkgResourcePath=e}},{key:"initializeCatalogs",value:function(e){var t=this;if(e===this.entries&&(this._classRefCatalog={},this._entryCatalog={},this.entriesContainCode=!1),j()(e))for(var a in e){var n=e[a];this.initializeCatalogs(n)}else{if(!Array.isArray(e)){var r="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED entry ... must be a plain directory object or an array of smartObjs ... see logs for entry";throw console.error(r,{entry:e}),new Error(r)}e.forEach((function(e){if(P(e)){var a=e;if(x.isPseudoClassMaster(a)){var n=x.getClassName(a);t._classRefCatalog[n]=a}t._entryCatalog[a.id]=a,a.setParent(t)}else if(S(e)){var r=e;t.entriesContainCode=!0;var i=x.getClassName(r);t._classRefCatalog[i]=r}else{if(!j()(e)){var o="***ERROR*** SmartPkg.initializeCatalogs() found UNSUPPORTED array entry ... must be a smartObj or class or plain nested directory object ... see logs for entry";throw console.error(o,{arrItem:e}),new Error(o)}t.initializeCatalogs(e)}}))}}},{key:"adornContainedClasses",value:function(){var e=this;Object.values(this._classRefCatalog).forEach((function(t){t.smartClassRef=new Oe(t,e.getPkgId())}))}},{key:"getClassRef",value:function(e){return 0===arguments.length?Object(l.a)(Object(u.a)(t.prototype),"getClassRef",this).call(this):this._classRefCatalog[e].smartClassRef}},{key:"getPkgEntry",value:function(e){return this._entryCatalog[e]}}],[{key:"fromSmartJSON",value:function(e){var t=h.prefix("SmartPkg.fromSmartJSON(smartJSON) parameter violation: ");t(e,"smartJSON is required"),t(j()(e),"smartJSON must be a JSON object"),t("SmartPkg"===e.smartType,"smartJSON does NOT represent a SmartPkg object, rather a ".concat(e.smartType," object."));var a={},n=e.id;!function t(r){if(j()(r)){if(r.smartType){if(r.isPseudoClassMaster){var i=le.fromSmartJSON(r);return i.smartClassRef=new Oe(i,n),a[i.id]=i,i}return r}for(var o in r){var c=t(r[o]);r[o]=c}return r}if(Array.isArray(r)){for(var s=0;s<r.length;s++){var u=t(r[s]);r[s]=u}return r}return S(r)?(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (class) ... ",{jsonEntry:r,smartJSON:e}),r):(console.warn("SmartPkg.fromSmartJSON(smartJson).resolvePseudoClassMasters(jsonEntry) PHASE-1: NOT expecting to pass through (primitive) ... ",{jsonEntry:r,smartJSON:e}),r)}(e.entries);try{return le.fromSmartJSON(e,(function(e,t){var r=e===n?a[t]:void 0;return r?r.smartClassRef:void 0}))}catch(r){throw r.defineAttemptingToMsg("hydrate SmartPkg '".concat(n,"'"))}}}]),t}(le);xe.unmangledName="SmartPkg";var Me=new(function(){function e(){Object(i.a)(this,e),this.fassets=null,this.dispatch=null,this.leftNavCache=[]}return Object(o.a)(e,[{key:"injectDependency",value:function(e,t){var a=this;this.fassets=e,this.dispatch=t,this.leftNavCache.forEach((function(e){return a.processAddLeftNav(e)})),this.leftNavCache=[]}},{key:"processAddLeftNav",value:function(e){this.fassets?this.dispatch(this.fassets.actions.addLeftNavItem(e.getPkgName(),(function(){return L.a.createElement(Re,{smartPkg:e})}))):this.leftNavCache.push(e)}},{key:"addLeftNav",value:function(e){var t=h.prefix("".concat(this.constructor.name,".addLeftNav() parameter violation: "));t(e,"smartPkg is required"),t(e instanceof xe,"smartPkg must be a SmartPkg instance"),this.processAddLeftNav(e)}}]),e}()),Ae=a(174),Ue=a(389),ze=a(432),De=a(433),Le=a(224),Fe=a.n(Le),qe=a(152);function Ve(e){var t=e.name,a=e.PaletteIcon,n=void 0===a?Fe.a:a,r=e.children,i=Be(),o=Object(D.useState)(!1),c=Object(f.a)(o,2),s=c[0],u=c[1],l=Object(D.useCallback)((function(){u(!s)}),[s]);return L.a.createElement(L.a.Fragment,null,L.a.createElement(Ue.a,{button:!0,onClick:l},L.a.createElement(ze.a,null,L.a.createElement(n,null)),L.a.createElement(De.a,{primary:t}),s?L.a.createElement(Ee.a,null):L.a.createElement(Se.a,null)),L.a.createElement(Ae.a,{in:s,timeout:"auto"},L.a.createElement(qe.a,{className:i.pallet},r)))}var Be=Object(q.a)((function(e){return{pallet:{margin:e.spacing(0,2,2,2),padding:e.spacing(1)}}})),He=function(){function e(t,a){Object(i.a)(this,e);var n=h.prefix("".concat(this.diagClassName(),"() constructor parameter violation: "));n(t,"tabId is required"),n(C()(t),"tabId must be a string"),n(a,"tabName is required"),n(C()(a),"tabName must be a string"),this.tabId=t,this.tabName=a}return Object(o.a)(e,[{key:"getTabId",value:function(){return this.tabId}},{key:"getTabName",value:function(){return this.tabName}},{key:"getTarget",value:function(){throw new Error("***ERROR*** TabController.getTarget() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"getTabPanelComp",value:function(){return this.TabPanelComp||(this.TabPanelComp=this.createTabPanelComp()),this.TabPanelComp}},{key:"createTabPanelComp",value:function(){throw new Error("***ERROR*** TabController.createTabPanelComp() the ".concat(this.diagClassName()," class derivation MUST implement this abstract method (tabId:").concat(this.tabId,", tabName:").concat(this.tabName,")!!"))}},{key:"diagClassName",value:function(){return this.constructor.unmangledName||this.constructor.name}}]),e}();He.unmangledName="TabController";var Je=new(function(){function e(){Object(i.a)(this,e),this.tabRegistry={}}return Object(o.a)(e,[{key:"registerTab",value:function(e){var t=h.prefix("TabRegistry.registerTab() parameter violation: ");t(e,"tabController is required"),t(e instanceof He,"tabController must be a TabController instance");var a=e.getTabId();this.tabRegistry[a]||(this.tabRegistry[a]=e)}},{key:"getTabController",value:function(e){var t=h.prefix("TabRegistry.getTabController() parameter violation: ");return t(e,"tabId is required"),t(C()(e),"tabId must be a string"),this.tabRegistry[e]}}]),e}()),Ke=be("***DIAG*** <ReactSmartView> ... ").disable();var _e=L.a.memo((function(e){var t=e.view,a=Object(r.a)(e,["view"]),n=Object(D.useRef)(null);Object(D.useEffect)((function(){t.mount(n.current)}),[t]),Ke("here is my view: ",t);var i=t.getSize(),o=i.width,c=i.height;return L.a.createElement("div",Object.assign({ref:n},a,{style:{backgroundColor:"gray",width:o,height:c,border:"1px solid black"}}))})),Ge=be("***DIAG*** <SmartView> ... ").disable(),Ye=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.pallet,d=Object(r.a)(a,["id","name","pallet"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var m=h.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(l,"pallet is required"),m(l instanceof me,"pallet must be a SmartPallet instance"),R(m,d,arguments),e.pallet=l,e.pallet.setViewParent(Object(s.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this)),["pallet"])}},{key:"isaView",value:function(){return!0}},{key:"checkMounted",value:function(e){h(this.isMounted(),"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"getSize",value:function(){return this.pallet.getSize()}},{key:"bindSizeChanges",value:function(e,t){this.konvaStage.size(t),this.konvaStage.draw(),this.containingHtmlElm.style.width="".concat(t.width,"px"),this.containingHtmlElm.style.height="".concat(t.height,"px")}},{key:"mount",value:function(e){Ge("mounting SmartView id: ".concat(this.id)),this.containingHtmlElm=e;var t=this.getSize(),a=t.width,n=t.height;this.konvaStage=new he.a.Stage({container:e,x:0,y:0,width:a,height:n}),this.pallet.mount(this.konvaStage),this.pallet.trickleUpChange()}},{key:"isMounted",value:function(){return!!this.konvaStage}},{key:"unmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ge("unmounting SmartView id: ".concat(this.id)),e||this.konvaStage.destroy(),this.containingHtmlElm=null,this.konvaStage=null,this.pallet.unmount(!0)}}]),t}(le);Ye.unmangledName="SmartView";var We=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(u.a)(t).call(this,e,a));var o=h.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"scene is required"),o(n instanceof Qe,"scene must be a Scene object"),r.scene=n,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.scene}},{key:"createTabPanelComp",value:function(){var e=new Ye({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),pallet:this.scene});return function(){return L.a.createElement(_e,{view:e})}}}]),t}(He),Xe=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(u.a)(t).call(this,e,a));var o=h.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"collage is required"),o(n instanceof Ze,"collage must be a Collage object"),r.collage=n,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.collage}},{key:"createTabPanelComp",value:function(){var e=new Ye({id:"view-".concat(this.getTabId()),name:"view-".concat(this.getTabName()),pallet:this.collage});return function(){return L.a.createElement(_e,{view:e})}}}]),t}(He),$e=function(e){function t(e,a,n){var r;Object(i.a)(this,t),r=Object(c.a)(this,Object(u.a)(t).call(this,e,a));var o=h.prefix("".concat(r.diagClassName(),"() constructor parameter violation: "));return o(n,"compRef is required"),o(n instanceof ke,"compRef must be a CompRef type"),r.compRef=n,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getTarget",value:function(){return this.compRef.getCompInstance()}},{key:"createTabPanelComp",value:function(){var e=new Ye({id:"view-".concat(this.compRef.getId()),pallet:this.compRef});return function(){return L.a.createElement(_e,{view:e})}}}]),t}(He),Qe=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.x,d=void 0===l?0:l,m=a.y,f=void 0===m?0:m,g=a.comps,p=Object(r.a)(a,["id","name","x","y","comps"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var v=h.prefix("".concat(e.diagClassName(),"() constructor parameter violation: "));return v(g,"comps is required"),v(Array.isArray(g),"comps must be a SmartComp[] array"),v(w(d),"x must be a number (when supplied), NOT: ".concat(d)),v(w(f),"y must be a number (when supplied), NOT: ".concat(f)),R(v,p,arguments),e.pseudoClass=new x,e.x=d,e.y=f,e.comps=g,e.comps.forEach((function(t){return t.setParent(Object(s.a)(e))})),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){var e=[["x",0],["y",0]];return this.pseudoClass.isType()&&e.push("comps"),[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this)),e)}},{key:"enableViewMode",value:function(){this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!1)})),this.konvaSceneLayer.off("dragend"),this.containingKonvaStage.off("click tap"),this.containingKonvaStage.find("Transformer").destroy(),this.konvaSceneLayer.getChildren().each((function(e,t){return e.off("transformend")})),this.konvaSceneLayer.draw()}},{key:"enableEditMode",value:function(){var e=this;this.konvaSceneLayer.getChildren().each((function(e,t){return e.draggable(!0)})),this.konvaSceneLayer.on("dragend",(function(t){var a=t.target,n=a.id(),r=e.comps.find((function(e){return e.id===n})),i={x:r.x,y:r.y},o={x:a.x(),y:a.y()},c=function(t){var a=e.comps.find((function(e){return e.id===n}));return a.x=t.x,a.y=t.y,a},s=function(t){var a=e.konvaSceneLayer.findOne("#".concat(n));a.x(t.x),a.y(t.y),e.konvaSceneLayer.draw()};ie.applyChange({changeFn:function(e){var t=c(o);return e&&s(o),t},undoFn:function(){var e=c(i);return s(i),e}})})),this.containingKonvaStage.on("click tap",(function(t){if(t.target===e.containingKonvaStage)return e.containingKonvaStage.find("Transformer").destroy(),void e.konvaSceneLayer.draw();e.containingKonvaStage.find("Transformer").destroy();var a=function e(t){var a=t.getParent();return"Layer"===a.getClassName()?t:e(a)}(t.target),n=new he.a.Transformer;e.konvaSceneLayer.add(n),n.attachTo(a),e.konvaSceneLayer.draw(),a.on("transformend",(function(t){var a=t.target,n=a.id(),r=e.comps.find((function(e){return e.id===n})),i={x:r.x,y:r.y,rotation:r.rotation,scaleX:r.scaleX,scaleY:r.scaleY},o={x:a.x(),y:a.y(),rotation:a.rotation(),scaleX:a.scaleX(),scaleY:a.scaleY()};if(!p()(i,o)){var c=function(t){var a=e.comps.find((function(e){return e.id===n}));return a.x=t.x,a.y=t.y,a.rotation=t.rotation,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a},s=function(t){var a=e.konvaSceneLayer.findOne("#".concat(n));a.x(t.x),a.y(t.y),a.rotation(t.rotation),a.scaleX(t.scaleX),a.scaleY(t.scaleY),e.konvaSceneLayer.draw()};ie.applyChange({changeFn:function(e){var t=c(o);return e&&s(o),t},undoFn:function(){var e=c(i);return s(i),e}})}}))}))}},{key:"enableAnimateMode",value:function(){}},{key:"checkMounted",value:function(e){h(this.isMounted(),"".concat(this.diagClassName(),".").concat(e,"() can only be invoked after mounting."))}},{key:"mount",value:function(e){var t=this;this.containingKonvaStage=e,this.konvaSceneLayer=new he.a.Layer({id:this.id,x:this.x,y:this.y}),this.comps.forEach((function(e){return e.mount(t.konvaSceneLayer)})),e.add(this.konvaSceneLayer)}},{key:"isMounted",value:function(){return!!this.konvaSceneLayer}},{key:"unmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||this.konvaSceneLayer.destroy(),this.containingKonvaStage=null,this.konvaSceneLayer=null,this.comps.forEach((function(e){return e.unmount(!0)}))}},{key:"getSize",value:function(){if(this.sizeCache)return this.sizeCache;if(this.konvaSceneLayer){var e=this.sizeCache={width:10,height:10};this.konvaSceneLayer.getChildren().each((function(t,a){if("Transformer"!==t.getClassName()){var n=t.getClientRect();e.width=Math.max(e.width,n.x+n.width+ge),e.height=Math.max(e.height,n.y+n.height+ge)}}))}else this.sizeCache={width:100,height:100};return this.sizeCache}},{key:"bindSizeChanges",value:function(e,t){}}]),t}(me);Qe.unmangledName="Scene";var Ze=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,l=a.scenes,d=Object(r.a)(a,["id","name","scenes"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var m=h.prefix("".concat(e.diagClassName(),"(id:'").concat(n,"', name:'").concat(o,"') constructor parameter violation: "));return m(l,"scenes is required"),m(Array.isArray(l),"scenes must be an Scene[] array"),l.forEach((function(e,t){m(e instanceof Qe,"scenes[".concat(t,"] must be a Scene instance"))})),R(m,d,arguments),e.scenes=l,e.scenes.forEach((function(t){return t.setParent(Object(s.a)(e))})),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this)),["scenes"])}},{key:"enableViewMode",value:function(){this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!1)})),this.containingKonvaStage.off("dragend")}},{key:"enableEditMode",value:function(){var e=this;this.scenes.forEach((function(e){return e.konvaSceneLayer.draggable(!0)})),this.containingKonvaStage.on("dragend",(function(t){var a=t.target,n=a.id(),r=e.scenes.find((function(e){return e.id===n})),i={x:r.x,y:r.y},o={x:a.x(),y:a.y()},c=function(t){var a=e.scenes.find((function(e){return e.id===n}));return a.x=t.x,a.y=t.y,a},s=function(t){var a=e.containingKonvaStage.findOne("#".concat(n));a.x(t.x),a.y(t.y),e.containingKonvaStage.draw()};ie.applyChange({changeFn:function(e){var t=c(o);return e&&s(o),t},undoFn:function(){var e=c(i);return s(i),e}})}))}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e){this.containingKonvaStage=e,this.scenes.forEach((function(t){return t.mount(e)}))}},{key:"isMounted",value:function(){return!!this.containingKonvaStage}},{key:"unmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.containingKonvaStage=null,this.scenes.forEach((function(t){return t.unmount(e)}))}},{key:"childRefChanged",value:function(e,t){var a=this.scenes.indexOf(e);if(-1===a){var n="***ERROR*** ".concat(this.diagClassName(),".childRefChanged() [id:").concat(this.id,"]: could NOT find oldRef to replace (see logs for details)");throw console.error(n+"\n",{oldRef:e,newRef:t}),new Error(n)}this.scenes[a]=t}},{key:"getSize",value:function(){return this.sizeCache?this.sizeCache:(this.isMounted()?this.sizeCache=this.scenes.reduce((function(e,t){t.sizeCache=void 0;var a=t.getSize();return e.width=Math.max(e.width,a.width),e.height=Math.max(e.height,a.height),e}),{width:100,height:100}):this.sizeCache={width:200,height:200},this.sizeCache)}},{key:"bindSizeChanges",value:function(e,t){this.scenes.forEach((function(a){return a.bindSizeChanges(e,t)}))}}]),t}(me);Ze.unmangledName="Collage",I.registerPkg(new xe({id:"core",name:"core classes",entries:{core:[Ze,x,Qe,xe,Ye]}}));var et=a(24),tt=a.n(et),at=!1,nt=!1,rt=!0;function it(e,t,a){return e.replace(new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(t),"g"),a)}var ot=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.id,o=a.name,s=a.x,l=void 0===s?0:s,d=a.y,m=void 0===d?0:d,f=a.rotation,g=void 0===f?0:f,p=a.scaleX,v=void 0===p?1:p,b=a.scaleY,y=void 0===b?1:b,O=Object(r.a)(a,["id","name","x","y","rotation","scaleX","scaleY"]);Object(i.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this,{id:n,name:o}));var k=h.prefix("SmartComp() constructor parameter violation: ");return k(w(l),"x must be a number (when supplied), NOT: ".concat(l)),k(w(m),"y must be a number (when supplied), NOT: ".concat(m)),k(w(g),"rotation must be a number (when supplied), NOT: ".concat(g)),k(w(v),"scaleX must be a number (when supplied), NOT: ".concat(v)),k(w(y),"scaleY must be a number (when supplied), NOT: ".concat(y)),R(k,O,arguments),e.x=l,e.y=m,e.rotation=g,e.scaleX=v,e.scaleY=y,e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getEncodingProps",value:function(){return[].concat(Object(n.a)(Object(l.a)(Object(u.a)(t.prototype),"getEncodingProps",this).call(this)),[["x",0],["y",0],["rotation",0],["scaleX",1],["scaleY",1]])}},{key:"canHandleDispMode",value:function(e){return e!==M.edit}},{key:"enableViewMode",value:function(){}},{key:"enableEditMode",value:function(){}},{key:"enableAnimateMode",value:function(){}},{key:"mount",value:function(e){this.compGroup=new he.a.Group({id:this.id,x:this.x,y:this.y,rotation:this.rotation,scaleX:this.scaleX,scaleY:this.scaleY}),e.add(this.compGroup)}},{key:"isMounted",value:function(){return!!this.compGroup}},{key:"unmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||this.compGroup.destroy(),this.compGroup=null}}]),t}(le);ot.unmangledName="SmartComp";var ct=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(u.a)(t.prototype),"mount",this).call(this,e);var a=new he.a.Rect({x:10,width:100,height:50,fill:"green",stroke:"black",strokeWidth:5});this.compGroup.add(a);var n=new he.a.Circle({x:7.5,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(n);var r=new he.a.Circle({x:110,y:25,radius:5,fill:"black",stroke:"black",strokeWidth:5});this.compGroup.add(r);var i=new he.a.Group({x:0,y:0});this.compGroup.add(i);var o=new he.a.Circle({x:60,y:25,radius:10,fill:"red",stroke:"red",strokeWidth:1});i.add(o)}}]),t}(ot);ct.unmangledName="Valve1";var st=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(u.a)(t.prototype),"mount",this).call(this,e);var a=new he.a.Rect({width:100,height:50,fill:"red",shadowBlur:10,cornerRadius:10});this.compGroup.add(a)}}]),t}(ot);st.unmangledName="Valve2";var ut=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"mount",value:function(e){Object(l.a)(Object(u.a)(t.prototype),"mount",this).call(this,e);var a=new he.a.Rect({width:100,height:100,fill:"blue",cornerRadius:[0,10,20,30]});this.compGroup.add(a)}}]),t}(ot);ut.unmangledName="Valve3";var lt=new xe({id:"generalComps",name:"SandBox Comps",entries:{"Class Comps":[ct,st,ut]}});I.registerPkg(lt);var dt=be("***DIAG*** konvaSandboxSmartPkg ... ").disable(),mt=I.getClassRef("generalComps","Valve1"),ft=I.getClassRef("generalComps","Valve2"),ht=I.getClassRef("generalComps","Valve3"),gt=new Qe({id:"scene1",comps:[mt.createSmartObject({id:"myValve1",x:20,y:20}),ft.createSmartObject({id:"myValve2",x:150,y:40}),ht.createSmartObject({id:"myValve3",x:50,y:120})]}),pt=new Qe({id:"scene2",comps:[mt.createSmartObject({id:"myValve1",x:20,y:20}),ft.createSmartObject({id:"myValve2",x:150,y:40})]}),vt=new Oe(gt,"DUMMY-PKG-NAME").createSmartObject({id:"scene1Copy",x:0,y:0}),bt=new Oe(pt,"DUMMY-PKG-NAME").createSmartObject({id:"scene2Copy",x:300,y:250}),yt=new Ze({id:"collage1",name:"Collage 1",scenes:[vt,bt]}),Ot=new xe({id:"com.astx.KONVA",name:"Konva Sandbox I",entries:{scenes:[gt,{"More Depth":[pt]}],collages:[yt]}});I.registerPkg(Ot);var kt=Ot.smartClone();kt.id="cloned.pkg",kt.name="Cloned Pkg",kt.trickleUpChange(),kt.resetBaseCrc(),I.registerPkg(kt),dt("PERSISTENT TEST: JSONIZE smartPkg:\n",{konvaSandboxSmartPkg:Ot});var jt=Ot.toSmartJSON();dt("PERSISTENT TEST: HERE is the json:\n",{json:jt});var Et=Ot.id,Ct=Ot.name,St=JSON.stringify(jt,null,2);St=it(St,'"'.concat(Et,'"'),'"'.concat(Et,'2"')),dt('PERSISTENT TEST: HERE is the "pretty" jsonStr (after id changes):\n',St=it(St,'"'.concat(Ct,'"'),'"'.concat(Ct,'I"'))),dt("PERSISTENT TEST: HERE is the RE-HYDRATED smartPkg:\n",{rehydratedSmartPkg:xe.fromSmartJSON(JSON.parse(St))});var wt=Object(ve.createFeature)({name:"sandbox",enabled:rt,appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;var t=I.getPkg("generalComps");Me.addLeftNav(t);var a=I.getPkg("com.astx.KONVA");Me.addLeftNav(a);var n=I.getPkg("cloned.pkg");Me.addLeftNav(n)}}),Pt=a(49),Nt=a.n(Pt),Rt=a(77),Tt=a(225),It=a.n(Tt);function xt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=h.prefix("encode(ref) parameter violation: ");a(e,"ref is required"),a(C()(e)||j()(e),"ref must be a string -or- an object literal. NOT: ",e),a(!0===t||!1===t,"safeguard must be a boolean (true/false), NOT: ",t);var n=e;return j()(n)&&(n=At+JSON.stringify(n)),t&&(n=Ut+function(e){if(!window.btoa)throw new Error("*** ERROR *** encode(): ENCODING NOT supported by this browser (btoa).");return window.btoa(e)}(n)),n}function Mt(e){if(h.prefix("decode(ref) parameter violation: ")(e,"ref is required"),!C()(e))return e;var t=e;return 0===t.indexOf(Ut)&&(t=function(e){if(!window.atob)throw new Error("*** ERROR *** encode(): DECODING NOT supported by this browser (atob).");return window.atob(e)}(t=t.substring(Ut.length))),0===t.indexOf(At)&&(t=t.substring(At.length),t=JSON.parse(t)),t}var At="obj2str:",Ut="afesa";function zt(){return(zt=Object(Rt.a)(Nt.a.mark((function e(t){var a,n,r,i;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.showStatus,t.fassets,t.getState,t.dispatch,a("Initializing Firebase"),e.next=4,fetch("fbac");case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("**ERROR** Accessing /fbac resource was REJECTED with status: ".concat(n.status));case 7:return e.next=9,n.text();case 9:if(!(r=e.sent).includes("<html")){e.next=12;break}throw new Error("**ERROR** Non Existent Resource: /fbac");case 12:return i=Mt(r),e.next=15,It.a.initializeApp(i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dt=Object(ve.createFeature)({name:"initFirebase",enabled:at,appInit:function(e){return zt.apply(this,arguments)}}),Lt=ne.generateActions.root(Object(m.a)({},"baseUI",{toggleUITheme:{actionMeta:{}},setResponsiveMode:{actionMeta:{traits:["responsiveMode"]}},changeView:{actionMeta:{traits:["viewName"]}},addLeftNavItem:{actionMeta:{traits:["leftNavKey","LeftNavComp"]}},removeLeftNavItem:{actionMeta:{traits:["leftNavKey"]}}})),Ft=a(53),qt=a(46),Vt=a(60);function Bt(){}function Ht(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=h.prefix("storeItem() parameter violation: ");n(e,"key is required"),n(C()(e),"key must be a string, NOT: ",e),n(t,"ref is required"),n(C()(t)||j()(t),"ref must be a string -or- an object literal, NOT: ",t),n(!0===a||!1===a,"safeguard must be a boolean (true/false), NOT: ",a);var r=xt(t,a);_t.setItem(e,r)}function Jt(e){var t=h.prefix("fetchItem() parameter violation: ");t(e,"key is required"),t(C()(e),"key must be a string, NOT: ",e);var a=_t.getItem(e);return a?Mt(a):null}var Kt=function(e){var t;try{t=window[e];var a="__storage_test__";return t.setItem(a,a),t.removeItem(a),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage");Kt||console.warn("***WARNING*** deviceStorage module ... localStorage (Web Storage API) is NOT available in this browser ... all deviceStorage usage will silently no-op!!");var _t=Kt?{setItem:function(e,t){return window.localStorage.setItem(e,t)},getItem:function(e){return window.localStorage.getItem(e)},removeItem:function(e){return window.localStorage.removeItem(e)}}:{setItem:Bt,getItem:Bt,removeItem:Bt};var Gt="uiTheme";var Yt="responsiveMode",Wt=a(226);function Xt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function $t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Qt=Object(Vt.slicedReducer)("baseUI",Object(ve.expandWithFassets)((function(e){var t;return Object(Ft.combineReducers)({uiTheme:Object(qt.reducerHash)(Object(m.a)({},Lt.toggleUITheme,(function(e,t){return"dark"===e?"light":"dark"})),Jt(Gt)),responsiveMode:Object(qt.reducerHash)(Object(m.a)({},Lt.setResponsiveMode,(function(e,t){return t.responsiveMode})),Jt(Yt)||"sm"),curView:Object(qt.reducerHash)(Object(m.a)({},Lt.changeView,(function(e,t){return t.viewName})),"uninitialized"),leftNavItems:Object(qt.reducerHash)((t={},Object(m.a)(t,Lt.addLeftNavItem,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$t(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$t(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},Object(m.a)({},t.leftNavKey,{fn:t.LeftNavComp,fnRef:"hidden in Redux DevTools"}))})),Object(m.a)(t,Lt.removeLeftNavItem,(function(e,t){var a=t.leftNavKey;e[a];return Object(r.a)(e,[a].map(Xt))})),t),{})})}))),Zt=Qt,ea=function(e){return Qt.getSlicedState(e)},ta=function(e){return ea(e).uiTheme||"light"},aa=function(e){return ea(e).responsiveMode},na=Object(Wt.a)((function(e){return ea(e).leftNavItems}),(function(e){return Object.entries(e).map((function(e){var t,a=Object(f.a)(e,2),n=a[0],r=a[1];return[n,(t=r,t.fn)]})).sort((function(e,t){var a=Object(f.a)(e,1)[0],n=Object(f.a)(t,1)[0];return a.localeCompare(n)}))})),ra=a(118),ia=[Object(ra.b)({name:"".concat("baseUI",".persistUITheme"),type:String(Lt.toggleUITheme),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=ta(r()),Ht(Gt,n),a()}}),Object(ra.b)({name:"".concat("baseUI",".persistResponsiveMode"),type:String(Lt.setResponsiveMode),process:function(e,t,a){var n,r=e.getState;e.action,e.fassets;n=aa(r()),Ht(Yt,n),a()}})],oa=a(427),ca=a(129),sa=a(447),ua=a(434),la=a(437),da=a(436);function ma(){var e=fa(),t=Object(pe.useSelector)((function(e){return na(e)}),[]);return t.length<=0?null:L.a.createElement(ua.a,{className:e.leftNav,variant:"permanent",classes:{paper:e.leftNavPaper}},L.a.createElement(da.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our LeftNav isn't covered up by the AppBar"}),L.a.createElement(la.a,null,t.map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return L.a.createElement(n,{key:a})}))))}var fa=Object(q.a)((function(e){return{leftNav:{width:240,flexShrink:0},leftNavPaper:{width:240}}})),ha=a(438),ga=a(239),pa=a(227),va=a.n(pa);function ba(e){e.curUser;var t=Object(D.useState)(null),a=Object(f.a)(t,2),r=a[0],i=a[1],o=Object(D.useMemo)((function(){return Boolean(r)}),[r]),c=Object(D.useCallback)((function(e){return i(e.currentTarget)}),[]);Oa=Object(D.useCallback)((function(){return i(null)}),[]);var s=Object(ve.useFassets)("AppMotif.UserMenuItem.*@withKeys"),u=Object(D.useMemo)((function(){return Object(n.a)(s).sort((function(e,t){var a=Object(f.a)(e,1)[0],n=Object(f.a)(t,1)[0];return a.localeCompare(n)}))}),[s]);return L.a.createElement("div",null,L.a.createElement(ha.a,{color:"inherit",onClick:c},L.a.createElement(va.a,null)),L.a.createElement(ga.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:ya},u.map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return L.a.createElement(n,{key:a})}))))}function ya(){Oa&&Oa()}var Oa=null;function ka(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(Rt.a)(Nt.a.mark((function e(t){var a,n,r,i,o,c;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.prefix("openPkg() parameter violation: "),!t){e.next=6;break}a(t,'pkgResourcePath is currently NOT a supported param (omit it to activate the "interactive file picker dialog")'),a(123===t,"pkgResourcePath (when supplied) must be a YetUnknown"),e.next=8;break;case 6:if(window.chooseFileSystemEntries){e.next=8;break}throw new Error('***ERROR*** openPkg() the "Native File System API TRIAL" is NOT available in this environment :-(').defineAttemptingToMsg("use the interactive file picker dialog");case 8:if(n=null,!t){e.next=12;break}e.next=23;break;case 12:return e.prev=12,e.next=15,window.chooseFileSystemEntries({type:"openFile",accepts:[{description:"visualize-it file",extensions:["vit"],mimeTypes:["application/json"]}]});case 15:n=e.sent,e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(12),"The user aborted a request."!==e.t0.message){e.next=22;break}return e.abrupt("return");case 22:throw e.t0.defineAttemptingToMsg("use the file picker dialog");case 23:return e.next=25,n.getFile();case 25:return r=e.sent,e.next=28,r.text();case 28:i=e.sent,o=null,e.prev=30,o=JSON.parse(i),e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(30),new Error("INVALID JSON - ".concat(e.t1.message)).defineUserMsg("Please select a valid visualize-it package");case 37:return(c=xe.fromSmartJSON(o)).setPkgResourcePath(n),I.registerPkg(c),e.abrupt("return",c);case 41:case"end":return e.stop()}}),e,null,[[12,18],[30,34]])})))).apply(this,arguments)}function Ea(e){return Ca.apply(this,arguments)}function Ca(){return(Ca=Object(Rt.a)(Nt.a.mark((function e(t){var a,n,r,i,o,c,s=arguments;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>1&&void 0!==s[1]&&s[1],(n=h.prefix("savePkg() parameter violation: "))(t,"pkg is required"),n(t instanceof xe,"pkg must be a SmartPkg"),a&&n(!0===a||!1===a,"saveAs must be a boolean (when supplied)"),window.chooseFileSystemEntries){e.next=7;break}throw new Error('***ERROR*** savePkg() the "Native File System API TRIAL" is NOT available in this environment :-(').defineAttemptingToMsg("save a package to a local file system");case 7:if(a||!t.pkgResourcePath||!t.isInSync()){e.next=9;break}return e.abrupt("return","SaveNotNeeded");case 9:if(r=t.toSmartJSON(),i=JSON.stringify(r),o=a?void 0:t.getPkgResourcePath()){e.next=24;break}return e.prev=13,e.next=16,window.chooseFileSystemEntries({type:"saveFile",accepts:[{description:"visualize-it file",extensions:["vit"],mimeTypes:["application/json"]}]});case 16:o=e.sent,e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(13),"AbortError"!==e.t0.name){e.next=23;break}return e.abrupt("return","UserCancel");case 23:throw e.t0.defineAttemptingToMsg('select the file to save the "'.concat(t.getPkgName(),'" package'));case 24:return e.prev=24,e.next=27,o.createWriter();case 27:return c=e.sent,e.next=30,c.write(0,i);case 30:return e.next=32,c.close();case 32:e.next=38;break;case 34:throw e.prev=34,e.t1=e.catch(24),"NotAllowedError"===e.t1.name&&e.t1.defineUserMsg("User disallowed the file write"),e.t1.defineAttemptingToMsg('save the "'.concat(t.getPkgName(),'" package'));case 38:t.setPkgResourcePath(o),t.resetBaseCrc();case 40:case"end":return e.stop()}}),e,null,[[13,19],[24,34]])})))).apply(this,arguments)}var Sa="DYNAMIC_DEFAULT";function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err,a=e.showUser,n=void 0===a||a,i=e.logIt,o=void 0===i?Sa:i,c=Object(r.a)(e,["err","showUser","logIt"]);try{var s=h.prefix("discloseError() parameter violation: ");s(t,"err is required"),s(t instanceof Error,"err must be an Error object, NOT: ",t),s(!0===(n=n===Sa?t.isExpected():n)||!1===n,"showUser must be a boolean"),s(!0===(o=o===Sa?t.isUnexpected():o)||!1===o,"logIt must be a boolean"),R(s,c,arguments)}catch(l){return console.log("YIKES ... visualize-it's discloseError() was attempting to report on err: ",t),void console.log('HOWEVER AN INVOCATION PROBLEM was detected in the parameters passed to discloseError()!\n... discloseError() CANNOT throw an error (when used in a promise an "Unhandled promise rejection" will result)!!\n... PLEASE FIX THE FOLLOWING INVOCATION PROBLEM: ',l)}if(n&&(t.isUnexpected()?Q.error({msg:t.formatUserMsg(),actions:[{txt:"details",action:function(){ee.error({msg:"An unexpected error occurred:\n\n".concat(t,"\n\nIf this problem persists, please contact your tech support.")})}}]}):Q.warn({msg:t.formatUserMsg()})),o){var u=t.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(u+t),t.isUnexpected()&&(console.log("Stack Trace ..."),console.log(t))}}var Pa=a(439),Na=a(93);function Ra(){var e=Object(D.useState)(null),t=Object(f.a)(e,2),a=t[0],n=t[1],r=Object(D.useMemo)((function(){return Boolean(a)}),[a]),i=Object(D.useCallback)((function(e){return n(e.currentTarget)}),[]);Ia=Object(D.useCallback)((function(){return n(null)}),[]);var o=Object(ve.useFassets)(),c=Object(pe.useSelector)((function(e){return o.sel.getActiveTabId(e)}),[o]),s=!!c;return L.a.createElement("div",null,L.a.createElement(V.a,{color:"inherit",onClick:i},L.a.createElement(Na.a,{variant:"button",color:"inherit",noWrap:!0},"File")),L.a.createElement(ga.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:Ta},L.a.createElement(Pa.a,{onClick:xa},"Open ..."),L.a.createElement(Pa.a,{onClick:function(){return Aa(c)},disabled:!s},"Save"),L.a.createElement(Pa.a,{onClick:function(){return Aa(c,!0)},disabled:!s},"Save As ...")))}function Ta(){Ia&&Ia()}var Ia=null;function xa(){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(Rt.a)(Nt.a.mark((function e(){var t;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ta(),e.prev=1,e.next=4,ka();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:Me.addLeftNav(t),Q({msg:'"'.concat(t.getPkgName(),'" has been loaded in the Left Nav Menu')}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),wa({err:e.t0,logIt:!0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Aa(e){return Ua.apply(this,arguments)}function Ua(){return(Ua=Object(Rt.a)(Nt.a.mark((function e(t){var a,n,r,i=arguments;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]&&i[1],Ta(),e.prev=2,(n=za(t)).canPersist()){e.next=7;break}return Q.warn({msg:'The "'.concat(n.getPkgName(),'" package cannot be saved ... it contains code, which cannot be persisted!')}),e.abrupt("return");case 7:return e.next=9,Ea(n,a);case 9:"UserCancel"===(r=e.sent)||("SaveNotNeeded"===r?Q.warn({msg:'The "'.concat(n.getName(),'" package does NOT need to be saved ... you must first apply some changes')}):Q({msg:'The "'.concat(n.getPkgName(),'" package has been saved!')})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),wa({err:e.t0,logIt:!0});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function za(e){var t=Je.getTabController(e).getTarget().getPkg();return h(t,'***ERROR*** <FileMenu> "save/saveAs" operation ... could not locate the SmartPkg for the \''.concat(e,"' active tab :-(")),t}var Da=a(440),La=a(232),Fa=a.n(La),qa=ne.generateActions.root(Object(m.a)({},"toolBar",{dispModeChanged:{actionMeta:{traits:["dispMode"]}}})),Va=Object(Vt.slicedReducer)("toolBar",Object(ve.expandWithFassets)((function(e){var t;return Object(Ft.combineReducers)({dispMode:Object(qt.reducerHash)((t={},Object(m.a)(t,e.actions.activateTab,(function(e,t){return Je.getTabController(t.tabId).getTarget().getDispMode().enumKey})),Object(m.a)(t,qa.dispModeChanged,(function(e,t){return t.dispMode.enumKey})),t),M.view.enumKey)})}))),Ba=Va,Ha=function(e){return Va.getSlicedState(e)},Ja=function(e){return M.enumValueOf(Ha(e).dispMode)},Ka=a(229),_a=a.n(Ka),Ga=a(231),Ya=a.n(Ga),Wa=a(230),Xa=a.n(Wa),$a=a(452),Qa=a(454),Za=be("***DIAG*** <VitToolBar> ... ").disable();var en=Object(q.a)((function(e){return{title:{flexGrow:1}}}));function tn(){var e=Object(ve.useFassets)(),t=Object(pe.useSelector)((function(e){return Ja(e)}),[]),a=Object(pe.useSelector)((function(t){return e.sel.getActiveTabId(t)}),[e]),n=Object(pe.useDispatch)(),r=Object(D.useCallback)((function(e){var t=M.enumValueOf(e.target.value);Za("dispMode changed to: ".concat(t)),n(qa.dispModeChanged(t))}),[n]),i=Je.getTabController(a).getTarget(),o=Object(D.useState)(!1),c=Object(f.a)(o,2),s=c[0],u=c[1],l=function(){return u(!1)};return L.a.createElement(Qa.a,{title:"Display Mode",open:s},L.a.createElement(ha.a,null,L.a.createElement($a.a,{id:"dispMode",labelId:"dispModeLabel",value:t.enumKey,onMouseEnter:function(){return u(!0)},onMouseLeave:l,onMouseDown:l,onChange:r},Array.from(M).map((function(e){return L.a.createElement(Pa.a,{key:e.enumKey,value:e.enumKey,disabled:!i.canHandleDispMode(e)},e.enumKey)})))))}function an(){var e=Object(ve.useFassets)(),t=Object(pe.useSelector)((function(e){return Ja(e)}),[]),a=Object(pe.useSelector)((function(t){return e.sel.getActiveTabId(t)}),[e]),n=Je.getTabController(a).getTarget().getEPkgId(),r=Object(pe.useSelector)((function(t){return e.sel.isUndoAvail(t,n)}),[e,n]),i=Object(pe.useSelector)((function(t){return e.sel.isRedoAvail(t,n)}),[e,n]);return t!==M.edit?null:L.a.createElement(L.a.Fragment,null,L.a.createElement(Qa.a,{title:"Undo"},L.a.createElement("span",null,L.a.createElement(ha.a,{disabled:!r,onClick:function(){return ie.applyUndo(n)}},L.a.createElement(Xa.a,null)))),L.a.createElement(Qa.a,{title:"Redo"},L.a.createElement("span",null,L.a.createElement(ha.a,{disabled:!i,onClick:function(){return ie.applyRedo(n)}},L.a.createElement(Ya.a,null)))))}function nn(e){var t=e.children,a=Object(ve.useFassets)(),n=Object(pe.useSelector)((function(e){return a.sel.curView(e)}),[a]),r=rn(),i=a.get("AppMotif.auxViewContent.*@withKeys"),o=Object(D.useMemo)((function(){return function(e,t){var a="AppMotif.auxViewContent.".concat(e),n=t.find((function(e){return Object(f.a)(e,1)[0]===a}))||on;return Object(f.a)(n,2)[1]}(n,i)}),[n,i]),c=o.TitleComp,s=o.FooterComp;return L.a.createElement("div",{className:r.app},L.a.createElement(Da.a,{className:r.appBar,position:"fixed"}," ",L.a.createElement(da.a,{className:r.toolbar,variant:"dense",disableGutters:!1}," ",L.a.createElement(ha.a,{className:r.menuButton,color:"inherit",onClick:function(){Q.warn({msg:"Collapsable Left Nav (coming soon)!"})}},L.a.createElement(Fa.a,null)),L.a.createElement(Ra,null),L.a.createElement("div",{className:r.title},L.a.createElement(c,null)),L.a.createElement(ba,null))),L.a.createElement(ma,null),L.a.createElement("main",{className:r.content},L.a.createElement(da.a,{variant:"dense",comment:"spacer (hidden UNDER AppBar) so our main content isn't covered up by the AppBar"}),t),s&&L.a.createElement(Da.a,{className:r.bottomBar,position:"absolute"},L.a.createElement(da.a,{className:r.toolbar,variant:"dense",disableGutters:!1},L.a.createElement(s,null))))}var rn=Object(q.a)((function(e){return{app:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},bottomBar:{top:"auto",bottom:0},toolbar:{},menuButton:{marginRight:36},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto"}}}));var on=["AppMotif.auxViewContent.FALLBACK",{TitleComp:function(){var e=en(),t=Object(ve.useFassets)(),a=Object(pe.useSelector)((function(e){return t.sel.getActiveTabId(e)}),[t]);if(!a)return L.a.createElement(Na.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Visualize It");var n=Je.getTabController(a).getTarget().getPkg(),r=n.getPkgName()+(n.isInSync()?"":" **");return L.a.createElement(da.a,{variant:"dense"},L.a.createElement(Na.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title},r),L.a.createElement(an,null),L.a.createElement(Qa.a,{title:"Silly Fingerprint"},L.a.createElement(ha.a,{onClick:function(){return Q({msg:"Silly little fingerprint!"})}},L.a.createElement(_a.a,null))),L.a.createElement(tn,null))}}],cn=a(29),sn=a(441);var un=a(446),ln=a(443),dn=a(445),mn=a(444),fn=a(241),hn=a(173),gn=a(442),pn=(L.a.forwardRef((function(e,t){return L.a.createElement(fn.a,Object.assign({ref:t,timeout:"1000"},e))})),L.a.forwardRef((function(e,t){return L.a.createElement(hn.a,Object.assign({ref:t,direction:"right",timeout:"1000"},e))})),L.a.forwardRef((function(e,t){return L.a.createElement(gn.a,Object.assign({ref:t,timeout:"1000"},e))})));function vn(e){var t=e.msg,a=e.err,n=function(){var e=Object(cn.a)();return Object(sn.a)(e.breakpoints.down("xs"))}(),r=bn();return t?L.a.createElement(En,{msg:t,err:a,open:!0,fullScreen:n,classes:r}):L.a.createElement(yn,{fullScreen:n,classes:r})}vn.defaultProps={msg:"",err:null};var bn=Object(q.a)((function(e){return{title:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},progress:{margin:e.spacing(4)}}}));function yn(e){var t=e.fullScreen,a=e.classes,n=Object(D.useState)({msg:"",err:null}),r=Object(f.a)(n,2),i=r[0],o=r[1];if(kn&&kn!==o)throw new Error("***ERROR*** <SplashScreen/> (supporting the programmatic `splash(msg, [err])` API) should only be instantiated ONE TIME (in the app root DOM)");return kn=o,L.a.createElement(En,{msg:i.msg,err:i.err,open:!!i.msg,fullScreen:t,classes:a})}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!kn)throw new Error("***ERROR*** the programmatic `splash(msg, [err])` API requires <SplashScreen/> be instantiated in the app root DOM");kn({msg:e,err:t})}var kn=null,jn=null;function En(e){var t=e.msg,a=e.err,n=e.open,r=e.fullScreen,i=e.classes,o=a?L.a.createElement(L.a.Fragment,null,L.a.createElement("br",null),L.a.createElement(Na.a,{variant:"subtitle2",color:"secondary"},"Encountered ERROR: ",a.formatUserMsg()),L.a.createElement(V.a,{variant:"contained",color:"secondary",onClick:function(){ee.error({msg:"An unexpected error occurred:\n\n".concat(a,"\n\nIf this problem persists, please contact your tech support.")})}},L.a.createElement(Na.a,{variant:"subtitle2"},"Show Detail"))):null;if(a&&a!==jn){jn=a;var c=a.isUnexpected()?"*** Unexpected Error:\n\n":"*** Expected Error:\n\n";console.log(c+a),a.isUnexpected()&&(console.log("Stack Trace ..."),console.log(a))}return L.a.createElement(ln.a,{open:n,fullScreen:r,TransitionComponent:pn},L.a.createElement(mn.a,{className:i.title},L.a.createElement("center",{className:i.title},"Visualize It")),L.a.createElement(dn.a,null,L.a.createElement("center",null,L.a.createElement("br",null),L.a.createElement("img",{width:"120px",src:"visualize-it-logo.png",alt:"visualize-it"}),L.a.createElement("br",null),L.a.createElement(un.a,{className:i.progress,color:"secondary"}),L.a.createElement(Na.a,{variant:"body2"},t),o,L.a.createElement("br",null))))}function Cn(e){var t=e.children,a=Object(pe.useSelector)((function(e){return ta(e)}),[]),n=Object(D.useMemo)((function(){return"dark"===a?wn:Sn}),[a]),r=Pn();return L.a.createElement(oa.a,{theme:n},L.a.createElement(sa.a,null),L.a.createElement(B,null),L.a.createElement(vn,null),L.a.createElement("main",{className:r.main},L.a.createElement(nn,null,t)))}var Sn=Object(ca.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"light",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),wn=Object(ca.a)({typography:{useNextVariants:!0,fontSize:12},palette:{type:"dark",primary:{light:"#439889",main:"#00695c",dark:"#003d33",contrastText:"#f5f5f5"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#f5f5f5"}}}),Pn=Object(q.a)((function(e){return{main:{width:"auto",display:"block"}}})),Nn=a(455),Rn=a(448),Tn=a(233),In=a.n(Tn),xn=a(234),Mn=a.n(xn);function An(e){return L.a.createElement(Pa.a,Object.assign({},e,{onClick:function(){ya(),e.onClick&&e.onClick.apply(e,arguments)}}),e.children)}var Un=L.a.forwardRef((function(e,t){var a=Object(pe.useSelector)((function(e){return ta(e)}),[]),n=Object(D.useMemo)((function(){return"light"===a?In.a:Mn.a}),[a]),r=Object(D.useMemo)((function(){return"light"===a?"to dark":"to light"}),[a]),i=Object(pe.useDispatch)(),o=Object(D.useCallback)((function(){return i(Lt.toggleUITheme())}),[i]);return L.a.createElement("span",Object.assign({},e,{ref:t}),L.a.createElement(An,{onClick:o},L.a.createElement(Nn.a,{label:r,icon:L.a.createElement(n,null)})),L.a.createElement(Rn.a,null))})),zn=a(235),Dn=a.n(zn),Ln=L.a.forwardRef((function(e,t){var a=Object(pe.useSelector)((function(e){return aa(e)}),[]),r=Object(D.useMemo)((function(){return"off"===a?function(){return null}:Dn.a}),[a]),i=Object(pe.useDispatch)(),o=Object(D.useCallback)((function(){ae.success({msg:'This app is designed with mobile devices in mind (i.e. cell phones).\n\nWhen the "responsive" mode is enabled, selected screens will dynamically adjust to take advantage of the additional screen real estate.  As an example, a simple list can morph into a detailed table.\n\nYou can define the "responsive" boundary where additional content is manifest (based on the screen width), or disable it altogether.\n\nSet the "responsive" boundary to:\n(** is current)',actions:[].concat(Object(n.a)(qn(a,i)),[{txt:"Close"}])})}),[i,a]);return L.a.createElement("span",Object.assign({},e,{ref:t}),L.a.createElement(An,{onClick:o},L.a.createElement(Nn.a,{label:"responsive",icon:L.a.createElement(r,null)})),L.a.createElement(Rn.a,null))})),Fn=[{name:"Tablet",value:"sm"},{name:"Desktop",value:"md"},{name:"Landscape",value:"lg"},{name:"Disable",value:"off"}],qn=function(e,t){return Fn.map((function(a){return{txt:"".concat(e===a.value?"**":"").concat(a.name),action:function(){return t(Lt.setResponsiveMode(a.value))}}}))},Vn=L.a.forwardRef((function(e,t){return L.a.createElement("span",Object.assign({},e,{ref:t}),L.a.createElement(Rn.a,null),L.a.createElement(An,{onClick:Bn},"About ..."))}));function Bn(){var e="".concat("visualize-it","\n\n").concat("Your View into External Systems","\n\nversion: ").concat("0.1.0"),t=[];t.push({txt:"Close"}),ee.success({msg:e,actions:t})}var Hn,Jn=Object(ve.createFeature)({name:"baseUI",fassets:{define:{"actions.changeView":Lt.changeView,"sel.curView":function(e){return ea(e).curView},"actions.addLeftNavItem":Lt.addLeftNavItem,"actions.removeLeftNavItem":Lt.removeLeftNavItem},defineUse:{"AppMotif.UserMenuItem.aa1_UIThemeToggle":Un,"AppMotif.UserMenuItem.aa2_MaintainResponsiveMode":Ln,"AppMotif.UserMenuItem.zz8_About":Vn},use:[["AppMotif.UserMenuItem.*",{required:!0,type:ve.fassetValidations.comp}],["AppMotif.auxViewContent.*",{required:!1,type:ve.fassetValidations.any}]]},reducer:Zt,logic:ia,appWillStart:function(e){e.fassets;var t=e.curRootAppElm;return L.a.createElement(Cn,null,t)},appInit:function(e){e.showStatus;var t=e.fassets,a=(e.getState,e.dispatch);Me.injectDependency(t,a)}});function Kn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kn(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Gn=Object(Vt.slicedReducer)("changeManager",Object(Ft.combineReducers)({ePkgs:Object(qt.reducerHash)((Hn={},Object(m.a)(Hn,re.registerEPkg,Wn),Object(m.a)(Hn,re.ePkgChanged,Wn),Hn),{}),undoRedo:Object(qt.reducerHash)(Object(m.a)({},re.undoRedoChanged,(function(e,t){return _n({},e,{},Object(m.a)({},t.pkgEntryId,{undoAvail:t.undoAvail,redoAvail:t.redoAvail}))})),{})})),Yn=Gn;function Wn(e,t){var a=e,n=t.ePkgId,r=t.crc,i=t.baseCrc;return _n({},a,{},Object(m.a)({},n,{crc:r,baseCrc:i}))}var Xn,$n,Qn,Zn=function(e){return Gn.getSlicedState(e)},er=function(e,t){return Zn(e).undoRedo[t]||{undoAvail:!1,redoAvail:!1}},tr=Object(ve.createFeature)({name:"changeManager",fassets:{define:{"sel.isEPkgInSync":function(e,t){var a=function(e,t){return Zn(e).ePkgs[t]}(e,t);return!a||a.crc===a.baseCrc},"sel.isUndoAvail":function(e,t){return er(e,t).undoAvail},"sel.isRedoAvail":function(e,t){return er(e,t).redoAvail}}},reducer:Yn,appInit:function(e){e.showStatus,e.fassets,e.getState;var t=e.dispatch;ie.injectDependency(t)}}),ar=ne.generateActions.root(Object(m.a)({},"tabManager",{activateTab:{actionMeta:{traits:["tabId","preview"],ratify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[e,t]}}},closeTab:{actionMeta:{traits:["tabId"]}}})),nr=Object(Vt.slicedReducer)("tabManager",Object(Ft.combineReducers)({activeTabId:Object(qt.reducerHash)((Xn={},Object(m.a)(Xn,ar.activateTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),Object(m.a)(Xn,ar.closeTab,(function(e,t){return t.pgmDirectives.next_activeTabId})),Xn),null),previewTabId:Object(qt.reducerHash)(($n={},Object(m.a)($n,ar.activateTab,(function(e,t){return t.pgmDirectives.next_previewTabId})),Object(m.a)($n,ar.closeTab,(function(e,t){return e===t.tabId?null:e})),$n),null),tabs:Object(qt.reducerHash)((Qn={},Object(m.a)(Qn,ar.activateTab,(function(e,t){var a=e,r=t.tabId,i=t.tabName,o=t.pgmDirectives,c=o.removeTabId,s=o.addNewTab;return c&&(a=a.filter((function(e){return e.tabId!==c}))),s&&(a=[].concat(Object(n.a)(a),[{tabId:r,tabName:i}])),a})),Object(m.a)(Qn,ar.closeTab,(function(e,t){return e.filter((function(e){return e.tabId!==t.tabId}))})),Qn),[])})),rr=nr,ir=function(e){return nr.getSlicedState(e)},or=function(e){return ir(e).activeTabId},cr=function(e){return ir(e).previewTabId},sr=function(e){return ir(e).tabs},ur=function(e){return ir(e).tabs.length},lr=[Object(ra.b)({name:"".concat("tabManager",".supplementActivateTab"),type:String(ar.activateTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=r.tabId,c=r.preview,s=cr(i),u=sr(i).find((function(e){return o===e.tabId})),l=o,d=!!!u,m=s,f=null;d?c&&(m=o,f=s):c||o!==s||(m=null);var h=Je.getTabController(o);r.tabName=h?h.getTabName():"UNKNOWN",r.pgmDirectives={next_activeTabId:l,next_previewTabId:m,removeTabId:f,addNewTab:d},t(r)}}),Object(ra.b)({name:"".concat("tabManager",".supplementCloseTab"),type:String(ar.closeTab),transform:function(e,t,a){var n=e.getState,r=e.action,i=(e.fassets,n()),o=sr(i),c=o.findIndex((function(e){return r.tabId===e.tabId})),s=c===o.length-1?c-1:c+1,u=s<0?null:o[s].tabId;r.pgmDirectives={next_activeTabId:u},t(r)}}),Object(ra.b)({name:"".concat("tabManager",".syncTargetDispMode"),type:String(ar.activateTab),process:function(e,t,a){e.getState;var n=e.action;e.fassets;if(n.pgmDirectives.addNewTab){var r=Je.getTabController(n.tabId).getTarget();r.setDispMode(r.getDispMode())}a()}}),Object(ra.b)({name:"".concat("tabManager",".syncOutOfDateClasses"),type:String(ar.activateTab),process:function(e,t,a){e.getState;var n=e.action,r=(e.fassets,Je.getTabController(n.tabId).getTarget());if(r.areClassesOutOfSync()){var i=r.getView(),o=i.containingHtmlElm;i.unmount(),r.syncClassInstances(),i.mount(o),r.setDispMode(r.getDispMode())}a()}}),Object(ra.b)({name:"".concat("tabManager",".unmountKonva"),type:String(ar.closeTab),process:function(e,t,a){e.getState;var n=e.action;e.fassets;Je.getTabController(n.tabId).getTarget().getView().unmount(),a()}})],dr=a(141),mr=a(451),fr=a(236),hr=a.n(fr),gr=a(450),pr=a(449),vr=a(453),br=be("***DIAG*** <TabManager> ... ").disable();function yr(){var e=Or(),t=Object(pe.useSelector)((function(e){return or(e)}),[]),a=Object(pe.useSelector)((function(e){return cr(e)}),[]),n=Object(pe.useSelector)((function(e){return sr(e)}),[]),r=Object(pe.useDispatch)(),i=Object(D.useCallback)((function(e,t){br("handleTabChanged('".concat(t,"')")),r(ar.activateTab(t))}),[r]);return br("rendering"),L.a.createElement(L.a.Fragment,null,L.a.createElement(Da.a,{position:"static",color:"default"},L.a.createElement(vr.a,{value:t,onChange:i,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},n.map((function(t){var n=Je.getTabController(t.tabId).getTarget(),i=t.tabName+(n.isInSync()?"":" **");return L.a.createElement(pr.a,{className:t.tabId===a?e.tabPreview:e.tabPermanent,key:t.tabId,value:t.tabId,label:L.a.createElement(gr.a,{container:!0,justify:"space-between"},L.a.createElement(gr.a,{item:!0},L.a.createElement(Na.a,{variant:"subtitle2",color:"inherit"},i)),L.a.createElement(gr.a,{item:!0},L.a.createElement(hr.a,{onClick:function(e){return a=e,n=t.tabId,br("in handleCloseTab: ",n),a.stopPropagation(),void r(ar.closeTab(n));var a,n}})))})})))),n.map((function(e){var a=Je.getTabController(e.tabId).getTabPanelComp();return L.a.createElement(kr,{key:e.tabId,tabId:e.tabId,activeTabId:t},L.a.createElement(a,null))})))}var Or=Object(q.a)((function(e){return{tabPreview:{fontStyle:"italic"},tabPermanent:{}}})),kr=function(e){var t=e.tabId,a=e.activeTabId,n=e.children;return L.a.createElement(qe.a,{hidden:t!==a,style:{height:"calc(100% - 97px)"}},L.a.createElement(mr.a,{padding:1},n))};function jr(e){var t=e.children;return L.a.createElement(gr.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},t)}function Er(){var e=Cr();return L.a.createElement(qe.a,{className:e.root,style:{height:"calc(100% - 48px)"}},L.a.createElement(jr,null,L.a.createElement("img",{src:"visualize-it-logo.png",width:"300",alt:"Logo",className:e.entry})),L.a.createElement(jr,null,L.a.createElement(Na.a,{variant:"h4",color:"inherit",noWrap:!0,className:e.entry},"Your View into External Systems!")),L.a.createElement(jr,null,L.a.createElement("img",{src:"visualize-it-logo-eyes.jpg",alt:"Logo Eyes",className:e.entry})))}var Cr=Object(q.a)((function(e){return{root:{padding:e.spacing(3,2,15)},entry:{marginTop:e.spacing(2)}}})),Sr=[Object(dr.featureRoute)({content:function(e){e.fassets;var t=e.appState;return 0===ur(t)?L.a.createElement(Er,null):L.a.createElement(yr,null)}})],wr=Object(ve.createFeature)({name:"tabManager",fassets:{define:{"actions.activateTab":ar.activateTab,"actions.closeTab":ar.closeTab,"sel.getTotalTabs":ur,"sel.getActiveTabId":or}},reducer:rr,logic:lr,route:Sr}),Pr=[Object(ra.b)({name:"".concat("toolBar",".syncDispModeChangesToObjectModel"),type:String(qa.dispModeChanged),process:function(e,t,a){var n=e.getState,r=e.action,i=e.fassets,o=n(),c=i.sel.getActiveTabId(o);Je.getTabController(c).getTarget().setDispMode(r.dispMode),a()}})],Nr=Object(ve.createFeature)({name:"toolBar",reducer:Ba,logic:Pr}),Rr=null,Tr=[Object(ra.b)({name:"".concat("logActions",".actionLogger"),type:"*",transform:function(e,t){e.getState;var a=e.action;"verbose"===nt&&console.group("Action: ".concat(a.type)),console.log("Dispatched Action: ",a),t(a)},process:function(e,t,a){var n=e.getState;e.action,e.fassets;if("verbose"===nt){var r=n();r===Rr?console.log("Current State: UNCHANGED"):console.log("Current State: ",r),Rr=r,console.groupEnd()}a()}})],Ir=Object(ve.createFeature)({name:"logActions",enabled:!!nt,logic:Tr});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xr=[wt,Jn,tr,wr,Nr,Dt,Object(ve.createFeature)({name:"pwa",appInit:function(e){e.showStatus,e.fassets,e.getState,e.dispatch;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}),Ir],Mr=a(237),Ar=[Object(Vt.createReducerAspect)(),Object(Mr.createLogicAspect)(),Object(dr.createRouteAspect)({fallbackElm:L.a.createElement(vn,{msg:"I'm trying to think but it hurts!"})})],Ur=Object(ve.launchApp)({features:xr,aspects:Ar,registerRootAppElm:function(e){tt.a.render(e,document.getElementById("root"))},showStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;On(e,t)}});a.d(t,"default",(function(){return Ur}))}},[[258,1,2]]]);
//# sourceMappingURL=main.79ceb1f7.chunk.js.map